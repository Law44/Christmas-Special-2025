(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Cd={exports:{}},gl={};var I_;function pS(){if(I_)return gl;I_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return gl.Fragment=e,gl.jsx=i,gl.jsxs=i,gl}var N_;function yS(){return N_||(N_=1,Cd.exports=pS()),Cd.exports}var L=yS(),Id={exports:{}},Ae={};var D_;function _S(){if(D_)return Ae;D_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),D=Symbol.iterator;function q(N){return N===null||typeof N!="object"?null:(N=D&&N[D]||N["@@iterator"],typeof N=="function"?N:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,$={};function le(N,Q,te){this.props=N,this.context=Q,this.refs=$,this.updater=te||Z}le.prototype.isReactComponent={},le.prototype.setState=function(N,Q){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Q,"setState")},le.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function de(){}de.prototype=le.prototype;function re(N,Q,te){this.props=N,this.context=Q,this.refs=$,this.updater=te||Z}var De=re.prototype=new de;De.constructor=re,W(De,le.prototype),De.isPureReactComponent=!0;var je=Array.isArray;function we(){}var I={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(N,Q,te){var se=te.ref;return{$$typeof:r,type:N,key:Q,ref:se!==void 0?se:null,props:te}}function x(N,Q){return R(N.type,Q,N.props)}function O(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function V(N){var Q={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(te){return Q[te]})}var b=/\/+/g;function he(N,Q){return typeof N=="object"&&N!==null&&N.key!=null?V(""+N.key):Q.toString(36)}function me(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(we,we):(N.status="pending",N.then(function(Q){N.status==="pending"&&(N.status="fulfilled",N.value=Q)},function(Q){N.status==="pending"&&(N.status="rejected",N.reason=Q)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function j(N,Q,te,se,ye){var Te=typeof N;(Te==="undefined"||Te==="boolean")&&(N=null);var Ie=!1;if(N===null)Ie=!0;else switch(Te){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(N.$$typeof){case r:case e:Ie=!0;break;case S:return Ie=N._init,j(Ie(N._payload),Q,te,se,ye)}}if(Ie)return ye=ye(N),Ie=se===""?"."+he(N,0):se,je(ye)?(te="",Ie!=null&&(te=Ie.replace(b,"$&/")+"/"),j(ye,Q,te,"",function(nn){return nn})):ye!=null&&(O(ye)&&(ye=x(ye,te+(ye.key==null||N&&N.key===ye.key?"":(""+ye.key).replace(b,"$&/")+"/")+Ie)),Q.push(ye)),1;Ie=0;var nt=se===""?".":se+":";if(je(N))for(var Ge=0;Ge<N.length;Ge++)se=N[Ge],Te=nt+he(se,Ge),Ie+=j(se,Q,te,Te,ye);else if(Ge=q(N),typeof Ge=="function")for(N=Ge.call(N),Ge=0;!(se=N.next()).done;)se=se.value,Te=nt+he(se,Ge++),Ie+=j(se,Q,te,Te,ye);else if(Te==="object"){if(typeof N.then=="function")return j(me(N),Q,te,se,ye);throw Q=String(N),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function ee(N,Q,te){if(N==null)return N;var se=[],ye=0;return j(N,se,"","",function(Te){return Q.call(te,Te,ye++)}),se}function ie(N){if(N._status===-1){var Q=N._result;Q=Q(),Q.then(function(te){(N._status===0||N._status===-1)&&(N._status=1,N._result=te)},function(te){(N._status===0||N._status===-1)&&(N._status=2,N._result=te)}),N._status===-1&&(N._status=0,N._result=Q)}if(N._status===1)return N._result.default;throw N._result}var _e=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},Oe={map:ee,forEach:function(N,Q,te){ee(N,function(){Q.apply(this,arguments)},te)},count:function(N){var Q=0;return ee(N,function(){Q++}),Q},toArray:function(N){return ee(N,function(Q){return Q})||[]},only:function(N){if(!O(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Ae.Activity=A,Ae.Children=Oe,Ae.Component=le,Ae.Fragment=i,Ae.Profiler=l,Ae.PureComponent=re,Ae.StrictMode=a,Ae.Suspense=_,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(N){return I.H.useMemoCache(N)}},Ae.cache=function(N){return function(){return N.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(N,Q,te){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var se=W({},N.props),ye=N.key;if(Q!=null)for(Te in Q.key!==void 0&&(ye=""+Q.key),Q)!w.call(Q,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&Q.ref===void 0||(se[Te]=Q[Te]);var Te=arguments.length-2;if(Te===1)se.children=te;else if(1<Te){for(var Ie=Array(Te),nt=0;nt<Te;nt++)Ie[nt]=arguments[nt+2];se.children=Ie}return R(N.type,ye,se)},Ae.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},Ae.createElement=function(N,Q,te){var se,ye={},Te=null;if(Q!=null)for(se in Q.key!==void 0&&(Te=""+Q.key),Q)w.call(Q,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ye[se]=Q[se]);var Ie=arguments.length-2;if(Ie===1)ye.children=te;else if(1<Ie){for(var nt=Array(Ie),Ge=0;Ge<Ie;Ge++)nt[Ge]=arguments[Ge+2];ye.children=nt}if(N&&N.defaultProps)for(se in Ie=N.defaultProps,Ie)ye[se]===void 0&&(ye[se]=Ie[se]);return R(N,Te,ye)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(N){return{$$typeof:g,render:N}},Ae.isValidElement=O,Ae.lazy=function(N){return{$$typeof:S,_payload:{_status:-1,_result:N},_init:ie}},Ae.memo=function(N,Q){return{$$typeof:p,type:N,compare:Q===void 0?null:Q}},Ae.startTransition=function(N){var Q=I.T,te={};I.T=te;try{var se=N(),ye=I.S;ye!==null&&ye(te,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(we,_e)}catch(Te){_e(Te)}finally{Q!==null&&te.types!==null&&(Q.types=te.types),I.T=Q}},Ae.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ae.use=function(N){return I.H.use(N)},Ae.useActionState=function(N,Q,te){return I.H.useActionState(N,Q,te)},Ae.useCallback=function(N,Q){return I.H.useCallback(N,Q)},Ae.useContext=function(N){return I.H.useContext(N)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(N,Q){return I.H.useDeferredValue(N,Q)},Ae.useEffect=function(N,Q){return I.H.useEffect(N,Q)},Ae.useEffectEvent=function(N){return I.H.useEffectEvent(N)},Ae.useId=function(){return I.H.useId()},Ae.useImperativeHandle=function(N,Q,te){return I.H.useImperativeHandle(N,Q,te)},Ae.useInsertionEffect=function(N,Q){return I.H.useInsertionEffect(N,Q)},Ae.useLayoutEffect=function(N,Q){return I.H.useLayoutEffect(N,Q)},Ae.useMemo=function(N,Q){return I.H.useMemo(N,Q)},Ae.useOptimistic=function(N,Q){return I.H.useOptimistic(N,Q)},Ae.useReducer=function(N,Q,te){return I.H.useReducer(N,Q,te)},Ae.useRef=function(N){return I.H.useRef(N)},Ae.useState=function(N){return I.H.useState(N)},Ae.useSyncExternalStore=function(N,Q,te){return I.H.useSyncExternalStore(N,Q,te)},Ae.useTransition=function(){return I.H.useTransition()},Ae.version="19.2.1",Ae}var O_;function sh(){return O_||(O_=1,Id.exports=_S()),Id.exports}var Ht=sh(),Nd={exports:{}},pl={},Dd={exports:{}},Od={};var M_;function vS(){return M_||(M_=1,(function(r){function e(j,ee){var ie=j.length;j.push(ee);e:for(;0<ie;){var _e=ie-1>>>1,Oe=j[_e];if(0<l(Oe,ee))j[_e]=ee,j[ie]=Oe,ie=_e;else break e}}function i(j){return j.length===0?null:j[0]}function a(j){if(j.length===0)return null;var ee=j[0],ie=j.pop();if(ie!==ee){j[0]=ie;e:for(var _e=0,Oe=j.length,N=Oe>>>1;_e<N;){var Q=2*(_e+1)-1,te=j[Q],se=Q+1,ye=j[se];if(0>l(te,ie))se<Oe&&0>l(ye,te)?(j[_e]=ye,j[se]=ie,_e=se):(j[_e]=te,j[Q]=ie,_e=Q);else if(se<Oe&&0>l(ye,ie))j[_e]=ye,j[se]=ie,_e=se;else break e}}return ee}function l(j,ee){var ie=j.sortIndex-ee.sortIndex;return ie!==0?ie:j.id-ee.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var _=[],p=[],S=1,A=null,D=3,q=!1,Z=!1,W=!1,$=!1,le=typeof setTimeout=="function"?setTimeout:null,de=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function De(j){for(var ee=i(p);ee!==null;){if(ee.callback===null)a(p);else if(ee.startTime<=j)a(p),ee.sortIndex=ee.expirationTime,e(_,ee);else break;ee=i(p)}}function je(j){if(W=!1,De(j),!Z)if(i(_)!==null)Z=!0,we||(we=!0,V());else{var ee=i(p);ee!==null&&me(je,ee.startTime-j)}}var we=!1,I=-1,w=5,R=-1;function x(){return $?!0:!(r.unstable_now()-R<w)}function O(){if($=!1,we){var j=r.unstable_now();R=j;var ee=!0;try{e:{Z=!1,W&&(W=!1,de(I),I=-1),q=!0;var ie=D;try{t:{for(De(j),A=i(_);A!==null&&!(A.expirationTime>j&&x());){var _e=A.callback;if(typeof _e=="function"){A.callback=null,D=A.priorityLevel;var Oe=_e(A.expirationTime<=j);if(j=r.unstable_now(),typeof Oe=="function"){A.callback=Oe,De(j),ee=!0;break t}A===i(_)&&a(_),De(j)}else a(_);A=i(_)}if(A!==null)ee=!0;else{var N=i(p);N!==null&&me(je,N.startTime-j),ee=!1}}break e}finally{A=null,D=ie,q=!1}ee=void 0}}finally{ee?V():we=!1}}}var V;if(typeof re=="function")V=function(){re(O)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,he=b.port2;b.port1.onmessage=O,V=function(){he.postMessage(null)}}else V=function(){le(O,0)};function me(j,ee){I=le(function(){j(r.unstable_now())},ee)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(j){j.callback=null},r.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<j?Math.floor(1e3/j):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(j){switch(D){case 1:case 2:case 3:var ee=3;break;default:ee=D}var ie=D;D=ee;try{return j()}finally{D=ie}},r.unstable_requestPaint=function(){$=!0},r.unstable_runWithPriority=function(j,ee){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var ie=D;D=j;try{return ee()}finally{D=ie}},r.unstable_scheduleCallback=function(j,ee,ie){var _e=r.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?_e+ie:_e):ie=_e,j){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=ie+Oe,j={id:S++,callback:ee,priorityLevel:j,startTime:ie,expirationTime:Oe,sortIndex:-1},ie>_e?(j.sortIndex=ie,e(p,j),i(_)===null&&j===i(p)&&(W?(de(I),I=-1):W=!0,me(je,ie-_e))):(j.sortIndex=Oe,e(_,j),Z||q||(Z=!0,we||(we=!0,V()))),j},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(j){var ee=D;return function(){var ie=D;D=ee;try{return j.apply(this,arguments)}finally{D=ie}}}})(Od)),Od}var x_;function ES(){return x_||(x_=1,Dd.exports=vS()),Dd.exports}var Md={exports:{}},Kt={};var V_;function TS(){if(V_)return Kt;V_=1;var r=sh();function e(_){var p="https://react.dev/errors/"+_;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)p+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+_+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,p,S){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:_,containerInfo:p,implementation:S}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,p){if(_==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Kt.createPortal=function(_,p){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(_,p,null,S)},Kt.flushSync=function(_){var p=d.T,S=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=p,a.p=S,a.d.f()}},Kt.preconnect=function(_,p){typeof _=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(_,p))},Kt.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Kt.preinit=function(_,p){if(typeof _=="string"&&p&&typeof p.as=="string"){var S=p.as,A=g(S,p.crossOrigin),D=typeof p.integrity=="string"?p.integrity:void 0,q=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;S==="style"?a.d.S(_,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:A,integrity:D,fetchPriority:q}):S==="script"&&a.d.X(_,{crossOrigin:A,integrity:D,fetchPriority:q,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Kt.preinitModule=function(_,p){if(typeof _=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var S=g(p.as,p.crossOrigin);a.d.M(_,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(_)},Kt.preload=function(_,p){if(typeof _=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var S=p.as,A=g(S,p.crossOrigin);a.d.L(_,S,{crossOrigin:A,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Kt.preloadModule=function(_,p){if(typeof _=="string")if(p){var S=g(p.as,p.crossOrigin);a.d.m(_,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(_)},Kt.requestFormReset=function(_){a.d.r(_)},Kt.unstable_batchedUpdates=function(_,p){return _(p)},Kt.useFormState=function(_,p,S){return d.H.useFormState(_,p,S)},Kt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Kt.version="19.2.1",Kt}var k_;function SS(){if(k_)return Md.exports;k_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Md.exports=TS(),Md.exports}var U_;function AS(){if(U_)return pl;U_=1;var r=ES(),e=sh(),i=SS();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(a(188))}function p(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),t;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var y=!1,E=h.child;E;){if(E===s){y=!0,s=h,o=f;break}if(E===o){y=!0,o=h,s=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===s){y=!0,s=f,o=h;break}if(E===o){y=!0,o=f,s=h;break}E=E.sibling}if(!y)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,D=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),le=Symbol.for("react.profiler"),de=Symbol.for("react.consumer"),re=Symbol.for("react.context"),De=Symbol.for("react.forward_ref"),je=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var b=Symbol.for("react.client.reference");function he(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===b?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case le:return"Profiler";case $:return"StrictMode";case je:return"Suspense";case we:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Z:return"Portal";case re:return t.displayName||"Context";case de:return(t._context.displayName||"Context")+".Consumer";case De:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:he(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return he(t(n))}catch{}}return null}var me=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},_e=[],Oe=-1;function N(t){return{current:t}}function Q(t){0>Oe||(t.current=_e[Oe],_e[Oe]=null,Oe--)}function te(t,n){Oe++,_e[Oe]=t.current,t.current=n}var se=N(null),ye=N(null),Te=N(null),Ie=N(null);function nt(t,n){switch(te(Te,n),te(ye,t),te(se,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Jy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Jy(n),t=$y(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(se),te(se,t)}function Ge(){Q(se),Q(ye),Q(Te)}function nn(t){t.memoizedState!==null&&te(Ie,t);var n=se.current,s=$y(n,t.type);n!==s&&(te(ye,t),te(se,s))}function mn(t){ye.current===t&&(Q(se),Q(ye)),Ie.current===t&&(Q(Ie),hl._currentValue=ie)}var jn,sn;function gn(t){if(jn===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);jn=n&&n[1]||"",sn=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jn+t+sn}var co=!1;function hr(t,n){if(!t||co)return"";co=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(G){var B=G}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(G){B=G}t.call(Y.prototype)}}else{try{throw Error()}catch(G){B=G}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(G){if(G&&B&&typeof G.stack=="string")return[G.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var C=y.split(`
`),z=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var F=`
`+C[o].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=o&&0<=h);break}}}finally{co=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?gn(s):""}function ho(t,n){switch(t.tag){case 26:case 27:case 5:return gn(t.type);case 16:return gn("Lazy");case 13:return t.child!==n&&n!==null?gn("Suspense Fallback"):gn("Suspense");case 19:return gn("SuspenseList");case 0:case 15:return hr(t.type,!1);case 11:return hr(t.type.render,!1);case 1:return hr(t.type,!0);case 31:return gn("Activity");default:return""}}function fo(t){try{var n="",s=null;do n+=ho(t,s),s=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var yt=Object.prototype.hasOwnProperty,Nt=r.unstable_scheduleCallback,us=r.unstable_cancelCallback,Ih=r.unstable_shouldYield,Kl=r.unstable_requestPaint,$t=r.unstable_now,fr=r.unstable_getCurrentPriorityLevel,mo=r.unstable_ImmediatePriority,go=r.unstable_UserBlockingPriority,cs=r.unstable_NormalPriority,Nh=r.unstable_LowPriority,Yl=r.unstable_IdlePriority,Xl=r.log,Zl=r.unstable_setDisableYieldValue,Bn=null,Lt=null;function Rn(t){if(typeof Xl=="function"&&Zl(t),Lt&&typeof Lt.setStrictMode=="function")try{Lt.setStrictMode(Bn,t)}catch{}}var ft=Math.clz32?Math.clz32:$l,Jl=Math.log,Jr=Math.LN2;function $l(t){return t>>>=0,t===0?32:31-(Jl(t)/Jr|0)|0}var ti=256,dr=262144,_t=4194304;function ni(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ii(t,n,s){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ni(o):(y&=E,y!==0?h=ni(y):s||(s=E&~t,s!==0&&(h=ni(s))))):(E=o&~f,E!==0?h=ni(E):y!==0?h=ni(y):s||(s=o&~t,s!==0&&(h=ni(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function qn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Dh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wl(){var t=_t;return _t<<=1,(_t&62914560)===0&&(_t=4194304),t}function si(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function mr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Oh(t,n,s,o,h,f){var y=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,z=t.hiddenUpdates;for(s=y&~s;0<s;){var F=31-ft(s),Y=1<<F;E[F]=0,C[F]=-1;var B=z[F];if(B!==null)for(z[F]=null,F=0;F<B.length;F++){var G=B[F];G!==null&&(G.lane&=-536870913)}s&=~Y}o!==0&&gr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function gr(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-ft(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|s&261930}function po(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var o=31-ft(s),h=1<<o;h&n|t[o]&n&&(t[o]|=n),s&=~h}}function yo(t,n){var s=n&-n;return s=(s&42)!==0?1:pr(s),(s&(t.suspendedLanes|n))!==0?0:s}function pr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ui(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function eu(){var t=ee.p;return t!==0?t:(t=window.event,t===void 0?32:T_(t.type))}function Hn(t,n){var s=ee.p;try{return ee.p=t,n()}finally{ee.p=s}}var Gn=Math.random().toString(36).slice(2),vt="__reactFiber$"+Gn,xt="__reactProps$"+Gn,ri="__reactContainer$"+Gn,$r="__reactEvents$"+Gn,Mh="__reactListeners$"+Gn,tu="__reactHandles$"+Gn,nu="__reactResources$"+Gn,ai="__reactMarker$"+Gn;function Wr(t){delete t[vt],delete t[xt],delete t[$r],delete t[Mh],delete t[tu]}function oi(t){var n=t[vt];if(n)return n;for(var s=t.parentNode;s;){if(n=s[ri]||s[vt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=r_(t);t!==null;){if(s=t[vt])return s;t=r_(t)}return n}t=s,s=t.parentNode}return null}function Cn(t){if(t=t[vt]||t[ri]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function pn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function li(t){var n=t[nu];return n||(n=t[nu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Et(t){t[ai]=!0}var _o=new Set,vo={};function ui(t,n){ci(t,n),ci(t+"Capture",n)}function ci(t,n){for(vo[t]=n,t=0;t<n.length;t++)_o.add(n[t])}var Eo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),To={},So={};function iu(t){return yt.call(So,t)?!0:yt.call(To,t)?!1:Eo.test(t)?So[t]=!0:(To[t]=!0,!1)}function ea(t,n,s){if(iu(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function yn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Tt(t,n,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+o)}}function Vt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ao(t,n,s){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){s=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(y){s=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ye(t){if(!t._valueTracker){var n=hs(t)?"checked":"value";t._valueTracker=Ao(t,n,""+t[n])}}function yr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return t&&(o=hs(t)?t.checked?"true":"false":t.value),t=o,t!==s?(n.setValue(t),!0):!1}function hi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var _r=/[\n"\\]/g;function rn(t){return t.replace(_r,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ta(t,n,s,o,h,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Vt(n)):t.value!==""+Vt(n)&&(t.value=""+Vt(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?bo(t,y,Vt(n)):s!=null?bo(t,y,Vt(s)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Vt(E):t.removeAttribute("name")}function su(t,n,s,o,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ye(t);return}s=s!=null?""+Vt(s):"",n=n!=null?""+Vt(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),Ye(t)}function bo(t,n,s){n==="number"&&hi(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function fs(t,n,s,o){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&o&&(t[s].defaultSelected=!0)}else{for(s=""+Vt(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function ru(t,n,s){if(n!=null&&(n=""+Vt(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Vt(s):""}function ds(t,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(me(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Vt(n),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o),Ye(t)}function an(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var au=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wo(t,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,s):typeof s!="number"||s===0||au.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function Ro(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&wo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&wo(t,f,n[f])}function na(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ou=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ms=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ia(t){return ms.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Fn(){}var Co=null;function In(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gs=null,fi=null;function vr(t){var n=Cn(t);if(n&&(t=n.stateNode)){var s=t[xt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ta(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==t&&o.form===t.form){var h=o[xt]||null;if(!h)throw Error(a(90));ta(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===t.form&&yr(o)}break e;case"textarea":ru(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&fs(t,!!s.multiple,n,!1)}}}var sa=!1;function ps(t,n,s){if(sa)return t(n,s);sa=!0;try{var o=t(n);return o}finally{if(sa=!1,(gs!==null||fi!==null)&&(ec(),gs&&(n=gs,t=fi,fi=gs=null,vr(n),t)))for(n=0;n<t.length;n++)vr(t[n])}}function Qn(t,n){var s=t.stateNode;if(s===null)return null;var o=s[xt]||null;if(o===null)return null;s=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Er=!1;if(Nn)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){Er=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{Er=!1}var di=null,Io=null,Tr=null;function No(){if(Tr)return Tr;var t,n=Io,s=n.length,o,h="value"in di?di.value:di.textContent,f=h.length;for(t=0;t<s&&n[t]===h[t];t++);var y=s-t;for(o=1;o<=y&&n[s-o]===h[f-o];o++);return Tr=h.slice(t,1<o?1-o:void 0)}function Sr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Li(){return!0}function Kn(){return!1}function Pt(t){function n(s,o,h,f,y){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Li:Kn,this.isPropagationStopped=Kn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),n}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=Pt(Pi),ys=A({},Pi,{view:0,detail:0}),Do=Pt(ys),_s,ra,gi,aa=A({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gi&&(gi&&t.type==="mousemove"?(_s=t.screenX-gi.screenX,ra=t.screenY-gi.screenY):ra=_s=0,gi=t),_s)},movementY:function(t){return"movementY"in t?t.movementY:ra}}),Oo=Pt(aa),Ar=A({},aa,{dataTransfer:0}),lu=Pt(Ar),uu=A({},ys,{relatedTarget:0}),br=Pt(uu),Mo=A({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),cu=Pt(Mo),oa=A({},Pi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hu=Pt(oa),fu=A({},Pi,{data:0}),pi=Pt(fu),du={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=gu[t])?!!n[t]:!1}function vs(){return pu}var Wt=A({},ys,{key:function(t){if(t.key){var n=du[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Sr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vs,charCode:function(t){return t.type==="keypress"?Sr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Sr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yu=Pt(Wt),_u=A({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zi=Pt(_u),u=A({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vs}),m=Pt(u),v=A({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Pt(v),U=A({},aa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=Pt(U),ne=A({},Pi,{newState:0,oldState:0}),Re=Pt(ne),dt=[9,13,27,32],Fe=Nn&&"CompositionEvent"in window,at=null;Nn&&"documentMode"in document&&(at=document.documentMode);var Dn=Nn&&"TextEvent"in window&&!at,yi=Nn&&(!Fe||at&&8<at&&11>=at),Yn=" ",Xn=!1;function wr(t,n){switch(t){case"keyup":return dt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function la(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ua=!1;function jT(t,n){switch(t){case"compositionend":return la(n);case"keypress":return n.which!==32?null:(Xn=!0,Yn);case"textInput":return t=n.data,t===Yn&&Xn?null:t;default:return null}}function BT(t,n){if(ua)return t==="compositionend"||!Fe&&wr(t,n)?(t=No(),Tr=Io=di=null,ua=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return yi&&n.locale!=="ko"?null:n.data;default:return null}}var qT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!qT[t.type]:n==="textarea"}function ug(t,n,s,o){gs?fi?fi.push(o):fi=[o]:gs=o,n=oc(n,"onChange"),0<n.length&&(s=new mi("onChange","change",null,s,o),t.push({event:s,listeners:n}))}var xo=null,Vo=null;function HT(t){Fy(t,0)}function vu(t){var n=pn(t);if(yr(n))return t}function cg(t,n){if(t==="change")return n}var hg=!1;if(Nn){var xh;if(Nn){var Vh="oninput"in document;if(!Vh){var fg=document.createElement("div");fg.setAttribute("oninput","return;"),Vh=typeof fg.oninput=="function"}xh=Vh}else xh=!1;hg=xh&&(!document.documentMode||9<document.documentMode)}function dg(){xo&&(xo.detachEvent("onpropertychange",mg),Vo=xo=null)}function mg(t){if(t.propertyName==="value"&&vu(Vo)){var n=[];ug(n,Vo,t,In(t)),ps(HT,n)}}function GT(t,n,s){t==="focusin"?(dg(),xo=n,Vo=s,xo.attachEvent("onpropertychange",mg)):t==="focusout"&&dg()}function FT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vu(Vo)}function QT(t,n){if(t==="click")return vu(n)}function KT(t,n){if(t==="input"||t==="change")return vu(n)}function YT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var _n=typeof Object.is=="function"?Object.is:YT;function ko(t,n){if(_n(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!yt.call(n,h)||!_n(t[h],n[h]))return!1}return!0}function gg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pg(t,n){var s=gg(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=n&&o>=n)return{node:s,offset:n-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=gg(s)}}function yg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?yg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function _g(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=hi(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=hi(t.document)}return n}function kh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var XT=Nn&&"documentMode"in document&&11>=document.documentMode,ca=null,Uh=null,Uo=null,Lh=!1;function vg(t,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Lh||ca==null||ca!==hi(o)||(o=ca,"selectionStart"in o&&kh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Uo&&ko(Uo,o)||(Uo=o,o=oc(Uh,"onSelect"),0<o.length&&(n=new mi("onSelect","select",null,n,s),t.push({event:n,listeners:o}),n.target=ca)))}function Rr(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var ha={animationend:Rr("Animation","AnimationEnd"),animationiteration:Rr("Animation","AnimationIteration"),animationstart:Rr("Animation","AnimationStart"),transitionrun:Rr("Transition","TransitionRun"),transitionstart:Rr("Transition","TransitionStart"),transitioncancel:Rr("Transition","TransitionCancel"),transitionend:Rr("Transition","TransitionEnd")},Ph={},Eg={};Nn&&(Eg=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function Cr(t){if(Ph[t])return Ph[t];if(!ha[t])return t;var n=ha[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Eg)return Ph[t]=n[s];return t}var Tg=Cr("animationend"),Sg=Cr("animationiteration"),Ag=Cr("animationstart"),ZT=Cr("transitionrun"),JT=Cr("transitionstart"),$T=Cr("transitioncancel"),bg=Cr("transitionend"),wg=new Map,zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zh.push("scrollEnd");function Zn(t,n){wg.set(t,n),ui(n,[t])}var Eu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},On=[],fa=0,jh=0;function Tu(){for(var t=fa,n=jh=fa=0;n<t;){var s=On[n];On[n++]=null;var o=On[n];On[n++]=null;var h=On[n];On[n++]=null;var f=On[n];if(On[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&Rg(s,h,f)}}function Su(t,n,s,o){On[fa++]=t,On[fa++]=n,On[fa++]=s,On[fa++]=o,jh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Bh(t,n,s,o){return Su(t,n,s,o),Au(t)}function Ir(t,n){return Su(t,null,null,n),Au(t)}function Rg(t,n,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-ft(s),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Au(t){if(50<sl)throw sl=0,Jf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var da={};function WT(t,n,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,n,s,o){return new WT(t,n,s,o)}function qh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ji(t,n){var s=t.alternate;return s===null?(s=vn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Cg(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function bu(t,n,s,o,h,f){var y=0;if(o=t,typeof t=="function")qh(t)&&(y=1);else if(typeof t=="string")y=sS(t,s,se.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=vn(31,s,n,h),t.elementType=R,t.lanes=f,t;case W:return Nr(s.children,h,f,n);case $:y=8,h|=24;break;case le:return t=vn(12,s,n,h|2),t.elementType=le,t.lanes=f,t;case je:return t=vn(13,s,n,h),t.elementType=je,t.lanes=f,t;case we:return t=vn(19,s,n,h),t.elementType=we,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:y=10;break e;case de:y=9;break e;case De:y=11;break e;case I:y=14;break e;case w:y=16,o=null;break e}y=29,s=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=vn(y,s,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Nr(t,n,s,o){return t=vn(7,t,o,n),t.lanes=s,t}function Hh(t,n,s){return t=vn(6,t,null,n),t.lanes=s,t}function Ig(t){var n=vn(18,null,null,0);return n.stateNode=t,n}function Gh(t,n,s){return n=vn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ng=new WeakMap;function Mn(t,n){if(typeof t=="object"&&t!==null){var s=Ng.get(t);return s!==void 0?s:(n={value:t,source:n,stack:fo(n)},Ng.set(t,n),n)}return{value:t,source:n,stack:fo(n)}}var ma=[],ga=0,wu=null,Lo=0,xn=[],Vn=0,Es=null,_i=1,vi="";function Bi(t,n){ma[ga++]=Lo,ma[ga++]=wu,wu=t,Lo=n}function Dg(t,n,s){xn[Vn++]=_i,xn[Vn++]=vi,xn[Vn++]=Es,Es=t;var o=_i;t=vi;var h=32-ft(o)-1;o&=~(1<<h),s+=1;var f=32-ft(n)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,_i=1<<32-ft(n)+h|s<<h|o,vi=f+t}else _i=1<<f|s<<h|o,vi=t}function Fh(t){t.return!==null&&(Bi(t,1),Dg(t,1,0))}function Qh(t){for(;t===wu;)wu=ma[--ga],ma[ga]=null,Lo=ma[--ga],ma[ga]=null;for(;t===Es;)Es=xn[--Vn],xn[Vn]=null,vi=xn[--Vn],xn[Vn]=null,_i=xn[--Vn],xn[Vn]=null}function Og(t,n){xn[Vn++]=_i,xn[Vn++]=vi,xn[Vn++]=Es,_i=n.id,vi=n.overflow,Es=t}var zt=null,it=null,ze=!1,Ts=null,kn=!1,Kh=Error(a(519));function Ss(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Po(Mn(n,t)),Kh}function Mg(t){var n=t.stateNode,s=t.type,o=t.memoizedProps;switch(n[vt]=t,n[xt]=o,s){case"dialog":xe("cancel",n),xe("close",n);break;case"iframe":case"object":case"embed":xe("load",n);break;case"video":case"audio":for(s=0;s<al.length;s++)xe(al[s],n);break;case"source":xe("error",n);break;case"img":case"image":case"link":xe("error",n),xe("load",n);break;case"details":xe("toggle",n);break;case"input":xe("invalid",n),su(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":xe("invalid",n);break;case"textarea":xe("invalid",n),ds(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Xy(n.textContent,s)?(o.popover!=null&&(xe("beforetoggle",n),xe("toggle",n)),o.onScroll!=null&&xe("scroll",n),o.onScrollEnd!=null&&xe("scrollend",n),o.onClick!=null&&(n.onclick=Fn),n=!0):n=!1,n||Ss(t,!0)}function xg(t){for(zt=t.return;zt;)switch(zt.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:zt=zt.return}}function pa(t){if(t!==zt)return!1;if(!ze)return xg(t),ze=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||fd(t.type,t.memoizedProps)),s=!s),s&&it&&Ss(t),xg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));it=s_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));it=s_(t)}else n===27?(n=it,Us(t.type)?(t=yd,yd=null,it=t):it=n):it=zt?Ln(t.stateNode.nextSibling):null;return!0}function Dr(){it=zt=null,ze=!1}function Yh(){var t=Ts;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),Ts=null),t}function Po(t){Ts===null?Ts=[t]:Ts.push(t)}var Xh=N(null),Or=null,qi=null;function As(t,n,s){te(Xh,n._currentValue),n._currentValue=s}function Hi(t){t._currentValue=Xh.current,Q(Xh)}function Zh(t,n,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===s)break;t=t.return}}function Jh(t,n,s,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Zh(f.return,s,t),o||(y=null);break e}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(a(341));y.lanes|=s,f=y.alternate,f!==null&&(f.lanes|=s),Zh(y,s,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function ya(t,n,s,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=h.type;_n(h.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(h===Ie.current){if(y=h.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(hl):t=[hl])}h=h.return}t!==null&&Jh(n,t,s,o),n.flags|=262144}function Ru(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Mr(t){Or=t,qi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function jt(t){return Vg(Or,t)}function Cu(t,n){return Or===null&&Mr(t),Vg(t,n)}function Vg(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},qi===null){if(t===null)throw Error(a(308));qi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else qi=qi.next=n;return s}var e1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},t1=r.unstable_scheduleCallback,n1=r.unstable_NormalPriority,St={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $h(){return{controller:new e1,data:new Map,refCount:0}}function zo(t){t.refCount--,t.refCount===0&&t1(n1,function(){t.controller.abort()})}var jo=null,Wh=0,_a=0,va=null;function i1(t,n){if(jo===null){var s=jo=[];Wh=0,_a=id(),va={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Wh++,n.then(kg,kg),n}function kg(){if(--Wh===0&&jo!==null){va!==null&&(va.status="fulfilled");var t=jo;jo=null,_a=0,va=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function s1(t,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Ug=j.S;j.S=function(t,n){vy=$t(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&i1(t,n),Ug!==null&&Ug(t,n)};var xr=N(null);function ef(){var t=xr.current;return t!==null?t:tt.pooledCache}function Iu(t,n){n===null?te(xr,xr.current):te(xr,n.pool)}function Lg(){var t=ef();return t===null?null:{parent:St._currentValue,pool:t}}var Ea=Error(a(460)),tf=Error(a(474)),Nu=Error(a(542)),Du={then:function(){}};function Pg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function zg(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Fn,Fn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Bg(t),t;default:if(typeof n.status=="string")n.then(Fn,Fn);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Bg(t),t}throw kr=n,Ea}}function Vr(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(kr=s,Ea):s}}var kr=null;function jg(){if(kr===null)throw Error(a(459));var t=kr;return kr=null,t}function Bg(t){if(t===Ea||t===Nu)throw Error(a(483))}var Ta=null,Bo=0;function Ou(t){var n=Bo;return Bo+=1,Ta===null&&(Ta=[]),zg(Ta,t,n)}function qo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Mu(t,n){throw n.$$typeof===D?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function qg(t){function n(k,M){if(t){var P=k.deletions;P===null?(k.deletions=[M],k.flags|=16):P.push(M)}}function s(k,M){if(!t)return null;for(;M!==null;)n(k,M),M=M.sibling;return null}function o(k){for(var M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function h(k,M){return k=ji(k,M),k.index=0,k.sibling=null,k}function f(k,M,P){return k.index=P,t?(P=k.alternate,P!==null?(P=P.index,P<M?(k.flags|=67108866,M):P):(k.flags|=67108866,M)):(k.flags|=1048576,M)}function y(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,M,P,K){return M===null||M.tag!==6?(M=Hh(P,k.mode,K),M.return=k,M):(M=h(M,P),M.return=k,M)}function C(k,M,P,K){var fe=P.type;return fe===W?F(k,M,P.props.children,K,P.key):M!==null&&(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&Vr(fe)===M.type)?(M=h(M,P.props),qo(M,P),M.return=k,M):(M=bu(P.type,P.key,P.props,null,k.mode,K),qo(M,P),M.return=k,M)}function z(k,M,P,K){return M===null||M.tag!==4||M.stateNode.containerInfo!==P.containerInfo||M.stateNode.implementation!==P.implementation?(M=Gh(P,k.mode,K),M.return=k,M):(M=h(M,P.children||[]),M.return=k,M)}function F(k,M,P,K,fe){return M===null||M.tag!==7?(M=Nr(P,k.mode,K,fe),M.return=k,M):(M=h(M,P),M.return=k,M)}function Y(k,M,P){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Hh(""+M,k.mode,P),M.return=k,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case q:return P=bu(M.type,M.key,M.props,null,k.mode,P),qo(P,M),P.return=k,P;case Z:return M=Gh(M,k.mode,P),M.return=k,M;case w:return M=Vr(M),Y(k,M,P)}if(me(M)||V(M))return M=Nr(M,k.mode,P,null),M.return=k,M;if(typeof M.then=="function")return Y(k,Ou(M),P);if(M.$$typeof===re)return Y(k,Cu(k,M),P);Mu(k,M)}return null}function B(k,M,P,K){var fe=M!==null?M.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return fe!==null?null:E(k,M,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case q:return P.key===fe?C(k,M,P,K):null;case Z:return P.key===fe?z(k,M,P,K):null;case w:return P=Vr(P),B(k,M,P,K)}if(me(P)||V(P))return fe!==null?null:F(k,M,P,K,null);if(typeof P.then=="function")return B(k,M,Ou(P),K);if(P.$$typeof===re)return B(k,M,Cu(k,P),K);Mu(k,P)}return null}function G(k,M,P,K,fe){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(P)||null,E(M,k,""+K,fe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case q:return k=k.get(K.key===null?P:K.key)||null,C(M,k,K,fe);case Z:return k=k.get(K.key===null?P:K.key)||null,z(M,k,K,fe);case w:return K=Vr(K),G(k,M,P,K,fe)}if(me(K)||V(K))return k=k.get(P)||null,F(M,k,K,fe,null);if(typeof K.then=="function")return G(k,M,P,Ou(K),fe);if(K.$$typeof===re)return G(k,M,P,Cu(M,K),fe);Mu(M,K)}return null}function oe(k,M,P,K){for(var fe=null,qe=null,ue=M,Ne=M=0,ke=null;ue!==null&&Ne<P.length;Ne++){ue.index>Ne?(ke=ue,ue=null):ke=ue.sibling;var He=B(k,ue,P[Ne],K);if(He===null){ue===null&&(ue=ke);break}t&&ue&&He.alternate===null&&n(k,ue),M=f(He,M,Ne),qe===null?fe=He:qe.sibling=He,qe=He,ue=ke}if(Ne===P.length)return s(k,ue),ze&&Bi(k,Ne),fe;if(ue===null){for(;Ne<P.length;Ne++)ue=Y(k,P[Ne],K),ue!==null&&(M=f(ue,M,Ne),qe===null?fe=ue:qe.sibling=ue,qe=ue);return ze&&Bi(k,Ne),fe}for(ue=o(ue);Ne<P.length;Ne++)ke=G(ue,k,Ne,P[Ne],K),ke!==null&&(t&&ke.alternate!==null&&ue.delete(ke.key===null?Ne:ke.key),M=f(ke,M,Ne),qe===null?fe=ke:qe.sibling=ke,qe=ke);return t&&ue.forEach(function(Bs){return n(k,Bs)}),ze&&Bi(k,Ne),fe}function pe(k,M,P,K){if(P==null)throw Error(a(151));for(var fe=null,qe=null,ue=M,Ne=M=0,ke=null,He=P.next();ue!==null&&!He.done;Ne++,He=P.next()){ue.index>Ne?(ke=ue,ue=null):ke=ue.sibling;var Bs=B(k,ue,He.value,K);if(Bs===null){ue===null&&(ue=ke);break}t&&ue&&Bs.alternate===null&&n(k,ue),M=f(Bs,M,Ne),qe===null?fe=Bs:qe.sibling=Bs,qe=Bs,ue=ke}if(He.done)return s(k,ue),ze&&Bi(k,Ne),fe;if(ue===null){for(;!He.done;Ne++,He=P.next())He=Y(k,He.value,K),He!==null&&(M=f(He,M,Ne),qe===null?fe=He:qe.sibling=He,qe=He);return ze&&Bi(k,Ne),fe}for(ue=o(ue);!He.done;Ne++,He=P.next())He=G(ue,k,Ne,He.value,K),He!==null&&(t&&He.alternate!==null&&ue.delete(He.key===null?Ne:He.key),M=f(He,M,Ne),qe===null?fe=He:qe.sibling=He,qe=He);return t&&ue.forEach(function(gS){return n(k,gS)}),ze&&Bi(k,Ne),fe}function et(k,M,P,K){if(typeof P=="object"&&P!==null&&P.type===W&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case q:e:{for(var fe=P.key;M!==null;){if(M.key===fe){if(fe=P.type,fe===W){if(M.tag===7){s(k,M.sibling),K=h(M,P.props.children),K.return=k,k=K;break e}}else if(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&Vr(fe)===M.type){s(k,M.sibling),K=h(M,P.props),qo(K,P),K.return=k,k=K;break e}s(k,M);break}else n(k,M);M=M.sibling}P.type===W?(K=Nr(P.props.children,k.mode,K,P.key),K.return=k,k=K):(K=bu(P.type,P.key,P.props,null,k.mode,K),qo(K,P),K.return=k,k=K)}return y(k);case Z:e:{for(fe=P.key;M!==null;){if(M.key===fe)if(M.tag===4&&M.stateNode.containerInfo===P.containerInfo&&M.stateNode.implementation===P.implementation){s(k,M.sibling),K=h(M,P.children||[]),K.return=k,k=K;break e}else{s(k,M);break}else n(k,M);M=M.sibling}K=Gh(P,k.mode,K),K.return=k,k=K}return y(k);case w:return P=Vr(P),et(k,M,P,K)}if(me(P))return oe(k,M,P,K);if(V(P)){if(fe=V(P),typeof fe!="function")throw Error(a(150));return P=fe.call(P),pe(k,M,P,K)}if(typeof P.then=="function")return et(k,M,Ou(P),K);if(P.$$typeof===re)return et(k,M,Cu(k,P),K);Mu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,M!==null&&M.tag===6?(s(k,M.sibling),K=h(M,P),K.return=k,k=K):(s(k,M),K=Hh(P,k.mode,K),K.return=k,k=K),y(k)):s(k,M)}return function(k,M,P,K){try{Bo=0;var fe=et(k,M,P,K);return Ta=null,fe}catch(ue){if(ue===Ea||ue===Nu)throw ue;var qe=vn(29,ue,null,k.mode);return qe.lanes=K,qe.return=k,qe}finally{}}}var Ur=qg(!0),Hg=qg(!1),bs=!1;function nf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ws(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Rs(t,n,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Qe&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Au(t),Rg(t,null,s),n}return Su(t,o,n,s),Au(t)}function Ho(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,po(t,s)}}function rf(t,n){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var af=!1;function Go(){if(af){var t=va;if(t!==null)throw t}}function Fo(t,n,s,o){af=!1;var h=t.updateQueue;bs=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,z=C.next;C.next=null,y===null?f=z:y.next=z,y=C;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==y&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=C))}if(f!==null){var Y=h.baseState;y=0,F=z=C=null,E=f;do{var B=E.lane&-536870913,G=B!==E.lane;if(G?(Ve&B)===B:(o&B)===B){B!==0&&B===_a&&(af=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var oe=t,pe=E;B=n;var et=s;switch(pe.tag){case 1:if(oe=pe.payload,typeof oe=="function"){Y=oe.call(et,Y,B);break e}Y=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=pe.payload,B=typeof oe=="function"?oe.call(et,Y,B):oe,B==null)break e;Y=A({},Y,B);break e;case 2:bs=!0}}B=E.callback,B!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[B]:G.push(B))}else G={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=G,C=Y):F=F.next=G,y|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;G=E,E=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);F===null&&(C=Y),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Os|=y,t.lanes=y,t.memoizedState=Y}}function Gg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Fg(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Gg(s[t],n)}var Sa=N(null),xu=N(0);function Qg(t,n){t=$i,te(xu,t),te(Sa,n),$i=t|n.baseLanes}function of(){te(xu,$i),te(Sa,Sa.current)}function lf(){$i=xu.current,Q(Sa),Q(xu)}var En=N(null),Un=null;function Cs(t){var n=t.alternate;te(mt,mt.current&1),te(En,t),Un===null&&(n===null||Sa.current!==null||n.memoizedState!==null)&&(Un=t)}function uf(t){te(mt,mt.current),te(En,t),Un===null&&(Un=t)}function Kg(t){t.tag===22?(te(mt,mt.current),te(En,t),Un===null&&(Un=t)):Is()}function Is(){te(mt,mt.current),te(En,En.current)}function Tn(t){Q(En),Un===t&&(Un=null),Q(mt)}var mt=N(0);function Vu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||gd(s)||pd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Gi=0,Ce=null,$e=null,At=null,ku=!1,Aa=!1,Lr=!1,Uu=0,Qo=0,ba=null,r1=0;function ct(){throw Error(a(321))}function cf(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!_n(t[s],n[s]))return!1;return!0}function hf(t,n,s,o,h,f){return Gi=f,Ce=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,j.H=t===null||t.memoizedState===null?Dp:Rf,Lr=!1,f=s(o,h),Lr=!1,Aa&&(f=Xg(n,s,o,h)),Yg(t),f}function Yg(t){j.H=Xo;var n=$e!==null&&$e.next!==null;if(Gi=0,At=$e=Ce=null,ku=!1,Qo=0,ba=null,n)throw Error(a(300));t===null||bt||(t=t.dependencies,t!==null&&Ru(t)&&(bt=!0))}function Xg(t,n,s,o){Ce=t;var h=0;do{if(Aa&&(ba=null),Qo=0,Aa=!1,25<=h)throw Error(a(301));if(h+=1,At=$e=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}j.H=Op,f=n(s,o)}while(Aa);return f}function a1(){var t=j.H,n=t.useState()[0];return n=typeof n.then=="function"?Ko(n):n,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(Ce.flags|=1024),n}function ff(){var t=Uu!==0;return Uu=0,t}function df(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function mf(t){if(ku){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}ku=!1}Gi=0,At=$e=Ce=null,Aa=!1,Qo=Uu=0,ba=null}function en(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Ce.memoizedState=At=t:At=At.next=t,At}function gt(){if($e===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var n=At===null?Ce.memoizedState:At.next;if(n!==null)At=n,$e=t;else{if(t===null)throw Ce.alternate===null?Error(a(467)):Error(a(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},At===null?Ce.memoizedState=At=t:At=At.next=t}return At}function Lu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ko(t){var n=Qo;return Qo+=1,ba===null&&(ba=[]),t=zg(ba,t,n),n=Ce,(At===null?n.memoizedState:At.next)===null&&(n=n.alternate,j.H=n===null||n.memoizedState===null?Dp:Rf),t}function Pu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ko(t);if(t.$$typeof===re)return jt(t)}throw Error(a(438,String(t)))}function gf(t){var n=null,s=Ce.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Ce.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Lu(),Ce.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),o=0;o<t;o++)s[o]=x;return n.index++,s}function Fi(t,n){return typeof n=="function"?n(t):n}function zu(t){var n=gt();return pf(n,$e,t)}function pf(t,n,s){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=y=null,C=null,z=n,F=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(Ve&Y)===Y:(Gi&Y)===Y){var B=z.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===_a&&(F=!0);else if((Gi&B)===B){z=z.next,B===_a&&(F=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=Y,y=f):C=C.next=Y,Ce.lanes|=B,Os|=B;Y=z.action,Lr&&s(f,Y),f=z.hasEagerState?z.eagerState:s(f,Y)}else B={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=B,y=f):C=C.next=B,Ce.lanes|=Y,Os|=Y;z=z.next}while(z!==null&&z!==n);if(C===null?y=f:C.next=E,!_n(f,t.memoizedState)&&(bt=!0,F&&(s=va,s!==null)))throw s;t.memoizedState=f,t.baseState=y,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function yf(t){var n=gt(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var y=h=h.next;do f=t(f,y.action),y=y.next;while(y!==h);_n(f,n.memoizedState)||(bt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Zg(t,n,s){var o=Ce,h=gt(),f=ze;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var y=!_n(($e||h).memoizedState,s);if(y&&(h.memoizedState=s,bt=!0),h=h.queue,Ef(Wg.bind(null,o,h,t),[t]),h.getSnapshot!==n||y||At!==null&&At.memoizedState.tag&1){if(o.flags|=2048,wa(9,{destroy:void 0},$g.bind(null,o,h,s,n),null),tt===null)throw Error(a(349));f||(Gi&127)!==0||Jg(o,n,s)}return s}function Jg(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Ce.updateQueue,n===null?(n=Lu(),Ce.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function $g(t,n,s,o){n.value=s,n.getSnapshot=o,ep(n)&&tp(t)}function Wg(t,n,s){return s(function(){ep(n)&&tp(t)})}function ep(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!_n(t,s)}catch{return!0}}function tp(t){var n=Ir(t,2);n!==null&&hn(n,t,2)}function _f(t){var n=en();if(typeof t=="function"){var s=t;if(t=s(),Lr){Rn(!0);try{s()}finally{Rn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:t},n}function np(t,n,s,o){return t.baseState=s,pf(t,$e,typeof o=="function"?o:Fi)}function o1(t,n,s,o,h){if(qu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};j.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,ip(n,f)):(f.next=s.next,n.pending=s.next=f)}}function ip(t,n){var s=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=j.T,y={};j.T=y;try{var E=s(h,o),C=j.S;C!==null&&C(y,E),sp(t,n,E)}catch(z){vf(t,n,z)}finally{f!==null&&y.types!==null&&(f.types=y.types),j.T=f}}else try{f=s(h,o),sp(t,n,f)}catch(z){vf(t,n,z)}}function sp(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){rp(t,n,o)},function(o){return vf(t,n,o)}):rp(t,n,s)}function rp(t,n,s){n.status="fulfilled",n.value=s,ap(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,ip(t,s)))}function vf(t,n,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,ap(n),n=n.next;while(n!==o)}t.action=null}function ap(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function op(t,n){return n}function lp(t,n){if(ze){var s=tt.formState;if(s!==null){e:{var o=Ce;if(ze){if(it){t:{for(var h=it,f=kn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Ln(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){it=Ln(h.nextSibling),o=h.data==="F!";break e}}Ss(o)}o=!1}o&&(n=s[0])}}return s=en(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:op,lastRenderedState:n},s.queue=o,s=Cp.bind(null,Ce,o),o.dispatch=s,o=_f(!1),f=wf.bind(null,Ce,!1,o.queue),o=en(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,s=o1.bind(null,Ce,h,f,s),h.dispatch=s,o.memoizedState=t,[n,s,!1]}function up(t){var n=gt();return cp(n,$e,t)}function cp(t,n,s){if(n=pf(t,n,op)[0],t=zu(Fi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ko(n)}catch(y){throw y===Ea?Nu:y}else o=n;n=gt();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Ce.flags|=2048,wa(9,{destroy:void 0},l1.bind(null,h,s),null)),[o,f,t]}function l1(t,n){t.action=n}function hp(t){var n=gt(),s=$e;if(s!==null)return cp(n,s,t);gt(),n=n.memoizedState,s=gt();var o=s.queue.dispatch;return s.memoizedState=t,[n,o,!1]}function wa(t,n,s,o){return t={tag:t,create:s,deps:o,inst:n,next:null},n=Ce.updateQueue,n===null&&(n=Lu(),Ce.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,n.lastEffect=t),t}function fp(){return gt().memoizedState}function ju(t,n,s,o){var h=en();Ce.flags|=t,h.memoizedState=wa(1|n,{destroy:void 0},s,o===void 0?null:o)}function Bu(t,n,s,o){var h=gt();o=o===void 0?null:o;var f=h.memoizedState.inst;$e!==null&&o!==null&&cf(o,$e.memoizedState.deps)?h.memoizedState=wa(n,f,s,o):(Ce.flags|=t,h.memoizedState=wa(1|n,f,s,o))}function dp(t,n){ju(8390656,8,t,n)}function Ef(t,n){Bu(2048,8,t,n)}function u1(t){Ce.flags|=4;var n=Ce.updateQueue;if(n===null)n=Lu(),Ce.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function mp(t){var n=gt().memoizedState;return u1({ref:n,nextImpl:t}),function(){if((Qe&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function gp(t,n){return Bu(4,2,t,n)}function pp(t,n){return Bu(4,4,t,n)}function yp(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function _p(t,n,s){s=s!=null?s.concat([t]):null,Bu(4,4,yp.bind(null,n,t),s)}function Tf(){}function vp(t,n){var s=gt();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&cf(n,o[1])?o[0]:(s.memoizedState=[t,n],t)}function Ep(t,n){var s=gt();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&cf(n,o[1]))return o[0];if(o=t(),Lr){Rn(!0);try{t()}finally{Rn(!1)}}return s.memoizedState=[o,n],o}function Sf(t,n,s){return s===void 0||(Gi&1073741824)!==0&&(Ve&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Ty(),Ce.lanes|=t,Os|=t,s)}function Tp(t,n,s,o){return _n(s,n)?s:Sa.current!==null?(t=Sf(t,s,o),_n(t,n)||(bt=!0),t):(Gi&42)===0||(Gi&1073741824)!==0&&(Ve&261930)===0?(bt=!0,t.memoizedState=s):(t=Ty(),Ce.lanes|=t,Os|=t,n)}function Sp(t,n,s,o,h){var f=ee.p;ee.p=f!==0&&8>f?f:8;var y=j.T,E={};j.T=E,wf(t,!1,n,s);try{var C=h(),z=j.S;if(z!==null&&z(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=s1(C,o);Yo(t,n,F,bn(t))}else Yo(t,n,o,bn(t))}catch(Y){Yo(t,n,{then:function(){},status:"rejected",reason:Y},bn())}finally{ee.p=f,y!==null&&E.types!==null&&(y.types=E.types),j.T=y}}function c1(){}function Af(t,n,s,o){if(t.tag!==5)throw Error(a(476));var h=Ap(t).queue;Sp(t,h,n,ie,s===null?c1:function(){return bp(t),s(o)})}function Ap(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:ie},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function bp(t){var n=Ap(t);n.next===null&&(n=t.alternate.memoizedState),Yo(t,n.next.queue,{},bn())}function bf(){return jt(hl)}function wp(){return gt().memoizedState}function Rp(){return gt().memoizedState}function h1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=bn();t=ws(s);var o=Rs(n,t,s);o!==null&&(hn(o,n,s),Ho(o,n,s)),n={cache:$h()},t.payload=n;return}n=n.return}}function f1(t,n,s){var o=bn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},qu(t)?Ip(n,s):(s=Bh(t,n,s,o),s!==null&&(hn(s,t,o),Np(s,n,o)))}function Cp(t,n,s){var o=bn();Yo(t,n,s,o)}function Yo(t,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(qu(t))Ip(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,s);if(h.hasEagerState=!0,h.eagerState=E,_n(E,y))return Su(t,n,h,0),tt===null&&Tu(),!1}catch{}finally{}if(s=Bh(t,n,h,o),s!==null)return hn(s,t,o),Np(s,n,o),!0}return!1}function wf(t,n,s,o){if(o={lane:2,revertLane:id(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},qu(t)){if(n)throw Error(a(479))}else n=Bh(t,s,o,2),n!==null&&hn(n,t,2)}function qu(t){var n=t.alternate;return t===Ce||n!==null&&n===Ce}function Ip(t,n){Aa=ku=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Np(t,n,s){if((s&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,po(t,s)}}var Xo={readContext:jt,use:Pu,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};Xo.useEffectEvent=ct;var Dp={readContext:jt,use:Pu,useCallback:function(t,n){return en().memoizedState=[t,n===void 0?null:n],t},useContext:jt,useEffect:dp,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,ju(4194308,4,yp.bind(null,n,t),s)},useLayoutEffect:function(t,n){return ju(4194308,4,t,n)},useInsertionEffect:function(t,n){ju(4,2,t,n)},useMemo:function(t,n){var s=en();n=n===void 0?null:n;var o=t();if(Lr){Rn(!0);try{t()}finally{Rn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(t,n,s){var o=en();if(s!==void 0){var h=s(n);if(Lr){Rn(!0);try{s(n)}finally{Rn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=f1.bind(null,Ce,t),[o.memoizedState,t]},useRef:function(t){var n=en();return t={current:t},n.memoizedState=t},useState:function(t){t=_f(t);var n=t.queue,s=Cp.bind(null,Ce,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Tf,useDeferredValue:function(t,n){var s=en();return Sf(s,t,n)},useTransition:function(){var t=_f(!1);return t=Sp.bind(null,Ce,t.queue,!0,!1),en().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var o=Ce,h=en();if(ze){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),tt===null)throw Error(a(349));(Ve&127)!==0||Jg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,dp(Wg.bind(null,o,f,t),[t]),o.flags|=2048,wa(9,{destroy:void 0},$g.bind(null,o,f,s,n),null),s},useId:function(){var t=en(),n=tt.identifierPrefix;if(ze){var s=vi,o=_i;s=(o&~(1<<32-ft(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Uu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=r1++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:bf,useFormState:lp,useActionState:lp,useOptimistic:function(t){var n=en();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=wf.bind(null,Ce,!0,s),s.dispatch=n,[t,n]},useMemoCache:gf,useCacheRefresh:function(){return en().memoizedState=h1.bind(null,Ce)},useEffectEvent:function(t){var n=en(),s={impl:t};return n.memoizedState=s,function(){if((Qe&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Rf={readContext:jt,use:Pu,useCallback:vp,useContext:jt,useEffect:Ef,useImperativeHandle:_p,useInsertionEffect:gp,useLayoutEffect:pp,useMemo:Ep,useReducer:zu,useRef:fp,useState:function(){return zu(Fi)},useDebugValue:Tf,useDeferredValue:function(t,n){var s=gt();return Tp(s,$e.memoizedState,t,n)},useTransition:function(){var t=zu(Fi)[0],n=gt().memoizedState;return[typeof t=="boolean"?t:Ko(t),n]},useSyncExternalStore:Zg,useId:wp,useHostTransitionStatus:bf,useFormState:up,useActionState:up,useOptimistic:function(t,n){var s=gt();return np(s,$e,t,n)},useMemoCache:gf,useCacheRefresh:Rp};Rf.useEffectEvent=mp;var Op={readContext:jt,use:Pu,useCallback:vp,useContext:jt,useEffect:Ef,useImperativeHandle:_p,useInsertionEffect:gp,useLayoutEffect:pp,useMemo:Ep,useReducer:yf,useRef:fp,useState:function(){return yf(Fi)},useDebugValue:Tf,useDeferredValue:function(t,n){var s=gt();return $e===null?Sf(s,t,n):Tp(s,$e.memoizedState,t,n)},useTransition:function(){var t=yf(Fi)[0],n=gt().memoizedState;return[typeof t=="boolean"?t:Ko(t),n]},useSyncExternalStore:Zg,useId:wp,useHostTransitionStatus:bf,useFormState:hp,useActionState:hp,useOptimistic:function(t,n){var s=gt();return $e!==null?np(s,$e,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:gf,useCacheRefresh:Rp};Op.useEffectEvent=mp;function Cf(t,n,s,o){n=t.memoizedState,s=s(o,n),s=s==null?n:A({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var If={enqueueSetState:function(t,n,s){t=t._reactInternals;var o=bn(),h=ws(o);h.payload=n,s!=null&&(h.callback=s),n=Rs(t,h,o),n!==null&&(hn(n,t,o),Ho(n,t,o))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var o=bn(),h=ws(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Rs(t,h,o),n!==null&&(hn(n,t,o),Ho(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=bn(),o=ws(s);o.tag=2,n!=null&&(o.callback=n),n=Rs(t,o,s),n!==null&&(hn(n,t,s),Ho(n,t,s))}};function Mp(t,n,s,o,h,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!ko(s,o)||!ko(h,f):!0}function xp(t,n,s,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==t&&If.enqueueReplaceState(n,n.state,null)}function Pr(t,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(t=t.defaultProps){s===n&&(s=A({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function Vp(t){Eu(t)}function kp(t){console.error(t)}function Up(t){Eu(t)}function Hu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Lp(t,n,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Nf(t,n,s){return s=ws(s),s.tag=3,s.payload={element:null},s.callback=function(){Hu(t,n)},s}function Pp(t){return t=ws(t),t.tag=3,t}function zp(t,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Lp(n,s,o)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Lp(n,s,o),typeof h!="function"&&(Ms===null?Ms=new Set([this]):Ms.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function d1(t,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&ya(n,s,h,!0),s=En.current,s!==null){switch(s.tag){case 31:case 13:return Un===null?tc():s.alternate===null&&ht===0&&(ht=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Du?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),ed(t,o,h)),!1;case 22:return s.flags|=65536,o===Du?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),ed(t,o,h)),!1}throw Error(a(435,s.tag))}return ed(t,o,h),tc(),!1}if(ze)return n=En.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Kh&&(t=Error(a(422),{cause:o}),Po(Mn(t,s)))):(o!==Kh&&(n=Error(a(423),{cause:o}),Po(Mn(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Mn(o,s),h=Nf(t.stateNode,o,h),rf(t,h),ht!==4&&(ht=2)),!1;var f=Error(a(520),{cause:o});if(f=Mn(f,s),il===null?il=[f]:il.push(f),ht!==4&&(ht=2),n===null)return!0;o=Mn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Nf(s.stateNode,o,t),rf(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ms===null||!Ms.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Pp(h),zp(h,t,s,o),rf(s,h),!1}s=s.return}while(s!==null);return!1}var Df=Error(a(461)),bt=!1;function Bt(t,n,s,o){n.child=t===null?Hg(n,null,s,o):Ur(n,t.child,s,o)}function jp(t,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return Mr(n),o=hf(t,n,s,y,f,h),E=ff(),t!==null&&!bt?(df(t,n,h),Qi(t,n,h)):(ze&&E&&Fh(n),n.flags|=1,Bt(t,n,o,h),n.child)}function Bp(t,n,s,o,h){if(t===null){var f=s.type;return typeof f=="function"&&!qh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,qp(t,n,f,o,h)):(t=bu(s.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Pf(t,h)){var y=f.memoizedProps;if(s=s.compare,s=s!==null?s:ko,s(y,o)&&t.ref===n.ref)return Qi(t,n,h)}return n.flags|=1,t=ji(f,o),t.ref=n.ref,t.return=n,n.child=t}function qp(t,n,s,o,h){if(t!==null){var f=t.memoizedProps;if(ko(f,o)&&t.ref===n.ref)if(bt=!1,n.pendingProps=o=f,Pf(t,h))(t.flags&131072)!==0&&(bt=!0);else return n.lanes=t.lanes,Qi(t,n,h)}return Of(t,n,s,o,h)}function Hp(t,n,s,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Gp(t,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Iu(n,f!==null?f.cachePool:null),f!==null?Qg(n,f):of(),Kg(n);else return o=n.lanes=536870912,Gp(t,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Iu(n,f.cachePool),Qg(n,f),Is(),n.memoizedState=null):(t!==null&&Iu(n,null),of(),Is());return Bt(t,n,h,s),n.child}function Zo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Gp(t,n,s,o,h){var f=ef();return f=f===null?null:{parent:St._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&Iu(n,null),of(),Kg(n),t!==null&&ya(t,n,o,!0),n.childLanes=h,null}function Gu(t,n){return n=Qu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Fp(t,n,s){return Ur(n,t.child,null,s),t=Gu(n,n.pendingProps),t.flags|=2,Tn(n),n.memoizedState=null,t}function m1(t,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(ze){if(o.mode==="hidden")return t=Gu(n,o),n.lanes=536870912,Zo(null,t);if(uf(n),(t=it)?(t=i_(t,kn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Es!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},s=Ig(t),s.return=n,n.child=s,zt=n,it=null)):t=null,t===null)throw Ss(n);return n.lanes=536870912,null}return Gu(n,o)}var f=t.memoizedState;if(f!==null){var y=f.dehydrated;if(uf(n),h)if(n.flags&256)n.flags&=-257,n=Fp(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(bt||ya(t,n,s,!1),h=(s&t.childLanes)!==0,bt||h){if(o=tt,o!==null&&(y=yo(o,s),y!==0&&y!==f.retryLane))throw f.retryLane=y,Ir(t,y),hn(o,t,y),Df;tc(),n=Fp(t,n,s)}else t=f.treeContext,it=Ln(y.nextSibling),zt=n,ze=!0,Ts=null,kn=!1,t!==null&&Og(n,t),n=Gu(n,o),n.flags|=4096;return n}return t=ji(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Fu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Of(t,n,s,o,h){return Mr(n),s=hf(t,n,s,o,void 0,h),o=ff(),t!==null&&!bt?(df(t,n,h),Qi(t,n,h)):(ze&&o&&Fh(n),n.flags|=1,Bt(t,n,s,h),n.child)}function Qp(t,n,s,o,h,f){return Mr(n),n.updateQueue=null,s=Xg(n,o,s,h),Yg(t),o=ff(),t!==null&&!bt?(df(t,n,f),Qi(t,n,f)):(ze&&o&&Fh(n),n.flags|=1,Bt(t,n,s,f),n.child)}function Kp(t,n,s,o,h){if(Mr(n),n.stateNode===null){var f=da,y=s.contextType;typeof y=="object"&&y!==null&&(f=jt(y)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=If,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},nf(n),y=s.contextType,f.context=typeof y=="object"&&y!==null?jt(y):da,f.state=n.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Cf(n,s,y,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&If.enqueueReplaceState(f,f.state,null),Fo(n,o,f,h),Go(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,C=Pr(s,E);f.props=C;var z=f.context,F=s.contextType;y=da,typeof F=="object"&&F!==null&&(y=jt(F));var Y=s.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==y)&&xp(n,f,o,y),bs=!1;var B=n.memoizedState;f.state=B,Fo(n,o,f,h),Go(),z=n.memoizedState,E||B!==z||bs?(typeof Y=="function"&&(Cf(n,s,Y,o),z=n.memoizedState),(C=bs||Mp(n,s,C,o,B,z,y))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=y,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,sf(t,n),y=n.memoizedProps,F=Pr(s,y),f.props=F,Y=n.pendingProps,B=f.context,z=s.contextType,C=da,typeof z=="object"&&z!==null&&(C=jt(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Y||B!==C)&&xp(n,f,o,C),bs=!1,B=n.memoizedState,f.state=B,Fo(n,o,f,h),Go();var G=n.memoizedState;y!==Y||B!==G||bs||t!==null&&t.dependencies!==null&&Ru(t.dependencies)?(typeof E=="function"&&(Cf(n,s,E,o),G=n.memoizedState),(F=bs||Mp(n,s,F,o,B,G,C)||t!==null&&t.dependencies!==null&&Ru(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,G,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,G,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=G),f.props=o,f.state=G,f.context=C,o=F):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,Fu(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Ur(n,t.child,null,h),n.child=Ur(n,null,s,h)):Bt(t,n,s,h),n.memoizedState=f.state,t=n.child):t=Qi(t,n,h),t}function Yp(t,n,s,o){return Dr(),n.flags|=256,Bt(t,n,s,o),n.child}var Mf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xf(t){return{baseLanes:t,cachePool:Lg()}}function Vf(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=An),t}function Xp(t,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(mt.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(ze){if(h?Cs(n):Is(),(t=it)?(t=i_(t,kn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Es!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},s=Ig(t),s.return=n,n.child=s,zt=n,it=null)):t=null,t===null)throw Ss(n);return pd(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Is(),h=n.mode,E=Qu({mode:"hidden",children:E},h),o=Nr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=xf(s),o.childLanes=Vf(t,y,s),n.memoizedState=Mf,Zo(null,o)):(Cs(n),kf(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(Cs(n),n.flags&=-257,n=Uf(t,n,s)):n.memoizedState!==null?(Is(),n.child=t.child,n.flags|=128,n=null):(Is(),E=o.fallback,h=n.mode,o=Qu({mode:"visible",children:o.children},h),E=Nr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Ur(n,t.child,null,s),o=n.child,o.memoizedState=xf(s),o.childLanes=Vf(t,y,s),n.memoizedState=Mf,n=Zo(null,o));else if(Cs(n),pd(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var z=y.dgst;y=z,o=Error(a(419)),o.stack="",o.digest=y,Po({value:o,source:null,stack:null}),n=Uf(t,n,s)}else if(bt||ya(t,n,s,!1),y=(s&t.childLanes)!==0,bt||y){if(y=tt,y!==null&&(o=yo(y,s),o!==0&&o!==C.retryLane))throw C.retryLane=o,Ir(t,o),hn(y,t,o),Df;gd(E)||tc(),n=Uf(t,n,s)}else gd(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,it=Ln(E.nextSibling),zt=n,ze=!0,Ts=null,kn=!1,t!==null&&Og(n,t),n=kf(n,o.children),n.flags|=4096);return n}return h?(Is(),E=o.fallback,h=n.mode,C=t.child,z=C.sibling,o=ji(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?E=ji(z,E):(E=Nr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Zo(null,o),o=n.child,E=t.child.memoizedState,E===null?E=xf(s):(h=E.cachePool,h!==null?(C=St._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Lg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Vf(t,y,s),n.memoizedState=Mf,Zo(t.child,o)):(Cs(n),s=t.child,t=s.sibling,s=ji(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=s,n.memoizedState=null,s)}function kf(t,n){return n=Qu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Qu(t,n){return t=vn(22,t,null,n),t.lanes=0,t}function Uf(t,n,s){return Ur(n,t.child,null,s),t=kf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Zp(t,n,s){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Zh(t.return,n,s)}function Lf(t,n,s,o,h,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=s,y.tailMode=h,y.treeForkCount=f)}function Jp(t,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var y=mt.current,E=(y&2)!==0;if(E?(y=y&1|2,n.flags|=128):y&=1,te(mt,y),Bt(t,n,o,s),o=ze?Lo:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Zp(t,s,n);else if(t.tag===19)Zp(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&Vu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Lf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Vu(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Lf(n,!0,s,null,f,o);break;case"together":Lf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Qi(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Os|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(ya(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=ji(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=ji(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Pf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ru(t)))}function g1(t,n,s){switch(n.tag){case 3:nt(n,n.stateNode.containerInfo),As(n,St,t.memoizedState.cache),Dr();break;case 27:case 5:nn(n);break;case 4:nt(n,n.stateNode.containerInfo);break;case 10:As(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,uf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Cs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Xp(t,n,s):(Cs(n),t=Qi(t,n,s),t!==null?t.sibling:null);Cs(n);break;case 19:var h=(t.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(ya(t,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Jp(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),te(mt,mt.current),o)break;return null;case 22:return n.lanes=0,Hp(t,n,s,n.pendingProps);case 24:As(n,St,t.memoizedState.cache)}return Qi(t,n,s)}function $p(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)bt=!0;else{if(!Pf(t,s)&&(n.flags&128)===0)return bt=!1,g1(t,n,s);bt=(t.flags&131072)!==0}else bt=!1,ze&&(n.flags&1048576)!==0&&Dg(n,Lo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Vr(n.elementType),n.type=t,typeof t=="function")qh(t)?(o=Pr(t,o),n.tag=1,n=Kp(null,n,t,o,s)):(n.tag=0,n=Of(null,n,t,o,s));else{if(t!=null){var h=t.$$typeof;if(h===De){n.tag=11,n=jp(null,n,t,o,s);break e}else if(h===I){n.tag=14,n=Bp(null,n,t,o,s);break e}}throw n=he(t)||t,Error(a(306,n,""))}}return n;case 0:return Of(t,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Pr(o,n.pendingProps),Kp(t,n,o,h,s);case 3:e:{if(nt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,sf(t,n),Fo(n,o,null,s);var y=n.memoizedState;if(o=y.cache,As(n,St,o),o!==f.cache&&Jh(n,[St],s,!0),Go(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Yp(t,n,o,s);break e}else if(o!==h){h=Mn(Error(a(424)),n),Po(h),n=Yp(t,n,o,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(it=Ln(t.firstChild),zt=n,ze=!0,Ts=null,kn=!0,s=Hg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Dr(),o===h){n=Qi(t,n,s);break e}Bt(t,n,o,s)}n=n.child}return n;case 26:return Fu(t,n),t===null?(s=u_(n.type,null,n.pendingProps,null))?n.memoizedState=s:ze||(s=n.type,t=n.pendingProps,o=lc(Te.current).createElement(s),o[vt]=n,o[xt]=t,qt(o,s,t),Et(o),n.stateNode=o):n.memoizedState=u_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return nn(n),t===null&&ze&&(o=n.stateNode=a_(n.type,n.pendingProps,Te.current),zt=n,kn=!0,h=it,Us(n.type)?(yd=h,it=Ln(o.firstChild)):it=h),Bt(t,n,n.pendingProps.children,s),Fu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&ze&&((h=o=it)&&(o=F1(o,n.type,n.pendingProps,kn),o!==null?(n.stateNode=o,zt=n,it=Ln(o.firstChild),kn=!1,h=!0):h=!1),h||Ss(n)),nn(n),h=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,o=f.children,fd(h,f)?o=null:y!==null&&fd(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=hf(t,n,a1,null,null,s),hl._currentValue=h),Fu(t,n),Bt(t,n,o,s),n.child;case 6:return t===null&&ze&&((t=s=it)&&(s=Q1(s,n.pendingProps,kn),s!==null?(n.stateNode=s,zt=n,it=null,t=!0):t=!1),t||Ss(n)),null;case 13:return Xp(t,n,s);case 4:return nt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Ur(n,null,o,s):Bt(t,n,o,s),n.child;case 11:return jp(t,n,n.type,n.pendingProps,s);case 7:return Bt(t,n,n.pendingProps,s),n.child;case 8:return Bt(t,n,n.pendingProps.children,s),n.child;case 12:return Bt(t,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,As(n,n.type,o.value),Bt(t,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Mr(n),h=jt(h),o=o(h),n.flags|=1,Bt(t,n,o,s),n.child;case 14:return Bp(t,n,n.type,n.pendingProps,s);case 15:return qp(t,n,n.type,n.pendingProps,s);case 19:return Jp(t,n,s);case 31:return m1(t,n,s);case 22:return Hp(t,n,s,n.pendingProps);case 24:return Mr(n),o=jt(St),t===null?(h=ef(),h===null&&(h=tt,f=$h(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},nf(n),As(n,St,h)):((t.lanes&s)!==0&&(sf(t,n),Fo(n,null,null,s),Go()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),As(n,St,o)):(o=f.cache,As(n,St,o),o!==h.cache&&Jh(n,[St],s,!0))),Bt(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Ki(t){t.flags|=4}function zf(t,n,s,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(wy())t.flags|=8192;else throw kr=Du,tf}else t.flags&=-16777217}function Wp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!m_(n))if(wy())t.flags|=8192;else throw kr=Du,tf}function Ku(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Wl():536870912,t.lanes|=n,Na|=n)}function Jo(t,n){if(!ze)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function st(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=s,n}function p1(t,n,s){var o=n.pendingProps;switch(Qh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(n),null;case 1:return st(n),null;case 3:return s=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Hi(St),Ge(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(pa(n)?Ki(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Yh())),st(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Ki(n),f!==null?(st(n),Wp(n,f)):(st(n),zf(n,h,null,o,s))):f?f!==t.memoizedState?(Ki(n),st(n),Wp(n,f)):(st(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&Ki(n),st(n),zf(n,h,t,o,s)),null;case 27:if(mn(n),s=Te.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Ki(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return st(n),null}t=se.current,pa(n)?Mg(n):(t=a_(h,o,s),n.stateNode=t,Ki(n))}return st(n),null;case 5:if(mn(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Ki(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return st(n),null}if(f=se.current,pa(n))Mg(n);else{var y=lc(Te.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}f[vt]=n,f[xt]=o;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;e:switch(qt(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Ki(n)}}return st(n),zf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&Ki(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=Te.current,pa(n)){if(t=n.stateNode,s=n.memoizedProps,o=null,h=zt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[vt]=n,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Xy(t.nodeValue,s)),t||Ss(n,!0)}else t=lc(t).createTextNode(o),t[vt]=n,n.stateNode=t}return st(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(o=pa(n),s!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[vt]=n}else Dr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;st(n),t=!1}else s=Yh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(Tn(n),n):(Tn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return st(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=pa(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[vt]=n}else Dr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;st(n),h=!1}else h=Yh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Tn(n),n):(Tn(n),null)}return Tn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,t=t!==null&&t.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),Ku(n,n.updateQueue),st(n),null);case 4:return Ge(),t===null&&od(n.stateNode.containerInfo),st(n),null;case 10:return Hi(n.type),st(n),null;case 19:if(Q(mt),o=n.memoizedState,o===null)return st(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Jo(o,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Vu(t),f!==null){for(n.flags|=128,Jo(o,!1),t=f.updateQueue,n.updateQueue=t,Ku(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Cg(s,t),s=s.sibling;return te(mt,mt.current&1|2),ze&&Bi(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&$t()>$u&&(n.flags|=128,h=!0,Jo(o,!1),n.lanes=4194304)}else{if(!h)if(t=Vu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Ku(n,t),Jo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!ze)return st(n),null}else 2*$t()-o.renderingStartTime>$u&&s!==536870912&&(n.flags|=128,h=!0,Jo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$t(),t.sibling=null,s=mt.current,te(mt,h?s&1|2:s&1),ze&&Bi(n,o.treeForkCount),t):(st(n),null);case 22:case 23:return Tn(n),lf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(st(n),n.subtreeFlags&6&&(n.flags|=8192)):st(n),s=n.updateQueue,s!==null&&Ku(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),t!==null&&Q(xr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Hi(St),st(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function y1(t,n){switch(Qh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Hi(St),Ge(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return mn(n),null;case 31:if(n.memoizedState!==null){if(Tn(n),n.alternate===null)throw Error(a(340));Dr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Tn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Dr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Q(mt),null;case 4:return Ge(),null;case 10:return Hi(n.type),null;case 22:case 23:return Tn(n),lf(),t!==null&&Q(xr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Hi(St),null;case 25:return null;default:return null}}function ey(t,n){switch(Qh(n),n.tag){case 3:Hi(St),Ge();break;case 26:case 27:case 5:mn(n);break;case 4:Ge();break;case 31:n.memoizedState!==null&&Tn(n);break;case 13:Tn(n);break;case 19:Q(mt);break;case 10:Hi(n.type);break;case 22:case 23:Tn(n),lf(),t!==null&&Q(xr);break;case 24:Hi(St)}}function $o(t,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&t)===t){o=void 0;var f=s.create,y=s.inst;o=f(),y.destroy=o}s=s.next}while(s!==h)}}catch(E){Ze(n,n.return,E)}}function Ns(t,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=n;var C=s,z=E;try{z()}catch(F){Ze(h,C,F)}}}o=o.next}while(o!==f)}}catch(F){Ze(n,n.return,F)}}function ty(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Fg(n,s)}catch(o){Ze(t,t.return,o)}}}function ny(t,n,s){s.props=Pr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){Ze(t,n,o)}}function Wo(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(h){Ze(t,n,h)}}function Ei(t,n){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Ze(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Ze(t,n,h)}else s.current=null}function iy(t){var n=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Ze(t,t.return,h)}}function jf(t,n,s){try{var o=t.stateNode;z1(o,t.type,s,n),o[xt]=n}catch(h){Ze(t,t.return,h)}}function sy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Us(t.type)||t.tag===4}function Bf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Us(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qf(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Fn));else if(o!==4&&(o===27&&Us(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(qf(t,n,s),t=t.sibling;t!==null;)qf(t,n,s),t=t.sibling}function Yu(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(o!==4&&(o===27&&Us(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Yu(t,n,s),t=t.sibling;t!==null;)Yu(t,n,s),t=t.sibling}function ry(t){var n=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);qt(n,o,s),n[vt]=t,n[xt]=s}catch(f){Ze(t,t.return,f)}}var Yi=!1,wt=!1,Hf=!1,ay=typeof WeakSet=="function"?WeakSet:Set,kt=null;function _1(t,n){if(t=t.containerInfo,cd=gc,t=_g(t),kh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var y=0,E=-1,C=-1,z=0,F=0,Y=t,B=null;t:for(;;){for(var G;Y!==s||h!==0&&Y.nodeType!==3||(E=y+h),Y!==f||o!==0&&Y.nodeType!==3||(C=y+o),Y.nodeType===3&&(y+=Y.nodeValue.length),(G=Y.firstChild)!==null;)B=Y,Y=G;for(;;){if(Y===t)break t;if(B===s&&++z===h&&(E=y),B===f&&++F===o&&(C=y),(G=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=G}s=E===-1||C===-1?null:{start:E,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(hd={focusedElem:t,selectionRange:s},gc=!1,kt=n;kt!==null;)if(n=kt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,kt=t;else for(;kt!==null;){switch(n=kt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var oe=Pr(s.type,h);t=o.getSnapshotBeforeUpdate(oe,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(pe){Ze(s,s.return,pe)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)md(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":md(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,kt=t;break}kt=n.return}}function oy(t,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Zi(t,s),o&4&&$o(5,s);break;case 1:if(Zi(t,s),o&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(y){Ze(s,s.return,y)}else{var h=Pr(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Ze(s,s.return,y)}}o&64&&ty(s),o&512&&Wo(s,s.return);break;case 3:if(Zi(t,s),o&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Fg(t,n)}catch(y){Ze(s,s.return,y)}}break;case 27:n===null&&o&4&&ry(s);case 26:case 5:Zi(t,s),n===null&&o&4&&iy(s),o&512&&Wo(s,s.return);break;case 12:Zi(t,s);break;case 31:Zi(t,s),o&4&&cy(t,s);break;case 13:Zi(t,s),o&4&&hy(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=C1.bind(null,s),K1(t,s))));break;case 22:if(o=s.memoizedState!==null||Yi,!o){n=n!==null&&n.memoizedState!==null||wt,h=Yi;var f=wt;Yi=o,(wt=n)&&!f?Ji(t,s,(s.subtreeFlags&8772)!==0):Zi(t,s),Yi=h,wt=f}break;case 30:break;default:Zi(t,s)}}function ly(t){var n=t.alternate;n!==null&&(t.alternate=null,ly(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Wr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,on=!1;function Xi(t,n,s){for(s=s.child;s!==null;)uy(t,n,s),s=s.sibling}function uy(t,n,s){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(Bn,s)}catch{}switch(s.tag){case 26:wt||Ei(s,n),Xi(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:wt||Ei(s,n);var o=ot,h=on;Us(s.type)&&(ot=s.stateNode,on=!1),Xi(t,n,s),ll(s.stateNode),ot=o,on=h;break;case 5:wt||Ei(s,n);case 6:if(o=ot,h=on,ot=null,Xi(t,n,s),ot=o,on=h,ot!==null)if(on)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(s.stateNode)}catch(f){Ze(s,n,f)}else try{ot.removeChild(s.stateNode)}catch(f){Ze(s,n,f)}break;case 18:ot!==null&&(on?(t=ot,t_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),La(t)):t_(ot,s.stateNode));break;case 4:o=ot,h=on,ot=s.stateNode.containerInfo,on=!0,Xi(t,n,s),ot=o,on=h;break;case 0:case 11:case 14:case 15:Ns(2,s,n),wt||Ns(4,s,n),Xi(t,n,s);break;case 1:wt||(Ei(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&ny(s,n,o)),Xi(t,n,s);break;case 21:Xi(t,n,s);break;case 22:wt=(o=wt)||s.memoizedState!==null,Xi(t,n,s),wt=o;break;default:Xi(t,n,s)}}function cy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{La(t)}catch(s){Ze(n,n.return,s)}}}function hy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{La(t)}catch(s){Ze(n,n.return,s)}}function v1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new ay),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new ay),n;default:throw Error(a(435,t.tag))}}function Xu(t,n){var s=v1(t);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=I1.bind(null,t,o);o.then(h,h)}})}function ln(t,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=t,y=n,E=y;e:for(;E!==null;){switch(E.tag){case 27:if(Us(E.type)){ot=E.stateNode,on=!1;break e}break;case 5:ot=E.stateNode,on=!1;break e;case 3:case 4:ot=E.stateNode.containerInfo,on=!0;break e}E=E.return}if(ot===null)throw Error(a(160));uy(f,y,h),ot=null,on=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)fy(n,t),n=n.sibling}var Jn=null;function fy(t,n){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(n,t),un(t),o&4&&(Ns(3,t,t.return),$o(3,t),Ns(5,t,t.return));break;case 1:ln(n,t),un(t),o&512&&(wt||s===null||Ei(s,s.return)),o&64&&Yi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Jn;if(ln(n,t),un(t),o&512&&(wt||s===null||Ei(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ai]||f[vt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),qt(f,o,s),f[vt]=t,Et(f),o=f;break e;case"link":var y=f_("link","href",h).get(o+(s.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(E,1);break t}}f=h.createElement(o),qt(f,o,s),h.head.appendChild(f);break;case"meta":if(y=f_("meta","content",h).get(o+(s.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(E,1);break t}}f=h.createElement(o),qt(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[vt]=t,Et(f),o=f}t.stateNode=o}else d_(h,t.type,t.stateNode);else t.stateNode=h_(h,o,t.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?d_(h,t.type,t.stateNode):h_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&jf(t,t.memoizedProps,s.memoizedProps)}break;case 27:ln(n,t),un(t),o&512&&(wt||s===null||Ei(s,s.return)),s!==null&&o&4&&jf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(ln(n,t),un(t),o&512&&(wt||s===null||Ei(s,s.return)),t.flags&32){h=t.stateNode;try{an(h,"")}catch(oe){Ze(t,t.return,oe)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,jf(t,h,s!==null?s.memoizedProps:h)),o&1024&&(Hf=!0);break;case 6:if(ln(n,t),un(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(oe){Ze(t,t.return,oe)}}break;case 3:if(hc=null,h=Jn,Jn=uc(n.containerInfo),ln(n,t),Jn=h,un(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{La(n.containerInfo)}catch(oe){Ze(t,t.return,oe)}Hf&&(Hf=!1,dy(t));break;case 4:o=Jn,Jn=uc(t.stateNode.containerInfo),ln(n,t),un(t),Jn=o;break;case 12:ln(n,t),un(t);break;case 31:ln(n,t),un(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Xu(t,o)));break;case 13:ln(n,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Ju=$t()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Xu(t,o)));break;case 22:h=t.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,z=Yi,F=wt;if(Yi=z||h,wt=F||C,ln(n,t),wt=F,Yi=z,un(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||Yi||wt||zr(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=C.stateNode;var Y=C.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(oe){Ze(C,C.return,oe)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(oe){Ze(C,C.return,oe)}}}else if(n.tag===18){if(s===null){C=n;try{var G=C.stateNode;h?n_(G,!0):n_(C.stateNode,!1)}catch(oe){Ze(C,C.return,oe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Xu(t,s))));break;case 19:ln(n,t),un(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Xu(t,o)));break;case 30:break;case 21:break;default:ln(n,t),un(t)}}function un(t){var n=t.flags;if(n&2){try{for(var s,o=t.return;o!==null;){if(sy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Bf(t);Yu(t,f,h);break;case 5:var y=s.stateNode;s.flags&32&&(an(y,""),s.flags&=-33);var E=Bf(t);Yu(t,E,y);break;case 3:case 4:var C=s.stateNode.containerInfo,z=Bf(t);qf(t,z,C);break;default:throw Error(a(161))}}catch(F){Ze(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function dy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;dy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Zi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)oy(t,n.alternate,n),n=n.sibling}function zr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ns(4,n,n.return),zr(n);break;case 1:Ei(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ny(n,n.return,s),zr(n);break;case 27:ll(n.stateNode);case 26:case 5:Ei(n,n.return),zr(n);break;case 22:n.memoizedState===null&&zr(n);break;case 30:zr(n);break;default:zr(n)}t=t.sibling}}function Ji(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Ji(h,f,s),$o(4,f);break;case 1:if(Ji(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Ze(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Gg(C[h],E)}catch(z){Ze(o,o.return,z)}}s&&y&64&&ty(f),Wo(f,f.return);break;case 27:ry(f);case 26:case 5:Ji(h,f,s),s&&o===null&&y&4&&iy(f),Wo(f,f.return);break;case 12:Ji(h,f,s);break;case 31:Ji(h,f,s),s&&y&4&&cy(h,f);break;case 13:Ji(h,f,s),s&&y&4&&hy(h,f);break;case 22:f.memoizedState===null&&Ji(h,f,s),Wo(f,f.return);break;case 30:break;default:Ji(h,f,s)}n=n.sibling}}function Gf(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&zo(s))}function Ff(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&zo(t))}function $n(t,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)my(t,n,s,o),n=n.sibling}function my(t,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:$n(t,n,s,o),h&2048&&$o(9,n);break;case 1:$n(t,n,s,o);break;case 3:$n(t,n,s,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&zo(t)));break;case 12:if(h&2048){$n(t,n,s,o),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Ze(n,n.return,C)}}else $n(t,n,s,o);break;case 31:$n(t,n,s,o);break;case 13:$n(t,n,s,o);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?$n(t,n,s,o):el(t,n):f._visibility&2?$n(t,n,s,o):(f._visibility|=2,Ra(t,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Gf(y,n);break;case 24:$n(t,n,s,o),h&2048&&Ff(n.alternate,n);break;default:$n(t,n,s,o)}}function Ra(t,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,y=n,E=s,C=o,z=y.flags;switch(y.tag){case 0:case 11:case 15:Ra(f,y,E,C,h),$o(8,y);break;case 23:break;case 22:var F=y.stateNode;y.memoizedState!==null?F._visibility&2?Ra(f,y,E,C,h):el(f,y):(F._visibility|=2,Ra(f,y,E,C,h)),h&&z&2048&&Gf(y.alternate,y);break;case 24:Ra(f,y,E,C,h),h&&z&2048&&Ff(y.alternate,y);break;default:Ra(f,y,E,C,h)}n=n.sibling}}function el(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,o=n,h=o.flags;switch(o.tag){case 22:el(s,o),h&2048&&Gf(o.alternate,o);break;case 24:el(s,o),h&2048&&Ff(o.alternate,o);break;default:el(s,o)}n=n.sibling}}var tl=8192;function Ca(t,n,s){if(t.subtreeFlags&tl)for(t=t.child;t!==null;)gy(t,n,s),t=t.sibling}function gy(t,n,s){switch(t.tag){case 26:Ca(t,n,s),t.flags&tl&&t.memoizedState!==null&&rS(s,Jn,t.memoizedState,t.memoizedProps);break;case 5:Ca(t,n,s);break;case 3:case 4:var o=Jn;Jn=uc(t.stateNode.containerInfo),Ca(t,n,s),Jn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=tl,tl=16777216,Ca(t,n,s),tl=o):Ca(t,n,s));break;default:Ca(t,n,s)}}function py(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function nl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];kt=o,_y(o,t)}py(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)yy(t),t=t.sibling}function yy(t){switch(t.tag){case 0:case 11:case 15:nl(t),t.flags&2048&&Ns(9,t,t.return);break;case 3:nl(t);break;case 12:nl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Zu(t)):nl(t);break;default:nl(t)}}function Zu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];kt=o,_y(o,t)}py(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ns(8,n,n.return),Zu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Zu(n));break;default:Zu(n)}t=t.sibling}}function _y(t,n){for(;kt!==null;){var s=kt;switch(s.tag){case 0:case 11:case 15:Ns(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:zo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,kt=o;else e:for(s=t;kt!==null;){o=kt;var h=o.sibling,f=o.return;if(ly(o),o===s){kt=null;break e}if(h!==null){h.return=f,kt=h;break e}kt=f}}}var E1={getCacheForType:function(t){var n=jt(St),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return jt(St).controller.signal}},T1=typeof WeakMap=="function"?WeakMap:Map,Qe=0,tt=null,Me=null,Ve=0,Xe=0,Sn=null,Ds=!1,Ia=!1,Qf=!1,$i=0,ht=0,Os=0,jr=0,Kf=0,An=0,Na=0,il=null,cn=null,Yf=!1,Ju=0,vy=0,$u=1/0,Wu=null,Ms=null,Dt=0,xs=null,Da=null,Wi=0,Xf=0,Zf=null,Ey=null,sl=0,Jf=null;function bn(){return(Qe&2)!==0&&Ve!==0?Ve&-Ve:j.T!==null?id():eu()}function Ty(){if(An===0)if((Ve&536870912)===0||ze){var t=dr;dr<<=1,(dr&3932160)===0&&(dr=262144),An=t}else An=536870912;return t=En.current,t!==null&&(t.flags|=32),An}function hn(t,n,s){(t===tt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Oa(t,0),Vs(t,Ve,An,!1)),mr(t,s),((Qe&2)===0||t!==tt)&&(t===tt&&((Qe&2)===0&&(jr|=s),ht===4&&Vs(t,Ve,An,!1)),Ti(t))}function Sy(t,n,s){if((Qe&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&t.expiredLanes)===0||qn(t,n),h=o?b1(t,n):Wf(t,n,!0),f=o;do{if(h===0){Ia&&!o&&Vs(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!S1(s)){h=Wf(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var E=t;h=il;var C=E.current.memoizedState.isDehydrated;if(C&&(Oa(E,y).flags|=256),y=Wf(E,y,!1),y!==2){if(Qf&&!C){E.errorRecoveryDisabledLanes|=f,jr|=f,h=4;break e}f=cn,cn=h,f!==null&&(cn===null?cn=f:cn.push.apply(cn,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){Oa(t,0),Vs(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Vs(o,n,An,!Ds);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Ju+300-$t(),10<h)){if(Vs(o,n,An,!Ds),ii(o,0,!0)!==0)break e;Wi=n,o.timeoutHandle=Wy(Ay.bind(null,o,s,cn,Wu,Yf,n,An,jr,Na,Ds,f,"Throttled",-0,0),h);break e}Ay(o,s,cn,Wu,Yf,n,An,jr,Na,Ds,f,null,-0,0)}}break}while(!0);Ti(t)}function Ay(t,n,s,o,h,f,y,E,C,z,F,Y,B,G){if(t.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},gy(n,f,Y);var oe=(f&62914560)===f?Ju-$t():(f&4194048)===f?vy-$t():0;if(oe=aS(Y,oe),oe!==null){Wi=f,t.cancelPendingCommit=oe(Oy.bind(null,t,n,f,s,o,h,y,E,C,F,Y,null,B,G)),Vs(t,f,y,!z);return}}Oy(t,n,f,s,o,h,y,E,C)}function S1(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!_n(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Vs(t,n,s,o){n&=~Kf,n&=~jr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-ft(h),y=1<<f;o[f]=-1,h&=~y}s!==0&&gr(t,s,n)}function ec(){return(Qe&6)===0?(rl(0),!1):!0}function $f(){if(Me!==null){if(Xe===0)var t=Me.return;else t=Me,qi=Or=null,mf(t),Ta=null,Bo=0,t=Me;for(;t!==null;)ey(t.alternate,t),t=t.return;Me=null}}function Oa(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,q1(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Wi=0,$f(),tt=t,Me=s=ji(t.current,null),Ve=n,Xe=0,Sn=null,Ds=!1,Ia=qn(t,n),Qf=!1,Na=An=Kf=jr=Os=ht=0,cn=il=null,Yf=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-ft(o),f=1<<h;n|=t[h],o&=~f}return $i=n,Tu(),s}function by(t,n){Ce=null,j.H=Xo,n===Ea||n===Nu?(n=jg(),Xe=3):n===tf?(n=jg(),Xe=4):Xe=n===Df?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Sn=n,Me===null&&(ht=1,Hu(t,Mn(n,t.current)))}function wy(){var t=En.current;return t===null?!0:(Ve&4194048)===Ve?Un===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?t===Un:!1}function Ry(){var t=j.H;return j.H=Xo,t===null?Xo:t}function Cy(){var t=j.A;return j.A=E1,t}function tc(){ht=4,Ds||(Ve&4194048)!==Ve&&En.current!==null||(Ia=!0),(Os&134217727)===0&&(jr&134217727)===0||tt===null||Vs(tt,Ve,An,!1)}function Wf(t,n,s){var o=Qe;Qe|=2;var h=Ry(),f=Cy();(tt!==t||Ve!==n)&&(Wu=null,Oa(t,n)),n=!1;var y=ht;e:do try{if(Xe!==0&&Me!==null){var E=Me,C=Sn;switch(Xe){case 8:$f(),y=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(n=!0);var z=Xe;if(Xe=0,Sn=null,Ma(t,E,C,z),s&&Ia){y=0;break e}break;default:z=Xe,Xe=0,Sn=null,Ma(t,E,C,z)}}A1(),y=ht;break}catch(F){by(t,F)}while(!0);return n&&t.shellSuspendCounter++,qi=Or=null,Qe=o,j.H=h,j.A=f,Me===null&&(tt=null,Ve=0,Tu()),y}function A1(){for(;Me!==null;)Iy(Me)}function b1(t,n){var s=Qe;Qe|=2;var o=Ry(),h=Cy();tt!==t||Ve!==n?(Wu=null,$u=$t()+500,Oa(t,n)):Ia=qn(t,n);e:do try{if(Xe!==0&&Me!==null){n=Me;var f=Sn;t:switch(Xe){case 1:Xe=0,Sn=null,Ma(t,n,f,1);break;case 2:case 9:if(Pg(f)){Xe=0,Sn=null,Ny(n);break}n=function(){Xe!==2&&Xe!==9||tt!==t||(Xe=7),Ti(t)},f.then(n,n);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Pg(f)?(Xe=0,Sn=null,Ny(n)):(Xe=0,Sn=null,Ma(t,n,f,7));break;case 5:var y=null;switch(Me.tag){case 26:y=Me.memoizedState;case 5:case 27:var E=Me;if(y?m_(y):E.stateNode.complete){Xe=0,Sn=null;var C=E.sibling;if(C!==null)Me=C;else{var z=E.return;z!==null?(Me=z,nc(z)):Me=null}break t}}Xe=0,Sn=null,Ma(t,n,f,5);break;case 6:Xe=0,Sn=null,Ma(t,n,f,6);break;case 8:$f(),ht=6;break e;default:throw Error(a(462))}}w1();break}catch(F){by(t,F)}while(!0);return qi=Or=null,j.H=o,j.A=h,Qe=s,Me!==null?0:(tt=null,Ve=0,Tu(),ht)}function w1(){for(;Me!==null&&!Ih();)Iy(Me)}function Iy(t){var n=$p(t.alternate,t,$i);t.memoizedProps=t.pendingProps,n===null?nc(t):Me=n}function Ny(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Qp(s,n,n.pendingProps,n.type,void 0,Ve);break;case 11:n=Qp(s,n,n.pendingProps,n.type.render,n.ref,Ve);break;case 5:mf(n);default:ey(s,n),n=Me=Cg(n,$i),n=$p(s,n,$i)}t.memoizedProps=t.pendingProps,n===null?nc(t):Me=n}function Ma(t,n,s,o){qi=Or=null,mf(n),Ta=null,Bo=0;var h=n.return;try{if(d1(t,h,n,s,Ve)){ht=1,Hu(t,Mn(s,t.current)),Me=null;return}}catch(f){if(h!==null)throw Me=h,f;ht=1,Hu(t,Mn(s,t.current)),Me=null;return}n.flags&32768?(ze||o===1?t=!0:Ia||(Ve&536870912)!==0?t=!1:(Ds=t=!0,(o===2||o===9||o===3||o===6)&&(o=En.current,o!==null&&o.tag===13&&(o.flags|=16384))),Dy(n,t)):nc(n)}function nc(t){var n=t;do{if((n.flags&32768)!==0){Dy(n,Ds);return}t=n.return;var s=p1(n.alternate,n,$i);if(s!==null){Me=s;return}if(n=n.sibling,n!==null){Me=n;return}Me=n=t}while(n!==null);ht===0&&(ht=5)}function Dy(t,n){do{var s=y1(t.alternate,t);if(s!==null){s.flags&=32767,Me=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Me=t;return}Me=t=s}while(t!==null);ht=6,Me=null}function Oy(t,n,s,o,h,f,y,E,C){t.cancelPendingCommit=null;do ic();while(Dt!==0);if((Qe&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=jh,Oh(t,s,f,y,E,C),t===tt&&(Me=tt=null,Ve=0),Da=n,xs=t,Wi=s,Xf=f,Zf=h,Ey=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,N1(cs,function(){return Uy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=j.T,j.T=null,h=ee.p,ee.p=2,y=Qe,Qe|=4;try{_1(t,n,s)}finally{Qe=y,ee.p=h,j.T=o}}Dt=1,My(),xy(),Vy()}}function My(){if(Dt===1){Dt=0;var t=xs,n=Da,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=j.T,j.T=null;var o=ee.p;ee.p=2;var h=Qe;Qe|=4;try{fy(n,t);var f=hd,y=_g(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&yg(E.ownerDocument.documentElement,E)){if(C!==null&&kh(E)){var z=C.start,F=C.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var Y=E.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var G=B.getSelection(),oe=E.textContent.length,pe=Math.min(C.start,oe),et=C.end===void 0?pe:Math.min(C.end,oe);!G.extend&&pe>et&&(y=et,et=pe,pe=y);var k=pg(E,pe),M=pg(E,et);if(k&&M&&(G.rangeCount!==1||G.anchorNode!==k.node||G.anchorOffset!==k.offset||G.focusNode!==M.node||G.focusOffset!==M.offset)){var P=Y.createRange();P.setStart(k.node,k.offset),G.removeAllRanges(),pe>et?(G.addRange(P),G.extend(M.node,M.offset)):(P.setEnd(M.node,M.offset),G.addRange(P))}}}}for(Y=[],G=E;G=G.parentNode;)G.nodeType===1&&Y.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var K=Y[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}gc=!!cd,hd=cd=null}finally{Qe=h,ee.p=o,j.T=s}}t.current=n,Dt=2}}function xy(){if(Dt===2){Dt=0;var t=xs,n=Da,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=j.T,j.T=null;var o=ee.p;ee.p=2;var h=Qe;Qe|=4;try{oy(t,n.alternate,n)}finally{Qe=h,ee.p=o,j.T=s}}Dt=3}}function Vy(){if(Dt===4||Dt===3){Dt=0,Kl();var t=xs,n=Da,s=Wi,o=Ey;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Dt=5:(Dt=0,Da=xs=null,ky(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ms=null),Ui(s),n=n.stateNode,Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(Bn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=j.T,h=ee.p,ee.p=2,j.T=null;try{for(var f=t.onRecoverableError,y=0;y<o.length;y++){var E=o[y];f(E.value,{componentStack:E.stack})}}finally{j.T=n,ee.p=h}}(Wi&3)!==0&&ic(),Ti(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===Jf?sl++:(sl=0,Jf=t):sl=0,rl(0)}}function ky(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,zo(n)))}function ic(){return My(),xy(),Vy(),Uy()}function Uy(){if(Dt!==5)return!1;var t=xs,n=Xf;Xf=0;var s=Ui(Wi),o=j.T,h=ee.p;try{ee.p=32>s?32:s,j.T=null,s=Zf,Zf=null;var f=xs,y=Wi;if(Dt=0,Da=xs=null,Wi=0,(Qe&6)!==0)throw Error(a(331));var E=Qe;if(Qe|=4,yy(f.current),my(f,f.current,y,s),Qe=E,rl(0,!1),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(Bn,f)}catch{}return!0}finally{ee.p=h,j.T=o,ky(t,n)}}function Ly(t,n,s){n=Mn(s,n),n=Nf(t.stateNode,n,2),t=Rs(t,n,2),t!==null&&(mr(t,2),Ti(t))}function Ze(t,n,s){if(t.tag===3)Ly(t,t,s);else for(;n!==null;){if(n.tag===3){Ly(n,t,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ms===null||!Ms.has(o))){t=Mn(s,t),s=Pp(2),o=Rs(n,s,2),o!==null&&(zp(s,o,n,t),mr(o,2),Ti(o));break}}n=n.return}}function ed(t,n,s){var o=t.pingCache;if(o===null){o=t.pingCache=new T1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Qf=!0,h.add(s),t=R1.bind(null,t,n,s),n.then(t,t))}function R1(t,n,s){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,tt===t&&(Ve&s)===s&&(ht===4||ht===3&&(Ve&62914560)===Ve&&300>$t()-Ju?(Qe&2)===0&&Oa(t,0):Kf|=s,Na===Ve&&(Na=0)),Ti(t)}function Py(t,n){n===0&&(n=Wl()),t=Ir(t,n),t!==null&&(mr(t,n),Ti(t))}function C1(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Py(t,s)}function I1(t,n){var s=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Py(t,s)}function N1(t,n){return Nt(t,n)}var sc=null,xa=null,td=!1,rc=!1,nd=!1,ks=0;function Ti(t){t!==xa&&t.next===null&&(xa===null?sc=xa=t:xa=xa.next=t),rc=!0,td||(td=!0,O1())}function rl(t,n){if(!nd&&rc){nd=!0;do for(var s=!1,o=sc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ft(42|t)+1)-1,f&=h&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,qy(o,f))}else f=Ve,f=ii(o,o===tt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||qn(o,f)||(s=!0,qy(o,f));o=o.next}while(s);nd=!1}}function D1(){zy()}function zy(){rc=td=!1;var t=0;ks!==0&&B1()&&(t=ks);for(var n=$t(),s=null,o=sc;o!==null;){var h=o.next,f=jy(o,n);f===0?(o.next=null,s===null?sc=h:s.next=h,h===null&&(xa=s)):(s=o,(t!==0||(f&3)!==0)&&(rc=!0)),o=h}Dt!==0&&Dt!==5||rl(t),ks!==0&&(ks=0)}function jy(t,n){for(var s=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-ft(f),E=1<<y,C=h[y];C===-1?((E&s)===0||(E&o)!==0)&&(h[y]=Dh(E,n)):C<=n&&(t.expiredLanes|=E),f&=~E}if(n=tt,s=Ve,s=ii(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===n&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&us(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||qn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(o!==null&&us(o),Ui(s)){case 2:case 8:s=go;break;case 32:s=cs;break;case 268435456:s=Yl;break;default:s=cs}return o=By.bind(null,t),s=Nt(s,o),t.callbackPriority=n,t.callbackNode=s,n}return o!==null&&o!==null&&us(o),t.callbackPriority=2,t.callbackNode=null,2}function By(t,n){if(Dt!==0&&Dt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(ic()&&t.callbackNode!==s)return null;var o=Ve;return o=ii(t,t===tt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Sy(t,o,n),jy(t,$t()),t.callbackNode!=null&&t.callbackNode===s?By.bind(null,t):null)}function qy(t,n){if(ic())return null;Sy(t,n,!0)}function O1(){H1(function(){(Qe&6)!==0?Nt(mo,D1):zy()})}function id(){if(ks===0){var t=_a;t===0&&(t=ti,ti<<=1,(ti&261888)===0&&(ti=256)),ks=t}return ks}function Hy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ia(""+t)}function Gy(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function M1(t,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Hy((h[xt]||null).action),y=o.submitter;y&&(n=(n=y[xt]||null)?Hy(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new mi("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ks!==0){var C=y?Gy(h,y):new FormData(h);Af(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=y?Gy(h,y):new FormData(h),Af(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var sd=0;sd<zh.length;sd++){var rd=zh[sd],x1=rd.toLowerCase(),V1=rd[0].toUpperCase()+rd.slice(1);Zn(x1,"on"+V1)}Zn(Tg,"onAnimationEnd"),Zn(Sg,"onAnimationIteration"),Zn(Ag,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(ZT,"onTransitionRun"),Zn(JT,"onTransitionStart"),Zn($T,"onTransitionCancel"),Zn(bg,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(al));function Fy(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var E=o[y],C=E.instance,z=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(F){Eu(F)}h.currentTarget=null,f=C}else for(y=0;y<o.length;y++){if(E=o[y],C=E.instance,z=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(F){Eu(F)}h.currentTarget=null,f=C}}}}function xe(t,n){var s=n[$r];s===void 0&&(s=n[$r]=new Set);var o=t+"__bubble";s.has(o)||(Qy(n,t,2,!1),s.add(o))}function ad(t,n,s){var o=0;n&&(o|=4),Qy(s,t,o,n)}var ac="_reactListening"+Math.random().toString(36).slice(2);function od(t){if(!t[ac]){t[ac]=!0,_o.forEach(function(s){s!=="selectionchange"&&(k1.has(s)||ad(s,!1,t),ad(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[ac]||(n[ac]=!0,ad("selectionchange",!1,n))}}function Qy(t,n,s,o){switch(T_(n)){case 2:var h=uS;break;case 8:h=cS;break;default:h=Sd}s=h.bind(null,n,s,t),h=void 0,!Er||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function ld(t,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=o.return;y!==null;){var C=y.tag;if((C===3||C===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=oi(E),y===null)return;if(C=y.tag,C===5||C===6||C===26||C===27){o=f=y;continue e}E=E.parentNode}}o=o.return}ps(function(){var z=f,F=In(s),Y=[];e:{var B=wg.get(t);if(B!==void 0){var G=mi,oe=t;switch(t){case"keypress":if(Sr(s)===0)break e;case"keydown":case"keyup":G=yu;break;case"focusin":oe="focus",G=br;break;case"focusout":oe="blur",G=br;break;case"beforeblur":case"afterblur":G=br;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Oo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=lu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=m;break;case Tg:case Sg:case Ag:G=cu;break;case bg:G=T;break;case"scroll":case"scrollend":G=Do;break;case"wheel":G=H;break;case"copy":case"cut":case"paste":G=hu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=zi;break;case"toggle":case"beforetoggle":G=Re}var pe=(n&4)!==0,et=!pe&&(t==="scroll"||t==="scrollend"),k=pe?B!==null?B+"Capture":null:B;pe=[];for(var M=z,P;M!==null;){var K=M;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||k===null||(K=Qn(M,k),K!=null&&pe.push(ol(M,K,P))),et)break;M=M.return}0<pe.length&&(B=new G(B,oe,null,s,F),Y.push({event:B,listeners:pe}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",B&&s!==Co&&(oe=s.relatedTarget||s.fromElement)&&(oi(oe)||oe[ri]))break e;if((G||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,G?(oe=s.relatedTarget||s.toElement,G=z,oe=oe?oi(oe):null,oe!==null&&(et=c(oe),pe=oe.tag,oe!==et||pe!==5&&pe!==27&&pe!==6)&&(oe=null)):(G=null,oe=z),G!==oe)){if(pe=Oo,K="onMouseLeave",k="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(pe=zi,K="onPointerLeave",k="onPointerEnter",M="pointer"),et=G==null?B:pn(G),P=oe==null?B:pn(oe),B=new pe(K,M+"leave",G,s,F),B.target=et,B.relatedTarget=P,K=null,oi(F)===z&&(pe=new pe(k,M+"enter",oe,s,F),pe.target=P,pe.relatedTarget=et,K=pe),et=K,G&&oe)t:{for(pe=U1,k=G,M=oe,P=0,K=k;K;K=pe(K))P++;K=0;for(var fe=M;fe;fe=pe(fe))K++;for(;0<P-K;)k=pe(k),P--;for(;0<K-P;)M=pe(M),K--;for(;P--;){if(k===M||M!==null&&k===M.alternate){pe=k;break t}k=pe(k),M=pe(M)}pe=null}else pe=null;G!==null&&Ky(Y,B,G,pe,!1),oe!==null&&et!==null&&Ky(Y,et,oe,pe,!0)}}e:{if(B=z?pn(z):window,G=B.nodeName&&B.nodeName.toLowerCase(),G==="select"||G==="input"&&B.type==="file")var qe=cg;else if(lg(B))if(hg)qe=KT;else{qe=FT;var ue=GT}else G=B.nodeName,!G||G.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&na(z.elementType)&&(qe=cg):qe=QT;if(qe&&(qe=qe(t,z))){ug(Y,qe,s,F);break e}ue&&ue(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&bo(B,"number",B.value)}switch(ue=z?pn(z):window,t){case"focusin":(lg(ue)||ue.contentEditable==="true")&&(ca=ue,Uh=z,Uo=null);break;case"focusout":Uo=Uh=ca=null;break;case"mousedown":Lh=!0;break;case"contextmenu":case"mouseup":case"dragend":Lh=!1,vg(Y,s,F);break;case"selectionchange":if(XT)break;case"keydown":case"keyup":vg(Y,s,F)}var Ne;if(Fe)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else ua?wr(t,s)&&(ke="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(ke="onCompositionStart");ke&&(yi&&s.locale!=="ko"&&(ua||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&ua&&(Ne=No()):(di=F,Io="value"in di?di.value:di.textContent,ua=!0)),ue=oc(z,ke),0<ue.length&&(ke=new pi(ke,t,null,s,F),Y.push({event:ke,listeners:ue}),Ne?ke.data=Ne:(Ne=la(s),Ne!==null&&(ke.data=Ne)))),(Ne=Dn?jT(t,s):BT(t,s))&&(ke=oc(z,"onBeforeInput"),0<ke.length&&(ue=new pi("onBeforeInput","beforeinput",null,s,F),Y.push({event:ue,listeners:ke}),ue.data=Ne)),M1(Y,t,z,s,F)}Fy(Y,n)})}function ol(t,n,s){return{instance:t,listener:n,currentTarget:s}}function oc(t,n){for(var s=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Qn(t,s),h!=null&&o.unshift(ol(t,h,f)),h=Qn(t,n),h!=null&&o.push(ol(t,h,f))),t.tag===3)return o;t=t.return}return[]}function U1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ky(t,n,s,o,h){for(var f=n._reactName,y=[];s!==null&&s!==o;){var E=s,C=E.alternate,z=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||z===null||(C=z,h?(z=Qn(s,f),z!=null&&y.unshift(ol(s,z,C))):h||(z=Qn(s,f),z!=null&&y.push(ol(s,z,C)))),s=s.return}y.length!==0&&t.push({event:n,listeners:y})}var L1=/\r\n?/g,P1=/\u0000|\uFFFD/g;function Yy(t){return(typeof t=="string"?t:""+t).replace(L1,`
`).replace(P1,"")}function Xy(t,n){return n=Yy(n),Yy(t)===n}function We(t,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||an(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&an(t,""+o);break;case"className":yn(t,"class",o);break;case"tabIndex":yn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(t,s,o);break;case"style":Ro(t,o,f);break;case"data":if(n!=="object"){yn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=ia(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&We(t,n,"name",h.name,h,null),We(t,n,"formEncType",h.formEncType,h,null),We(t,n,"formMethod",h.formMethod,h,null),We(t,n,"formTarget",h.formTarget,h,null)):(We(t,n,"encType",h.encType,h,null),We(t,n,"method",h.method,h,null),We(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=ia(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=Fn);break;case"onScroll":o!=null&&xe("scroll",t);break;case"onScrollEnd":o!=null&&xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=ia(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":xe("beforetoggle",t),xe("toggle",t),ea(t,"popover",o);break;case"xlinkActuate":Tt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Tt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Tt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Tt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Tt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Tt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ea(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=ou.get(s)||s,ea(t,s,o))}}function ud(t,n,s,o,h,f){switch(s){case"style":Ro(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof o=="string"?an(t,o):(typeof o=="number"||typeof o=="bigint")&&an(t,""+o);break;case"onScroll":o!=null&&xe("scroll",t);break;case"onScrollEnd":o!=null&&xe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vo.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=t[xt]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,o,h);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):ea(t,s,o)}}}function qt(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",t),xe("load",t);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var y=s[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:We(t,n,f,y,s,null)}}h&&We(t,n,"srcSet",s.srcSet,s,null),o&&We(t,n,"src",s.src,s,null);return;case"input":xe("invalid",t);var E=f=y=h=null,C=null,z=null;for(o in s)if(s.hasOwnProperty(o)){var F=s[o];if(F!=null)switch(o){case"name":h=F;break;case"type":y=F;break;case"checked":C=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:We(t,n,o,F,s,null)}}su(t,f,E,C,z,y,h,!1);return;case"select":xe("invalid",t),o=y=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:We(t,n,h,E,s,null)}n=f,s=y,t.multiple=!!o,n!=null?fs(t,!!o,n,!1):s!=null&&fs(t,!!o,s,!0);return;case"textarea":xe("invalid",t),f=h=o=null;for(y in s)if(s.hasOwnProperty(y)&&(E=s[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:We(t,n,y,E,s,null)}ds(t,o,h,f);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(o=s[C],o!=null))switch(C){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:We(t,n,C,o,s,null)}return;case"dialog":xe("beforetoggle",t),xe("toggle",t),xe("cancel",t),xe("close",t);break;case"iframe":case"object":xe("load",t);break;case"video":case"audio":for(o=0;o<al.length;o++)xe(al[o],t);break;case"image":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"embed":case"source":case"link":xe("error",t),xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:We(t,n,z,o,s,null)}return;default:if(na(n)){for(F in s)s.hasOwnProperty(F)&&(o=s[F],o!==void 0&&ud(t,n,F,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&We(t,n,E,o,s,null))}function z1(t,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,C=null,z=null,F=null;for(G in s){var Y=s[G];if(s.hasOwnProperty(G)&&Y!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=Y;default:o.hasOwnProperty(G)||We(t,n,G,null,o,Y)}}for(var B in o){var G=o[B];if(Y=s[B],o.hasOwnProperty(B)&&(G!=null||Y!=null))switch(B){case"type":f=G;break;case"name":h=G;break;case"checked":z=G;break;case"defaultChecked":F=G;break;case"value":y=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:G!==Y&&We(t,n,B,G,o,Y)}}ta(t,y,E,C,z,F,f,h);return;case"select":G=y=E=B=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":G=C;default:o.hasOwnProperty(f)||We(t,n,f,null,o,C)}for(h in o)if(f=o[h],C=s[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==C&&We(t,n,h,f,o,C)}n=E,s=y,o=G,B!=null?fs(t,!!s,B,!1):!!o!=!!s&&(n!=null?fs(t,!!s,n,!0):fs(t,!!s,s?[]:"",!1));return;case"textarea":G=B=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:We(t,n,E,null,o,h)}for(y in o)if(h=o[y],f=s[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":B=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&We(t,n,y,h,o,f)}ru(t,B,G);return;case"option":for(var oe in s)if(B=s[oe],s.hasOwnProperty(oe)&&B!=null&&!o.hasOwnProperty(oe))switch(oe){case"selected":t.selected=!1;break;default:We(t,n,oe,null,o,B)}for(C in o)if(B=o[C],G=s[C],o.hasOwnProperty(C)&&B!==G&&(B!=null||G!=null))switch(C){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:We(t,n,C,B,o,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in s)B=s[pe],s.hasOwnProperty(pe)&&B!=null&&!o.hasOwnProperty(pe)&&We(t,n,pe,null,o,B);for(z in o)if(B=o[z],G=s[z],o.hasOwnProperty(z)&&B!==G&&(B!=null||G!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:We(t,n,z,B,o,G)}return;default:if(na(n)){for(var et in s)B=s[et],s.hasOwnProperty(et)&&B!==void 0&&!o.hasOwnProperty(et)&&ud(t,n,et,void 0,o,B);for(F in o)B=o[F],G=s[F],!o.hasOwnProperty(F)||B===G||B===void 0&&G===void 0||ud(t,n,F,B,o,G);return}}for(var k in s)B=s[k],s.hasOwnProperty(k)&&B!=null&&!o.hasOwnProperty(k)&&We(t,n,k,null,o,B);for(Y in o)B=o[Y],G=s[Y],!o.hasOwnProperty(Y)||B===G||B==null&&G==null||We(t,n,Y,B,o,G)}function Zy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function j1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,y=h.initiatorType,E=h.duration;if(f&&E&&Zy(y)){for(y=0,E=h.responseEnd,o+=1;o<s.length;o++){var C=s[o],z=C.startTime;if(z>E)break;var F=C.transferSize,Y=C.initiatorType;F&&Zy(Y)&&(C=C.responseEnd,y+=F*(C<E?1:(E-z)/(C-z)))}if(--o,n+=8*(f+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var cd=null,hd=null;function lc(t){return t.nodeType===9?t:t.ownerDocument}function Jy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $y(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function fd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var dd=null;function B1(){var t=window.event;return t&&t.type==="popstate"?t===dd?!1:(dd=t,!0):(dd=null,!1)}var Wy=typeof setTimeout=="function"?setTimeout:void 0,q1=typeof clearTimeout=="function"?clearTimeout:void 0,e_=typeof Promise=="function"?Promise:void 0,H1=typeof queueMicrotask=="function"?queueMicrotask:typeof e_<"u"?function(t){return e_.resolve(null).then(t).catch(G1)}:Wy;function G1(t){setTimeout(function(){throw t})}function Us(t){return t==="head"}function t_(t,n){var s=n,o=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){t.removeChild(h),La(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")ll(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,ll(s);for(var f=s.firstChild;f;){var y=f.nextSibling,E=f.nodeName;f[ai]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=y}}else s==="body"&&ll(t.ownerDocument.body);s=h}while(s);La(n)}function n_(t,n){var s=t;t=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=o}while(s)}function md(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":md(s),Wr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function F1(t,n,s,o){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[ai])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function Q1(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Ln(t.nextSibling),t===null))return null;return t}function i_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Ln(t.nextSibling),t===null))return null;return t}function gd(t){return t.data==="$?"||t.data==="$~"}function pd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function K1(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Ln(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var yd=null;function s_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return Ln(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function r_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function a_(t,n,s){switch(n=lc(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function ll(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Wr(t)}var Pn=new Map,o_=new Set;function uc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var es=ee.d;ee.d={f:Y1,r:X1,D:Z1,C:J1,L:$1,m:W1,X:tS,S:eS,M:nS};function Y1(){var t=es.f(),n=ec();return t||n}function X1(t){var n=Cn(t);n!==null&&n.tag===5&&n.type==="form"?bp(n):es.r(t)}var Va=typeof document>"u"?null:document;function l_(t,n,s){var o=Va;if(o&&typeof n=="string"&&n){var h=rn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),o_.has(h)||(o_.add(h),t={rel:t,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),qt(n,"link",t),Et(n),o.head.appendChild(n)))}}function Z1(t){es.D(t),l_("dns-prefetch",t,null)}function J1(t,n){es.C(t,n),l_("preconnect",t,n)}function $1(t,n,s){es.L(t,n,s);var o=Va;if(o&&t&&n){var h='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+rn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+rn(s.imageSizes)+'"]')):h+='[href="'+rn(t)+'"]';var f=h;switch(n){case"style":f=ka(t);break;case"script":f=Ua(t)}Pn.has(f)||(t=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Pn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(ul(f))||n==="script"&&o.querySelector(cl(f))||(n=o.createElement("link"),qt(n,"link",t),Et(n),o.head.appendChild(n)))}}function W1(t,n){es.m(t,n);var s=Va;if(s&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ua(t)}if(!Pn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Pn.set(f,t),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(cl(f)))return}o=s.createElement("link"),qt(o,"link",t),Et(o),s.head.appendChild(o)}}}function eS(t,n,s){es.S(t,n,s);var o=Va;if(o&&t){var h=li(o).hoistableStyles,f=ka(t);n=n||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(ul(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Pn.get(f))&&_d(t,s);var C=y=o.createElement("link");Et(C),qt(C,"link",t),C._p=new Promise(function(z,F){C.onload=z,C.onerror=F}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,cc(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function tS(t,n){es.X(t,n);var s=Va;if(s&&t){var o=li(s).hoistableScripts,h=Ua(t),f=o.get(h);f||(f=s.querySelector(cl(h)),f||(t=A({src:t,async:!0},n),(n=Pn.get(h))&&vd(t,n),f=s.createElement("script"),Et(f),qt(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function nS(t,n){es.M(t,n);var s=Va;if(s&&t){var o=li(s).hoistableScripts,h=Ua(t),f=o.get(h);f||(f=s.querySelector(cl(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Pn.get(h))&&vd(t,n),f=s.createElement("script"),Et(f),qt(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function u_(t,n,s,o){var h=(h=Te.current)?uc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=ka(s.href),s=li(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=ka(s.href);var f=li(h).hoistableStyles,y=f.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=h.querySelector(ul(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Pn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Pn.set(t,s),f||iS(h,t,s,y.state))),n&&o===null)throw Error(a(528,""));return y}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ua(s),s=li(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ka(t){return'href="'+rn(t)+'"'}function ul(t){return'link[rel="stylesheet"]['+t+"]"}function c_(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function iS(t,n,s,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),qt(n,"link",s),Et(n),t.head.appendChild(n))}function Ua(t){return'[src="'+rn(t)+'"]'}function cl(t){return"script[async]"+t}function h_(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+rn(s.href)+'"]');if(o)return n.instance=o,Et(o),o;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Et(o),qt(o,"style",h),cc(o,s.precedence,t),n.instance=o;case"stylesheet":h=ka(s.href);var f=t.querySelector(ul(h));if(f)return n.state.loading|=4,n.instance=f,Et(f),f;o=c_(s),(h=Pn.get(h))&&_d(o,h),f=(t.ownerDocument||t).createElement("link"),Et(f);var y=f;return y._p=new Promise(function(E,C){y.onload=E,y.onerror=C}),qt(f,"link",o),n.state.loading|=4,cc(f,s.precedence,t),n.instance=f;case"script":return f=Ua(s.src),(h=t.querySelector(cl(f)))?(n.instance=h,Et(h),h):(o=s,(h=Pn.get(f))&&(o=A({},s),vd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Et(h),qt(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,cc(o,s.precedence,t));return n.instance}function cc(t,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function _d(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function vd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var hc=null;function f_(t,n,s){if(hc===null){var o=new Map,h=hc=new Map;h.set(s,o)}else h=hc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[ai]||f[vt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=o.get(y);E?E.push(f):o.set(y,[f])}}return o}function d_(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function sS(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function m_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function rS(t,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=ka(o.href),f=n.querySelector(ul(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=fc.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,Et(f);return}f=n.ownerDocument||n,o=c_(o),(h=Pn.get(h))&&_d(o,h),f=f.createElement("link"),Et(f);var y=f;y._p=new Promise(function(E,C){y.onload=E,y.onerror=C}),qt(f,"link",o),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=fc.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var Ed=0;function aS(t,n){return t.stylesheets&&t.count===0&&mc(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var o=setTimeout(function(){if(t.stylesheets&&mc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Ed===0&&(Ed=62500*j1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&mc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Ed?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function fc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var dc=null;function mc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,dc=new Map,n.forEach(oS,t),dc=null,fc.call(t))}function oS(t,n){if(!(n.state.loading&4)){var s=dc.get(t);if(s)var o=s.get(null);else{s=new Map,dc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),o=y)}o&&s.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),f=s.get(y)||o,f===o&&s.set(null,h),s.set(y,h),this.count++,o=fc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var hl={$$typeof:re,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function lS(t,n,s,o,h,f,y,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.hiddenUpdates=si(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function g_(t,n,s,o,h,f,y,E,C,z,F,Y){return t=new lS(t,n,s,y,C,z,F,Y,E),n=1,f===!0&&(n|=24),f=vn(3,null,null,n),t.current=f,f.stateNode=t,n=$h(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},nf(f),t}function p_(t){return t?(t=da,t):da}function y_(t,n,s,o,h,f){h=p_(h),o.context===null?o.context=h:o.pendingContext=h,o=ws(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Rs(t,o,n),s!==null&&(hn(s,t,n),Ho(s,t,n))}function __(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Td(t,n){__(t,n),(t=t.alternate)&&__(t,n)}function v_(t){if(t.tag===13||t.tag===31){var n=Ir(t,67108864);n!==null&&hn(n,t,67108864),Td(t,67108864)}}function E_(t){if(t.tag===13||t.tag===31){var n=bn();n=pr(n);var s=Ir(t,n);s!==null&&hn(s,t,n),Td(t,n)}}var gc=!0;function uS(t,n,s,o){var h=j.T;j.T=null;var f=ee.p;try{ee.p=2,Sd(t,n,s,o)}finally{ee.p=f,j.T=h}}function cS(t,n,s,o){var h=j.T;j.T=null;var f=ee.p;try{ee.p=8,Sd(t,n,s,o)}finally{ee.p=f,j.T=h}}function Sd(t,n,s,o){if(gc){var h=Ad(o);if(h===null)ld(t,n,o,pc,s),S_(t,o);else if(fS(h,t,n,s,o))o.stopPropagation();else if(S_(t,o),n&4&&-1<hS.indexOf(t)){for(;h!==null;){var f=Cn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=ni(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var C=1<<31-ft(y);E.entanglements[1]|=C,y&=~C}Ti(f),(Qe&6)===0&&($u=$t()+500,rl(0))}}break;case 31:case 13:E=Ir(f,2),E!==null&&hn(E,f,2),ec(),Td(f,2)}if(f=Ad(o),f===null&&ld(t,n,o,pc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else ld(t,n,o,null,s)}}function Ad(t){return t=In(t),bd(t)}var pc=null;function bd(t){if(pc=null,t=oi(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=g(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return pc=t,null}function T_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fr()){case mo:return 2;case go:return 8;case cs:case Nh:return 32;case Yl:return 268435456;default:return 32}default:return 32}}var wd=!1,Ls=null,Ps=null,zs=null,fl=new Map,dl=new Map,js=[],hS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function S_(t,n){switch(t){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":zs=null;break;case"pointerover":case"pointerout":fl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(n.pointerId)}}function ml(t,n,s,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Cn(n),n!==null&&v_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function fS(t,n,s,o,h){switch(n){case"focusin":return Ls=ml(Ls,t,n,s,o,h),!0;case"dragenter":return Ps=ml(Ps,t,n,s,o,h),!0;case"mouseover":return zs=ml(zs,t,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return fl.set(f,ml(fl.get(f)||null,t,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,dl.set(f,ml(dl.get(f)||null,t,n,s,o,h)),!0}return!1}function A_(t){var n=oi(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,Hn(t.priority,function(){E_(s)});return}}else if(n===31){if(n=g(s),n!==null){t.blockedOn=n,Hn(t.priority,function(){E_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Ad(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);Co=o,s.target.dispatchEvent(o),Co=null}else return n=Cn(s),n!==null&&v_(n),t.blockedOn=s,!1;n.shift()}return!0}function b_(t,n,s){yc(t)&&s.delete(n)}function dS(){wd=!1,Ls!==null&&yc(Ls)&&(Ls=null),Ps!==null&&yc(Ps)&&(Ps=null),zs!==null&&yc(zs)&&(zs=null),fl.forEach(b_),dl.forEach(b_)}function _c(t,n){t.blockedOn===n&&(t.blockedOn=null,wd||(wd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,dS)))}var vc=null;function w_(t){vc!==t&&(vc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){vc===t&&(vc=null);for(var n=0;n<t.length;n+=3){var s=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(bd(o||s)===null)continue;break}var f=Cn(s);f!==null&&(t.splice(n,3),n-=3,Af(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function La(t){function n(C){return _c(C,t)}Ls!==null&&_c(Ls,t),Ps!==null&&_c(Ps,t),zs!==null&&_c(zs,t),fl.forEach(n),dl.forEach(n);for(var s=0;s<js.length;s++){var o=js[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<js.length&&(s=js[0],s.blockedOn===null);)A_(s),s.blockedOn===null&&js.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],y=h[xt]||null;if(typeof f=="function")y||w_(s);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[xt]||null)E=y.formAction;else if(bd(h)!==null)continue}else E=y.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),w_(s)}}}function R_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Rd(t){this._internalRoot=t}Ec.prototype.render=Rd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=bn();y_(s,o,t,n,null,null)},Ec.prototype.unmount=Rd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;y_(t.current,2,null,t,null,null),ec(),n[ri]=null}};function Ec(t){this._internalRoot=t}Ec.prototype.unstable_scheduleHydration=function(t){if(t){var n=eu();t={blockedOn:null,target:t,priority:n};for(var s=0;s<js.length&&n!==0&&n<js[s].priority;s++);js.splice(s,0,t),s===0&&A_(t)}};var C_=e.version;if(C_!=="19.2.1")throw Error(a(527,C_,"19.2.1"));ee.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=p(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var mS={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tc.isDisabled&&Tc.supportsFiber)try{Bn=Tc.inject(mS),Lt=Tc}catch{}}return pl.createRoot=function(t,n){if(!l(t))throw Error(a(299));var s=!1,o="",h=Vp,f=kp,y=Up;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=g_(t,1,!1,null,null,s,o,null,h,f,y,R_),t[ri]=n.current,od(t),new Rd(n)},pl.hydrateRoot=function(t,n,s){if(!l(t))throw Error(a(299));var o=!1,h="",f=Vp,y=kp,E=Up,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=g_(t,1,!0,n,s??null,o,h,C,f,y,E,R_),n.context=p_(null),s=n.current,o=bn(),o=pr(o),h=ws(o),h.callback=null,Rs(s,h,o),s=o,n.current.lanes=s,mr(n,s),Ti(n),t[ri]=n.current,od(t),new Ec(n)},pl.version="19.2.1",pl}var L_;function bS(){if(L_)return Nd.exports;L_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Nd.exports=AS(),Nd.exports}var wS=bS();const RS=()=>{};var P_={};const d0=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},CS=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],g=r[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},m0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,_=l+2<r.length,p=_?r[l+2]:0,S=c>>2,A=(c&3)<<4|g>>4;let D=(g&15)<<2|p>>6,q=p&63;_||(q=64,d||(D=64)),a.push(i[S],i[A],i[D],i[q])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(d0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):CS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const p=l<r.length?i[r.charAt(l)]:64;++l;const A=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||g==null||p==null||A==null)throw new IS;const D=c<<2|g>>4;if(a.push(D),p!==64){const q=g<<4&240|p>>2;if(a.push(q),A!==64){const Z=p<<6&192|A;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class IS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NS=function(r){const e=d0(r);return m0.encodeByteArray(e,!0)},Pc=function(r){return NS(r).replace(/\./g,"")},g0=function(r){try{return m0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function DS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const OS=()=>DS().__FIREBASE_DEFAULTS__,MS=()=>{if(typeof process>"u"||typeof P_>"u")return;const r=P_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},xS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&g0(r[1]);return e&&JSON.parse(e)},rh=()=>{try{return RS()||OS()||MS()||xS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},p0=r=>rh()?.emulatorHosts?.[r],VS=r=>{const e=p0(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},y0=()=>rh()?.config,_0=r=>rh()?.[`_${r}`];class kS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function io(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function v0(r){return(await fetch(r,{credentials:"include"})).ok}function US(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Pc(JSON.stringify(i)),Pc(JSON.stringify(d)),""].join(".")}const Tl={};function LS(){const r={prod:[],emulator:[]};for(const e of Object.keys(Tl))Tl[e]?r.emulator.push(e):r.prod.push(e);return r}function PS(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let z_=!1;function E0(r,e){if(typeof window>"u"||typeof document>"u"||!io(window.location.host)||Tl[r]===e||Tl[r]||z_)return;Tl[r]=e;function i(D){return`__firebase__banner__${D}`}const a="__firebase__banner",c=LS().prod.length>0;function d(){const D=document.getElementById(a);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function _(D,q){D.setAttribute("width","24"),D.setAttribute("id",q),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function p(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{z_=!0,d()},D}function S(D,q){D.setAttribute("id",q),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function A(){const D=PS(a),q=i("text"),Z=document.getElementById(q)||document.createElement("span"),W=i("learnmore"),$=document.getElementById(W)||document.createElement("a"),le=i("preprendIcon"),de=document.getElementById(le)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const re=D.element;g(re),S($,W);const De=p();_(de,le),re.append(de,Z,$,De),document.body.appendChild(re)}c?(Z.innerText="Preview backend disconnected.",de.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(de.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function jS(){const r=rh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function HS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GS(){const r=Jt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function FS(){return!jS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function QS(){try{return typeof indexedDB=="object"}catch{return!1}}function KS(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const YS="FirebaseError";class ls extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=YS,Object.setPrototypeOf(this,ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ul.prototype.create)}}class Ul{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?XS(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new ls(l,g,a)}}function XS(r,e){return r.replace(ZS,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const ZS=/\{\$([^}]+)}/g;function JS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function tr(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=e[l];if(j_(c)&&j_(d)){if(!tr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function j_(r){return r!==null&&typeof r=="object"}function Ll(r){const e=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function $S(r,e){const i=new WS(r,e);return i.subscribe.bind(i)}class WS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");eA(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=xd),l.error===void 0&&(l.error=xd),l.complete===void 0&&(l.complete=xd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eA(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function xd(){}function tn(r){return r&&r._delegate?r._delegate:r}class Gr{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Br="[DEFAULT]";class tA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new kS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iA(e))try{this.getOrInitializeService({instanceIdentifier:Br})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=Br){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Br){return this.instances.has(e)}getOptions(e=Br){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:nA(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Br){return this.component?this.component.multipleInstances?e:Br:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nA(r){return r===Br?void 0:r}function iA(r){return r.instantiationMode==="EAGER"}class sA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new tA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ue||(Ue={}));const rA={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},aA=Ue.INFO,oA={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},lA=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),l=oA[e];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vm{constructor(e){this.name=e,this._logLevel=aA,this._logHandler=lA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const uA=(r,e)=>e.some(i=>r instanceof i);let B_,q_;function cA(){return B_||(B_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hA(){return q_||(q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const T0=new WeakMap,Kd=new WeakMap,S0=new WeakMap,Vd=new WeakMap,Em=new WeakMap;function fA(r){const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Xs(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&T0.set(i,r)}).catch(()=>{}),Em.set(e,r),e}function dA(r){if(Kd.has(r))return;const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Kd.set(r,e)}let Yd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Kd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||S0.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Xs(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function mA(r){Yd=r(Yd)}function gA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(kd(this),e,...i);return S0.set(a,e.sort?e.sort():[e]),Xs(a)}:hA().includes(r)?function(...e){return r.apply(kd(this),e),Xs(T0.get(this))}:function(...e){return Xs(r.apply(kd(this),e))}}function pA(r){return typeof r=="function"?gA(r):(r instanceof IDBTransaction&&dA(r),uA(r,cA())?new Proxy(r,Yd):r)}function Xs(r){if(r instanceof IDBRequest)return fA(r);if(Vd.has(r))return Vd.get(r);const e=pA(r);return e!==r&&(Vd.set(r,e),Em.set(e,r)),e}const kd=r=>Em.get(r);function yA(r,e,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,e),g=Xs(d);return a&&d.addEventListener("upgradeneeded",_=>{a(Xs(d.result),_.oldVersion,_.newVersion,Xs(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",p=>l(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const _A=["get","getKey","getAll","getAllKeys","count"],vA=["put","add","delete","clear"],Ud=new Map;function H_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Ud.get(e))return Ud.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=vA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||_A.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let p=_.store;return a&&(p=p.index(g.shift())),(await Promise.all([p[i](...g),l&&_.done]))[0]};return Ud.set(e,c),c}mA(r=>({...r,get:(e,i,a)=>H_(e,i)||r.get(e,i,a),has:(e,i)=>!!H_(e,i)||r.has(e,i)}));class EA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(TA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function TA(r){return r.getComponent()?.type==="VERSION"}const Xd="@firebase/app",G_="0.14.6";const is=new vm("@firebase/app"),SA="@firebase/app-compat",AA="@firebase/analytics-compat",bA="@firebase/analytics",wA="@firebase/app-check-compat",RA="@firebase/app-check",CA="@firebase/auth",IA="@firebase/auth-compat",NA="@firebase/database",DA="@firebase/data-connect",OA="@firebase/database-compat",MA="@firebase/functions",xA="@firebase/functions-compat",VA="@firebase/installations",kA="@firebase/installations-compat",UA="@firebase/messaging",LA="@firebase/messaging-compat",PA="@firebase/performance",zA="@firebase/performance-compat",jA="@firebase/remote-config",BA="@firebase/remote-config-compat",qA="@firebase/storage",HA="@firebase/storage-compat",GA="@firebase/firestore",FA="@firebase/ai",QA="@firebase/firestore-compat",KA="firebase",YA="12.6.0";const Zd="[DEFAULT]",XA={[Xd]:"fire-core",[SA]:"fire-core-compat",[bA]:"fire-analytics",[AA]:"fire-analytics-compat",[RA]:"fire-app-check",[wA]:"fire-app-check-compat",[CA]:"fire-auth",[IA]:"fire-auth-compat",[NA]:"fire-rtdb",[DA]:"fire-data-connect",[OA]:"fire-rtdb-compat",[MA]:"fire-fn",[xA]:"fire-fn-compat",[VA]:"fire-iid",[kA]:"fire-iid-compat",[UA]:"fire-fcm",[LA]:"fire-fcm-compat",[PA]:"fire-perf",[zA]:"fire-perf-compat",[jA]:"fire-rc",[BA]:"fire-rc-compat",[qA]:"fire-gcs",[HA]:"fire-gcs-compat",[GA]:"fire-fst",[QA]:"fire-fst-compat",[FA]:"fire-vertex","fire-js":"fire-js",[KA]:"fire-js-all"};const zc=new Map,ZA=new Map,Jd=new Map;function F_(r,e){try{r.container.addComponent(e)}catch(i){is.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ya(r){const e=r.name;if(Jd.has(e))return is.debug(`There were multiple attempts to register component ${e}.`),!1;Jd.set(e,r);for(const i of zc.values())F_(i,r);for(const i of ZA.values())F_(i,r);return!0}function Tm(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function Wn(r){return r==null?!1:r.settings!==void 0}const JA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zs=new Ul("app","Firebase",JA);class $A{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Gr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zs.create("app-deleted",{appName:this._name})}}const so=YA;function A0(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:Zd,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw Zs.create("bad-app-name",{appName:String(l)});if(i||(i=y0()),!i)throw Zs.create("no-options");const c=zc.get(l);if(c){if(tr(i,c.options)&&tr(a,c.config))return c;throw Zs.create("duplicate-app",{appName:l})}const d=new sA(l);for(const _ of Jd.values())d.addComponent(_);const g=new $A(i,a,d);return zc.set(l,g),g}function b0(r=Zd){const e=zc.get(r);if(!e&&r===Zd&&y0())return A0();if(!e)throw Zs.create("no-app",{appName:r});return e}function Js(r,e,i){let a=XA[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),is.warn(d.join(" "));return}Ya(new Gr(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const WA="firebase-heartbeat-database",eb=1,Cl="firebase-heartbeat-store";let Ld=null;function w0(){return Ld||(Ld=yA(WA,eb,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Cl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Zs.create("idb-open",{originalErrorMessage:r.message})})),Ld}async function tb(r){try{const i=(await w0()).transaction(Cl),a=await i.objectStore(Cl).get(R0(r));return await i.done,a}catch(e){if(e instanceof ls)is.warn(e.message);else{const i=Zs.create("idb-get",{originalErrorMessage:e?.message});is.warn(i.message)}}}async function Q_(r,e){try{const a=(await w0()).transaction(Cl,"readwrite");await a.objectStore(Cl).put(e,R0(r)),await a.done}catch(i){if(i instanceof ls)is.warn(i.message);else{const a=Zs.create("idb-set",{originalErrorMessage:i?.message});is.warn(a.message)}}}function R0(r){return`${r.name}!${r.options.appId}`}const nb=1024,ib=30;class sb{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new ab(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=K_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>ib){const l=ob(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){is.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=K_(),{heartbeatsToSend:i,unsentEntries:a}=rb(this._heartbeatsCache.heartbeats),l=Pc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return is.warn(e),""}}}function K_(){return new Date().toISOString().substring(0,10)}function rb(r,e=nb){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),Y_(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Y_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class ab{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QS()?KS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await tb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Q_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Q_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Y_(r){return Pc(JSON.stringify({version:2,heartbeats:r})).length}function ob(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}function lb(r){Ya(new Gr("platform-logger",e=>new EA(e),"PRIVATE")),Ya(new Gr("heartbeat",e=>new sb(e),"PRIVATE")),Js(Xd,G_,r),Js(Xd,G_,"esm2020"),Js("fire-js","")}lb("");function C0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ub=C0,I0=new Ul("auth","Firebase",C0());const jc=new vm("@firebase/auth");function cb(r,...e){jc.logLevel<=Ue.WARN&&jc.warn(`Auth (${so}): ${r}`,...e)}function Ic(r,...e){jc.logLevel<=Ue.ERROR&&jc.error(`Auth (${so}): ${r}`,...e)}function ss(r,...e){throw Sm(r,...e)}function wi(r,...e){return Sm(r,...e)}function N0(r,e,i){const a={...ub(),[e]:i};return new Ul("auth","Firebase",a).create(e,{appName:r.name})}function $s(r){return N0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sm(r,...e){if(typeof r!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return I0.create(r,...e)}function Ee(r,e,...i){if(!r)throw Sm(e,...i)}function ts(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Ic(e),new Error(e)}function rs(r,e){r||ts(e)}function $d(){return typeof self<"u"&&self.location?.href||""}function hb(){return X_()==="http:"||X_()==="https:"}function X_(){return typeof self<"u"&&self.location?.protocol||null}function fb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hb()||qS()||"connection"in navigator)?navigator.onLine:!0}function db(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Pl{constructor(e,i){this.shortDelay=e,this.longDelay=i,rs(i>e,"Short delay should be less than long delay!"),this.isMobile=zS()||HS()}get(){return fb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Am(r,e){rs(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class D0{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const mb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const gb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pb=new Pl(3e4,6e4);function ah(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ro(r,e,i,a,l={}){return O0(r,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const g=Ll({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:_,...c};return BS()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&io(r.emulatorConfig.host)&&(p.credentials="include"),D0.fetch()(await x0(r,r.config.apiHost,i,g),p)})}async function O0(r,e,i){r._canInitEmulator=!1;const a={...mb,...e};try{const l=new yb(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Sc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,p]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Sc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw Sc(r,"user-disabled",d);const S=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw N0(r,S,p);ss(r,S)}}catch(l){if(l instanceof ls)throw l;ss(r,"network-request-failed",{message:String(l)})}}async function M0(r,e,i,a,l={}){const c=await ro(r,e,i,a,l);return"mfaPendingCredential"in c&&ss(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function x0(r,e,i,a){const l=`${e}${i}?${a}`,c=r,d=c.config.emulator?Am(r.config,l):`${r.config.apiScheme}://${l}`;return gb.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class yb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(wi(this.auth,"network-request-failed")),pb.get())})}}function Sc(r,e,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=wi(r,e,a);return l.customData._tokenResponse=i,l}async function _b(r,e){return ro(r,"POST","/v1/accounts:delete",e)}async function Bc(r,e){return ro(r,"POST","/v1/accounts:lookup",e)}function Sl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function vb(r,e=!1){const i=tn(r),a=await i.getIdToken(e),l=bm(a);Ee(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Sl(Pd(l.auth_time)),issuedAtTime:Sl(Pd(l.iat)),expirationTime:Sl(Pd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Pd(r){return Number(r)*1e3}function bm(r){const[e,i,a]=r.split(".");if(e===void 0||i===void 0||a===void 0)return Ic("JWT malformed, contained fewer than 3 sections"),null;try{const l=g0(i);return l?JSON.parse(l):(Ic("Failed to decode base64 JWT payload"),null)}catch(l){return Ic("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Z_(r){const e=bm(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Il(r,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof ls&&Eb(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function Eb({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class Tb{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Wd{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sl(this.lastLoginAt),this.creationTime=Sl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function qc(r){const e=r.auth,i=await r.getIdToken(),a=await Il(r,Bc(e,{idToken:i}));Ee(a?.users.length,e,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?V0(l.providerUserInfo):[],d=Ab(r.providerData,c),g=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!d?.length,p=g?_:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Wd(l.createdAt,l.lastLoginAt),isAnonymous:p};Object.assign(r,S)}async function Sb(r){const e=tn(r);await qc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ab(r,e){return[...r.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function V0(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function bb(r,e){const i=await O0(r,{},async()=>{const a=Ll({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await x0(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:a};return r.emulatorConfig&&io(r.emulatorConfig.host)&&(_.credentials="include"),D0.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function wb(r,e){return ro(r,"POST","/v2/accounts:revokeToken",ah(r,e))}class Ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Z_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const i=Z_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await bb(e,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ha;return a&&(Ee(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(Ee(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(Ee(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ha,this.toJSON())}_performRefresh(){return ts("not implemented")}}function qs(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ei{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new Tb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Wd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Il(this,this.stsTokenManager.getToken(this.auth,e));return Ee(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return vb(this,e)}reload(){return Sb(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ei({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await qc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject($s(this.auth));const e=await this.getIdToken();return await Il(this,_b(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,p=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:A,emailVerified:D,isAnonymous:q,providerData:Z,stsTokenManager:W}=i;Ee(A&&W,e,"internal-error");const $=Ha.fromJSON(this.name,W);Ee(typeof A=="string",e,"internal-error"),qs(a,e.name),qs(l,e.name),Ee(typeof D=="boolean",e,"internal-error"),Ee(typeof q=="boolean",e,"internal-error"),qs(c,e.name),qs(d,e.name),qs(g,e.name),qs(_,e.name),qs(p,e.name),qs(S,e.name);const le=new ei({uid:A,auth:e,email:l,emailVerified:D,displayName:a,isAnonymous:q,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:$,createdAt:p,lastLoginAt:S});return Z&&Array.isArray(Z)&&(le.providerData=Z.map(de=>({...de}))),_&&(le._redirectEventId=_),le}static async _fromIdTokenResponse(e,i,a=!1){const l=new Ha;l.updateFromServerResponse(i);const c=new ei({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await qc(c),c}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];Ee(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?V0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new Ha;g.updateFromIdToken(a);const _=new ei({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),p={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Wd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,p),_}}const J_=new Map;function ns(r){rs(r instanceof Function,"Expected a class definition");let e=J_.get(r);return e?(rs(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,J_.set(r,e),e)}class k0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}k0.type="NONE";const $_=k0;function Nc(r,e,i){return`firebase:${r}:${e}:${i}`}class Ga{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Nc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Nc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Bc(this.auth,{idToken:e}).catch(()=>{});return i?ei._fromGetAccountInfoResponse(this.auth,i,e):null}return ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new Ga(ns($_),e,a);const l=(await Promise.all(i.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let c=l[0]||ns($_);const d=Nc(a,e.config.apiKey,e.name);let g=null;for(const p of i)try{const S=await p._get(d);if(S){let A;if(typeof S=="string"){const D=await Bc(e,{idToken:S}).catch(()=>{});if(!D)break;A=await ei._fromGetAccountInfoResponse(e,D,S)}else A=ei._fromJSON(e,S);p!==c&&(g=A),c=p;break}}catch{}const _=l.filter(p=>p._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Ga(c,e,a):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async p=>{if(p!==c)try{await p._remove(d)}catch{}})),new Ga(c,e,a))}}function W_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(z0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(U0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(B0(e))return"Blackberry";if(q0(e))return"Webos";if(L0(e))return"Safari";if((e.includes("chrome/")||P0(e))&&!e.includes("edge/"))return"Chrome";if(j0(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function U0(r=Jt()){return/firefox\//i.test(r)}function L0(r=Jt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function P0(r=Jt()){return/crios\//i.test(r)}function z0(r=Jt()){return/iemobile/i.test(r)}function j0(r=Jt()){return/android/i.test(r)}function B0(r=Jt()){return/blackberry/i.test(r)}function q0(r=Jt()){return/webos/i.test(r)}function wm(r=Jt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Rb(r=Jt()){return wm(r)&&!!window.navigator?.standalone}function Cb(){return GS()&&document.documentMode===10}function H0(r=Jt()){return wm(r)||j0(r)||q0(r)||B0(r)||/windows phone/i.test(r)||z0(r)}function G0(r,e=[]){let i;switch(r){case"Browser":i=W_(Jt());break;case"Worker":i=`${W_(Jt())}-${r}`;break;default:i=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${so}/${a}`}class Ib{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,g)=>{try{const _=e(c);d(_)}catch(_){g(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function Nb(r,e={}){return ro(r,"GET","/v2/passwordPolicy",ah(r,e))}const Db=6;class Ob{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Db,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class Mb{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ev(this),this.idTokenSubscription=new ev(this),this.beforeStateQueue=new Ib(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=I0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ns(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ga.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Bc(this,{idToken:e}),a=await ei._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Wn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await qc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=db()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wn(this.app))return Promise.reject($s(this));const i=e?tn(e):null;return i&&Ee(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject($s(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wn(this.app)?Promise.reject($s(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ns(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Nb(this),i=new Ob(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ul("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await wb(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ns(e)||this._popupRedirectResolver;Ee(i,this,"argument-error"),this.redirectPersistenceManager=await Ga.create(this,[ns(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=G0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&cb(`Error while retrieving App Check token: ${e.error}`),e?.token}}function oh(r){return tn(r)}class ev{constructor(e){this.auth=e,this.observer=null,this.addObserver=$S(i=>this.observer=i)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Rm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xb(r){Rm=r}function Vb(r){return Rm.loadJS(r)}function kb(){return Rm.gapiScript}function Ub(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function Lb(r,e){const i=Tm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(tr(c,e??{}))return l;ss(l,"already-initialized")}return i.initialize({options:e})}function Pb(r,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ns);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function zb(r,e,i){const a=oh(r);Ee(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=F0(e),{host:d,port:g}=jb(e),_=g===null?"":`:${g}`,p={url:`${c}//${d}${_}/`},S=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Ee(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ee(tr(p,a.config.emulator)&&tr(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=p,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,io(d)?(v0(`${c}//${d}${_}`),E0("Auth",!0)):Bb()}function F0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function jb(r){const e=F0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:tv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:tv(d)}}}function tv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function Bb(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Q0{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ts("not implemented")}_getIdTokenResponse(e){return ts("not implemented")}_linkToIdToken(e,i){return ts("not implemented")}_getReauthenticationResolver(e){return ts("not implemented")}}async function Fa(r,e){return M0(r,"POST","/v1/accounts:signInWithIdp",ah(r,e))}const qb="http://localhost";class Fr extends Q0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Fr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ss("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Fr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Fa(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,Fa(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Fa(e,i)}buildRequest(){const e={requestUri:qb,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Ll(i)}return e}}class K0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class zl extends K0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Gs extends zl{constructor(){super("facebook.com")}static credential(e){return Fr._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gs.credential(e.oauthAccessToken)}catch{return null}}}Gs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gs.PROVIDER_ID="facebook.com";class Fs extends zl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Fr._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return Fs.credential(i,a)}catch{return null}}}Fs.GOOGLE_SIGN_IN_METHOD="google.com";Fs.PROVIDER_ID="google.com";class Qs extends zl{constructor(){super("github.com")}static credential(e){return Fr._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qs.credential(e.oauthAccessToken)}catch{return null}}}Qs.GITHUB_SIGN_IN_METHOD="github.com";Qs.PROVIDER_ID="github.com";class Ks extends zl{constructor(){super("twitter.com")}static credential(e,i){return Fr._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return Ks.credential(i,a)}catch{return null}}}Ks.TWITTER_SIGN_IN_METHOD="twitter.com";Ks.PROVIDER_ID="twitter.com";async function Hb(r,e){return M0(r,"POST","/v1/accounts:signUp",ah(r,e))}class nr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const c=await ei._fromIdTokenResponse(e,a,l),d=nv(a);return new nr({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=nv(a);return new nr({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function nv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function Gb(r){if(Wn(r.app))return Promise.reject($s(r));const e=oh(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new nr({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await Hb(e,{returnSecureToken:!0}),a=await nr._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class Hc extends ls{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Hc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new Hc(e,i,a,l)}}function Y0(r,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Hc._fromErrorAndOperation(r,c,e,a):c})}async function Fb(r,e,i=!1){const a=await Il(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return nr._forOperation(r,"link",a)}async function Qb(r,e,i=!1){const{auth:a}=r;if(Wn(a.app))return Promise.reject($s(a));const l="reauthenticate";try{const c=await Il(r,Y0(a,l,e,r),i);Ee(c.idToken,a,"internal-error");const d=bm(c.idToken);Ee(d,a,"internal-error");const{sub:g}=d;return Ee(r.uid===g,a,"user-mismatch"),nr._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ss(a,"user-mismatch"),c}}async function Kb(r,e,i=!1){if(Wn(r.app))return Promise.reject($s(r));const a="signIn",l=await Y0(r,a,e),c=await nr._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}function Yb(r,e,i,a){return tn(r).onIdTokenChanged(e,i,a)}function Xb(r,e,i){return tn(r).beforeAuthStateChanged(e,i)}function Zb(r,e,i,a){return tn(r).onAuthStateChanged(e,i,a)}const Gc="__sak";class X0{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Gc,"1"),this.storage.removeItem(Gc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Jb=1e3,$b=10;class Z0 extends X0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=H0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);Cb()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,$b):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},Jb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}Z0.type="LOCAL";const Wb=Z0;class J0 extends X0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}J0.type="SESSION";const $0=J0;function e2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class lh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new lh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async p=>p(i.origin,c)),_=await e2(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lh.receivers=[];function Cm(r="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return r+i}class t2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const p=Cm("",20);l.port1.start();const S=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const D=A;if(D.data.eventId===p)switch(D.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(D.data.response);break;default:clearTimeout(S),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:p,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ri(){return window}function n2(r){Ri().location.href=r}function W0(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function i2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function s2(){return navigator?.serviceWorker?.controller||null}function r2(){return W0()?self:null}const eE="firebaseLocalStorageDb",a2=1,Fc="firebaseLocalStorage",tE="fbase_key";class jl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function uh(r,e){return r.transaction([Fc],e?"readwrite":"readonly").objectStore(Fc)}function o2(){const r=indexedDB.deleteDatabase(eE);return new jl(r).toPromise()}function em(){const r=indexedDB.open(eE,a2);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Fc,{keyPath:tE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Fc)?e(a):(a.close(),await o2(),e(await em()))})})}async function iv(r,e,i){const a=uh(r,!0).put({[tE]:e,value:i});return new jl(a).toPromise()}async function l2(r,e){const i=uh(r,!1).get(e),a=await new jl(i).toPromise();return a===void 0?null:a.value}function sv(r,e){const i=uh(r,!0).delete(e);return new jl(i).toPromise()}const u2=800,c2=3;class nE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await em(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>c2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return W0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lh._getInstance(r2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await i2(),!this.activeServiceWorker)return;this.sender=new t2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||s2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await em();return await iv(e,Gc,"1"),await sv(e,Gc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>iv(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>l2(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>sv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=uh(l,!1).getAll();return new jl(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),u2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nE.type="LOCAL";const h2=nE;new Pl(3e4,6e4);function f2(r,e){return e?ns(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Im extends Q0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fa(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Fa(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Fa(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function d2(r){return Kb(r.auth,new Im(r),r.bypassAuthState)}function m2(r){const{auth:e,user:i}=r;return Ee(i,e,"internal-error"),Qb(i,new Im(r),r.bypassAuthState)}async function g2(r){const{auth:e,user:i}=r;return Ee(i,e,"internal-error"),Fb(i,new Im(r),r.bypassAuthState)}class iE{constructor(e,i,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return d2;case"linkViaPopup":case"linkViaRedirect":return g2;case"reauthViaPopup":case"reauthViaRedirect":return m2;default:ss(this.auth,"internal-error")}}resolve(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const p2=new Pl(2e3,1e4);class qa extends iE{constructor(e,i,a,l,c){super(e,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,qa.currentPopupAction&&qa.currentPopupAction.cancel(),qa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){rs(this.filter.length===1,"Popup operations only handle one event");const e=Cm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,p2.get())};e()}}qa.currentPopupAction=null;const y2="pendingRedirect",Dc=new Map;class _2 extends iE{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Dc.get(this.auth._key());if(!e){try{const a=await v2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Dc.set(this.auth._key(),e)}return this.bypassAuthState||Dc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function v2(r,e){const i=S2(e),a=T2(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function E2(r,e){Dc.set(r._key(),e)}function T2(r){return ns(r._redirectPersistence)}function S2(r){return Nc(y2,r.config.apiKey,r.name)}async function A2(r,e,i=!1){if(Wn(r.app))return Promise.reject($s(r));const a=oh(r),l=f2(a,e),d=await new _2(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const b2=600*1e3;class w2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!R2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!sE(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(wi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=b2&&this.cachedEventUids.clear(),this.cachedEventUids.has(rv(e))}saveEventToCache(e){this.cachedEventUids.add(rv(e)),this.lastProcessedEventTime=Date.now()}}function rv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function sE({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function R2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sE(r);default:return!1}}async function C2(r,e={}){return ro(r,"GET","/v1/projects",e)}const I2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,N2=/^https?/;async function D2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await C2(r);for(const i of e)try{if(O2(i))return}catch{}ss(r,"unauthorized-domain")}function O2(r){const e=$d(),{protocol:i,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!N2.test(i))return!1;if(I2.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const M2=new Pl(3e4,6e4);function av(){const r=Ri().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function x2(r){return new Promise((e,i)=>{function a(){av(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{av(),i(wi(r,"network-request-failed"))},timeout:M2.get()})}if(Ri().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ri().gapi?.load)a();else{const l=Ub("iframefcb");return Ri()[l]=()=>{gapi.load?a():i(wi(r,"network-request-failed"))},Vb(`${kb()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Oc=null,e})}let Oc=null;function V2(r){return Oc=Oc||x2(r),Oc}const k2=new Pl(5e3,15e3),U2="__/auth/iframe",L2="emulator/auth/iframe",P2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},z2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function j2(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?Am(e,L2):`https://${r.config.authDomain}/${U2}`,a={apiKey:e.apiKey,appName:r.name,v:so},l=z2.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Ll(a).slice(1)}`}async function B2(r){const e=await V2(r),i=Ri().gapi;return Ee(i,r,"internal-error"),e.open({where:document.body,url:j2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:P2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=wi(r,"network-request-failed"),g=Ri().setTimeout(()=>{c(d)},k2.get());function _(){Ri().clearTimeout(g),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const q2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},H2=500,G2=600,F2="_blank",Q2="http://localhost";class ov{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function K2(r,e,i,a=H2,l=G2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const _={...q2,width:a.toString(),height:l.toString(),top:c,left:d},p=Jt().toLowerCase();i&&(g=P0(p)?F2:i),U0(p)&&(e=e||Q2,_.scrollbars="yes");const S=Object.entries(_).reduce((D,[q,Z])=>`${D}${q}=${Z},`,"");if(Rb(p)&&g!=="_self")return Y2(e||"",g),new ov(null);const A=window.open(e||"",g,S);Ee(A,r,"popup-blocked");try{A.focus()}catch{}return new ov(A)}function Y2(r,e){const i=document.createElement("a");i.href=r,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const X2="__/auth/handler",Z2="emulator/auth/handler",J2=encodeURIComponent("fac");async function lv(r,e,i,a,l,c){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:so,eventId:l};if(e instanceof K0){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",JS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,A]of Object.entries({}))d[S]=A}if(e instanceof zl){const S=e.getScopes().filter(A=>A!=="");S.length>0&&(d.scopes=S.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const S of Object.keys(g))g[S]===void 0&&delete g[S];const _=await r._getAppCheckToken(),p=_?`#${J2}=${encodeURIComponent(_)}`:"";return`${$2(r)}?${Ll(g).slice(1)}${p}`}function $2({config:r}){return r.emulator?Am(r,Z2):`https://${r.authDomain}/${X2}`}const zd="webStorageSupport";class W2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$0,this._completeRedirectFn=A2,this._overrideRedirectResult=E2}async _openPopup(e,i,a,l){rs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await lv(e,i,a,$d(),l);return K2(e,c,Cm())}async _openRedirect(e,i,a,l){await this._originValidation(e);const c=await lv(e,i,a,$d(),l);return n2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(rs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await B2(e),a=new w2(e);return i.register("authEvent",l=>(Ee(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(zd,{type:zd},l=>{const c=l?.[0]?.[zd];c!==void 0&&i(!!c),ss(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=D2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return H0()||L0()||wm()}}const ew=W2;var uv="@firebase/auth",cv="1.11.1";class tw{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function nw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iw(r){Ya(new Gr("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;Ee(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:G0(r)},p=new Mb(a,l,c,_);return Pb(p,i),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),Ya(new Gr("auth-internal",e=>{const i=oh(e.getProvider("auth").getImmediate());return(a=>new tw(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Js(uv,cv,nw(r)),Js(uv,cv,"esm2020")}const sw=300,rw=_0("authIdTokenMaxAge")||sw;let hv=null;const aw=r=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>rw)return;const l=i?.token;hv!==l&&(hv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function ow(r=b0()){const e=Tm(r,"auth");if(e.isInitialized())return e.getImmediate();const i=Lb(r,{popupRedirectResolver:ew,persistence:[h2,Wb,$0]}),a=_0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=aw(c.toString());Xb(i,d,()=>d(i.currentUser)),Yb(i,g=>d(g))}}const l=p0("auth");return l&&zb(i,`http://${l}`),i}function lw(){return document.getElementsByTagName("head")?.[0]??document}xb({loadJS(r){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=l=>{const c=wi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",lw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iw("Browser");var fv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ws,rE;(function(){var r;function e(I,w){function R(){}R.prototype=w.prototype,I.F=w.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(x,O,V){for(var b=Array(arguments.length-2),he=2;he<arguments.length;he++)b[he-2]=arguments[he];return w.prototype[O].apply(x,b)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,w,R){R||(R=0);const x=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)x[O]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(O=0;O<16;++O)x[O]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=I.g[0],R=I.g[1],O=I.g[2];let V=I.g[3],b;b=w+(V^R&(O^V))+x[0]+3614090360&4294967295,w=R+(b<<7&4294967295|b>>>25),b=V+(O^w&(R^O))+x[1]+3905402710&4294967295,V=w+(b<<12&4294967295|b>>>20),b=O+(R^V&(w^R))+x[2]+606105819&4294967295,O=V+(b<<17&4294967295|b>>>15),b=R+(w^O&(V^w))+x[3]+3250441966&4294967295,R=O+(b<<22&4294967295|b>>>10),b=w+(V^R&(O^V))+x[4]+4118548399&4294967295,w=R+(b<<7&4294967295|b>>>25),b=V+(O^w&(R^O))+x[5]+1200080426&4294967295,V=w+(b<<12&4294967295|b>>>20),b=O+(R^V&(w^R))+x[6]+2821735955&4294967295,O=V+(b<<17&4294967295|b>>>15),b=R+(w^O&(V^w))+x[7]+4249261313&4294967295,R=O+(b<<22&4294967295|b>>>10),b=w+(V^R&(O^V))+x[8]+1770035416&4294967295,w=R+(b<<7&4294967295|b>>>25),b=V+(O^w&(R^O))+x[9]+2336552879&4294967295,V=w+(b<<12&4294967295|b>>>20),b=O+(R^V&(w^R))+x[10]+4294925233&4294967295,O=V+(b<<17&4294967295|b>>>15),b=R+(w^O&(V^w))+x[11]+2304563134&4294967295,R=O+(b<<22&4294967295|b>>>10),b=w+(V^R&(O^V))+x[12]+1804603682&4294967295,w=R+(b<<7&4294967295|b>>>25),b=V+(O^w&(R^O))+x[13]+4254626195&4294967295,V=w+(b<<12&4294967295|b>>>20),b=O+(R^V&(w^R))+x[14]+2792965006&4294967295,O=V+(b<<17&4294967295|b>>>15),b=R+(w^O&(V^w))+x[15]+1236535329&4294967295,R=O+(b<<22&4294967295|b>>>10),b=w+(O^V&(R^O))+x[1]+4129170786&4294967295,w=R+(b<<5&4294967295|b>>>27),b=V+(R^O&(w^R))+x[6]+3225465664&4294967295,V=w+(b<<9&4294967295|b>>>23),b=O+(w^R&(V^w))+x[11]+643717713&4294967295,O=V+(b<<14&4294967295|b>>>18),b=R+(V^w&(O^V))+x[0]+3921069994&4294967295,R=O+(b<<20&4294967295|b>>>12),b=w+(O^V&(R^O))+x[5]+3593408605&4294967295,w=R+(b<<5&4294967295|b>>>27),b=V+(R^O&(w^R))+x[10]+38016083&4294967295,V=w+(b<<9&4294967295|b>>>23),b=O+(w^R&(V^w))+x[15]+3634488961&4294967295,O=V+(b<<14&4294967295|b>>>18),b=R+(V^w&(O^V))+x[4]+3889429448&4294967295,R=O+(b<<20&4294967295|b>>>12),b=w+(O^V&(R^O))+x[9]+568446438&4294967295,w=R+(b<<5&4294967295|b>>>27),b=V+(R^O&(w^R))+x[14]+3275163606&4294967295,V=w+(b<<9&4294967295|b>>>23),b=O+(w^R&(V^w))+x[3]+4107603335&4294967295,O=V+(b<<14&4294967295|b>>>18),b=R+(V^w&(O^V))+x[8]+1163531501&4294967295,R=O+(b<<20&4294967295|b>>>12),b=w+(O^V&(R^O))+x[13]+2850285829&4294967295,w=R+(b<<5&4294967295|b>>>27),b=V+(R^O&(w^R))+x[2]+4243563512&4294967295,V=w+(b<<9&4294967295|b>>>23),b=O+(w^R&(V^w))+x[7]+1735328473&4294967295,O=V+(b<<14&4294967295|b>>>18),b=R+(V^w&(O^V))+x[12]+2368359562&4294967295,R=O+(b<<20&4294967295|b>>>12),b=w+(R^O^V)+x[5]+4294588738&4294967295,w=R+(b<<4&4294967295|b>>>28),b=V+(w^R^O)+x[8]+2272392833&4294967295,V=w+(b<<11&4294967295|b>>>21),b=O+(V^w^R)+x[11]+1839030562&4294967295,O=V+(b<<16&4294967295|b>>>16),b=R+(O^V^w)+x[14]+4259657740&4294967295,R=O+(b<<23&4294967295|b>>>9),b=w+(R^O^V)+x[1]+2763975236&4294967295,w=R+(b<<4&4294967295|b>>>28),b=V+(w^R^O)+x[4]+1272893353&4294967295,V=w+(b<<11&4294967295|b>>>21),b=O+(V^w^R)+x[7]+4139469664&4294967295,O=V+(b<<16&4294967295|b>>>16),b=R+(O^V^w)+x[10]+3200236656&4294967295,R=O+(b<<23&4294967295|b>>>9),b=w+(R^O^V)+x[13]+681279174&4294967295,w=R+(b<<4&4294967295|b>>>28),b=V+(w^R^O)+x[0]+3936430074&4294967295,V=w+(b<<11&4294967295|b>>>21),b=O+(V^w^R)+x[3]+3572445317&4294967295,O=V+(b<<16&4294967295|b>>>16),b=R+(O^V^w)+x[6]+76029189&4294967295,R=O+(b<<23&4294967295|b>>>9),b=w+(R^O^V)+x[9]+3654602809&4294967295,w=R+(b<<4&4294967295|b>>>28),b=V+(w^R^O)+x[12]+3873151461&4294967295,V=w+(b<<11&4294967295|b>>>21),b=O+(V^w^R)+x[15]+530742520&4294967295,O=V+(b<<16&4294967295|b>>>16),b=R+(O^V^w)+x[2]+3299628645&4294967295,R=O+(b<<23&4294967295|b>>>9),b=w+(O^(R|~V))+x[0]+4096336452&4294967295,w=R+(b<<6&4294967295|b>>>26),b=V+(R^(w|~O))+x[7]+1126891415&4294967295,V=w+(b<<10&4294967295|b>>>22),b=O+(w^(V|~R))+x[14]+2878612391&4294967295,O=V+(b<<15&4294967295|b>>>17),b=R+(V^(O|~w))+x[5]+4237533241&4294967295,R=O+(b<<21&4294967295|b>>>11),b=w+(O^(R|~V))+x[12]+1700485571&4294967295,w=R+(b<<6&4294967295|b>>>26),b=V+(R^(w|~O))+x[3]+2399980690&4294967295,V=w+(b<<10&4294967295|b>>>22),b=O+(w^(V|~R))+x[10]+4293915773&4294967295,O=V+(b<<15&4294967295|b>>>17),b=R+(V^(O|~w))+x[1]+2240044497&4294967295,R=O+(b<<21&4294967295|b>>>11),b=w+(O^(R|~V))+x[8]+1873313359&4294967295,w=R+(b<<6&4294967295|b>>>26),b=V+(R^(w|~O))+x[15]+4264355552&4294967295,V=w+(b<<10&4294967295|b>>>22),b=O+(w^(V|~R))+x[6]+2734768916&4294967295,O=V+(b<<15&4294967295|b>>>17),b=R+(V^(O|~w))+x[13]+1309151649&4294967295,R=O+(b<<21&4294967295|b>>>11),b=w+(O^(R|~V))+x[4]+4149444226&4294967295,w=R+(b<<6&4294967295|b>>>26),b=V+(R^(w|~O))+x[11]+3174756917&4294967295,V=w+(b<<10&4294967295|b>>>22),b=O+(w^(V|~R))+x[2]+718787259&4294967295,O=V+(b<<15&4294967295|b>>>17),b=R+(V^(O|~w))+x[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(O+(b<<21&4294967295|b>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+V&4294967295}a.prototype.v=function(I,w){w===void 0&&(w=I.length);const R=w-this.blockSize,x=this.C;let O=this.h,V=0;for(;V<w;){if(O==0)for(;V<=R;)l(this,I,V),V+=this.blockSize;if(typeof I=="string"){for(;V<w;)if(x[O++]=I.charCodeAt(V++),O==this.blockSize){l(this,x),O=0;break}}else for(;V<w;)if(x[O++]=I[V++],O==this.blockSize){l(this,x),O=0;break}}this.h=O,this.o+=w},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;w=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=w&255,w/=256;for(this.v(I),I=Array(16),w=0,R=0;R<4;++R)for(let x=0;x<32;x+=8)I[w++]=this.g[R]>>>x&255;return I};function c(I,w){var R=g;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=w(I)}function d(I,w){this.h=w;const R=[];let x=!0;for(let O=I.length-1;O>=0;O--){const V=I[O]|0;x&&V==w||(R[O]=V,x=!1)}this.g=R}var g={};function _(I){return-128<=I&&I<128?c(I,function(w){return new d([w|0],w<0?-1:0)}):new d([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return A;if(I<0)return $(p(-I));const w=[];let R=1;for(let x=0;I>=R;x++)w[x]=I/R|0,R*=4294967296;return new d(w,0)}function S(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return $(S(I.substring(1),w));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(w,8));let x=A;for(let V=0;V<I.length;V+=8){var O=Math.min(8,I.length-V);const b=parseInt(I.substring(V,V+O),w);O<8?(O=p(Math.pow(w,O)),x=x.j(O).add(p(b))):(x=x.j(R),x=x.add(p(b)))}return x}var A=_(0),D=_(1),q=_(16777216);r=d.prototype,r.m=function(){if(W(this))return-$(this).m();let I=0,w=1;for(let R=0;R<this.g.length;R++){const x=this.i(R);I+=(x>=0?x:4294967296+x)*w,w*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(Z(this))return"0";if(W(this))return"-"+$(this).toString(I);const w=p(Math.pow(I,6));var R=this;let x="";for(;;){const O=De(R,w).g;R=le(R,O.j(w));let V=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=O,Z(R))return V+x;for(;V.length<6;)V="0"+V;x=V+x}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function Z(I){if(I.h!=0)return!1;for(let w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function W(I){return I.h==-1}r.l=function(I){return I=le(this,I),W(I)?-1:Z(I)?0:1};function $(I){const w=I.g.length,R=[];for(let x=0;x<w;x++)R[x]=~I.g[x];return new d(R,~I.h).add(D)}r.abs=function(){return W(this)?$(this):this},r.add=function(I){const w=Math.max(this.g.length,I.g.length),R=[];let x=0;for(let O=0;O<=w;O++){let V=x+(this.i(O)&65535)+(I.i(O)&65535),b=(V>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);x=b>>>16,V&=65535,b&=65535,R[O]=b<<16|V}return new d(R,R[R.length-1]&-2147483648?-1:0)};function le(I,w){return I.add($(w))}r.j=function(I){if(Z(this)||Z(I))return A;if(W(this))return W(I)?$(this).j($(I)):$($(this).j(I));if(W(I))return $(this.j($(I)));if(this.l(q)<0&&I.l(q)<0)return p(this.m()*I.m());const w=this.g.length+I.g.length,R=[];for(var x=0;x<2*w;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(let O=0;O<I.g.length;O++){const V=this.i(x)>>>16,b=this.i(x)&65535,he=I.i(O)>>>16,me=I.i(O)&65535;R[2*x+2*O]+=b*me,de(R,2*x+2*O),R[2*x+2*O+1]+=V*me,de(R,2*x+2*O+1),R[2*x+2*O+1]+=b*he,de(R,2*x+2*O+1),R[2*x+2*O+2]+=V*he,de(R,2*x+2*O+2)}for(I=0;I<w;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=w;I<2*w;I++)R[I]=0;return new d(R,0)};function de(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function re(I,w){this.g=I,this.h=w}function De(I,w){if(Z(w))throw Error("division by zero");if(Z(I))return new re(A,A);if(W(I))return w=De($(I),w),new re($(w.g),$(w.h));if(W(w))return w=De(I,$(w)),new re($(w.g),w.h);if(I.g.length>30){if(W(I)||W(w))throw Error("slowDivide_ only works with positive integers.");for(var R=D,x=w;x.l(I)<=0;)R=je(R),x=je(x);var O=we(R,1),V=we(x,1);for(x=we(x,2),R=we(R,2);!Z(x);){var b=V.add(x);b.l(I)<=0&&(O=O.add(R),V=b),x=we(x,1),R=we(R,1)}return w=le(I,O.j(w)),new re(O,w)}for(O=A;I.l(w)>=0;){for(R=Math.max(1,Math.floor(I.m()/w.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),V=p(R),b=V.j(w);W(b)||b.l(I)>0;)R-=x,V=p(R),b=V.j(w);Z(V)&&(V=D),O=O.add(V),I=le(I,b)}return new re(O,I)}r.B=function(I){return De(this,I).h},r.and=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let x=0;x<w;x++)R[x]=this.i(x)&I.i(x);return new d(R,this.h&I.h)},r.or=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let x=0;x<w;x++)R[x]=this.i(x)|I.i(x);return new d(R,this.h|I.h)},r.xor=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let x=0;x<w;x++)R[x]=this.i(x)^I.i(x);return new d(R,this.h^I.h)};function je(I){const w=I.g.length+1,R=[];for(let x=0;x<w;x++)R[x]=I.i(x)<<1|I.i(x-1)>>>31;return new d(R,I.h)}function we(I,w){const R=w>>5;w%=32;const x=I.g.length-R,O=[];for(let V=0;V<x;V++)O[V]=w>0?I.i(V+R)>>>w|I.i(V+R+1)<<32-w:I.i(V+R);return new d(O,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,rE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=S,Ws=d}).apply(typeof fv<"u"?fv:typeof self<"u"?self:typeof window<"u"?window:{});var Ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var aE,yl,oE,Mc,tm,lE,uE,cE;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ac=="object"&&Ac];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)e:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in v))break e;v=v[U]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function p(u,m,v){return p=_,p.apply(null,arguments)}function S(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,U,H){for(var ne=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)ne[Re-2]=arguments[Re];return m.prototype[U].apply(T,ne)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function q(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const H=U.length||0;u.length=v+H;for(let ne=0;ne<H;ne++)u[v+ne]=U[ne]}else u.push(U)}}class W{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function $(u){d.setTimeout(()=>{throw u},0)}function le(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class de{constructor(){this.h=this.g=null}add(m,v){const T=re.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var re=new W(()=>new De,u=>u.reset());class De{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let je,we=!1,I=new de,w=()=>{const u=Promise.resolve(void 0);je=()=>{u.then(R)}};function R(){for(var u;u=le();){try{u.h.call(u.g)}catch(v){$(v)}var m=re;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}we=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function b(u){return/^[\s\xa0]*$/.test(u)}function he(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(he,O),he.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&he.Z.h.call(this)},he.prototype.h=function(){he.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),j=0;function ee(u,m,v,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=U,this.key=++j,this.da=this.fa=!1}function ie(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function _e(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Oe(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function N(u){const m={};for(const v in u)m[v]=u[v];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function te(u,m){let v,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(v in T)u[v]=T[v];for(let H=0;H<Q.length;H++)v=Q[H],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function se(u){this.src=u,this.g={},this.h=0}se.prototype.add=function(u,m,v,T,U){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const ne=Te(u,m,T,U);return ne>-1?(m=u[ne],v||(m.fa=!1)):(m=new ee(m,this.src,H,!!T,U),m.fa=v,u.push(m)),m};function ye(u,m){const v=m.type;if(v in u.g){var T=u.g[v],U=Array.prototype.indexOf.call(T,m,void 0),H;(H=U>=0)&&Array.prototype.splice.call(T,U,1),H&&(ie(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Te(u,m,v,T){for(let U=0;U<u.length;++U){const H=u[U];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==T)return U}return-1}var Ie="closure_lm_"+(Math.random()*1e6|0),nt={};function Ge(u,m,v,T,U){if(Array.isArray(m)){for(let H=0;H<m.length;H++)Ge(u,m[H],v,T,U);return null}return v=fo(v),u&&u[me]?u.J(m,v,g(T)?!!T.capture:!1,U):nn(u,m,v,!1,T,U)}function nn(u,m,v,T,U,H){if(!m)throw Error("Invalid event type");const ne=g(U)?!!U.capture:!!U;let Re=hr(u);if(Re||(u[Ie]=Re=new se(u)),v=Re.add(m,v,T,ne,H),v.proxy)return v;if(T=mn(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)V||(U=ne),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(gn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function mn(){function u(v){return m.call(u.src,u.listener,v)}const m=co;return u}function jn(u,m,v,T,U){if(Array.isArray(m))for(var H=0;H<m.length;H++)jn(u,m[H],v,T,U);else T=g(T)?!!T.capture:!!T,v=fo(v),u&&u[me]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],v=Te(m,v,T,U),v>-1&&(ie(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=hr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Te(m,v,T,U)),(v=u>-1?m[u]:null)&&sn(v))}function sn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[me])ye(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(gn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=hr(m))?(ye(v,u),v.h==0&&(v.src=null,m[Ie]=null)):ie(u)}}}function gn(u){return u in nt?nt[u]:nt[u]="on"+u}function co(u,m){if(u.da)u=!0;else{m=new he(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&sn(u),u=v.call(T,m)}return u}function hr(u){return u=u[Ie],u instanceof se?u:null}var ho="__closure_events_fn_"+(Math.random()*1e9>>>0);function fo(u){return typeof u=="function"?u:(u[ho]||(u[ho]=function(m){return u.handleEvent(m)}),u[ho])}function yt(){x.call(this),this.i=new se(this),this.M=this,this.G=null}A(yt,x),yt.prototype[me]=!0,yt.prototype.removeEventListener=function(u,m,v,T){jn(this,u,m,v,T)};function Nt(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var U=m;m=new O(T,u),te(m,U)}U=!0;let H,ne;if(v)for(ne=v.length-1;ne>=0;ne--)H=m.g=v[ne],U=us(H,T,!0,m)&&U;if(H=m.g=u,U=us(H,T,!0,m)&&U,U=us(H,T,!1,m)&&U,v)for(ne=0;ne<v.length;ne++)H=m.g=v[ne],U=us(H,T,!1,m)&&U}yt.prototype.N=function(){if(yt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ie(v[T]);delete u.g[m],u.h--}}this.G=null},yt.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},yt.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function us(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let H=0;H<m.length;++H){const ne=m[H];if(ne&&!ne.da&&ne.capture==v){const Re=ne.listener,dt=ne.ha||ne.src;ne.fa&&ye(u.i,ne),U=Re.call(dt,T)!==!1&&U}}return U&&!T.defaultPrevented}function Ih(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Kl(u){u.g=Ih(()=>{u.g=null,u.i&&(u.i=!1,Kl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $t extends x{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Kl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fr(u){x.call(this),this.h=u,this.g={}}A(fr,x);var mo=[];function go(u){_e(u.g,function(m,v){this.g.hasOwnProperty(v)&&sn(m)},u),u.g={}}fr.prototype.N=function(){fr.Z.N.call(this),go(this)},fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cs=d.JSON.stringify,Nh=d.JSON.parse,Yl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Xl(){}function Zl(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Lt(){O.call(this,"d")}A(Lt,O);function Rn(){O.call(this,"c")}A(Rn,O);var ft={},Jl=null;function Jr(){return Jl=Jl||new yt}ft.Ia="serverreachability";function $l(u){O.call(this,ft.Ia,u)}A($l,O);function ti(u){const m=Jr();Nt(m,new $l(m))}ft.STAT_EVENT="statevent";function dr(u,m){O.call(this,ft.STAT_EVENT,u),this.stat=m}A(dr,O);function _t(u){const m=Jr();Nt(m,new dr(m,u))}ft.Ja="timingevent";function ni(u,m){O.call(this,ft.Ja,u),this.size=m}A(ni,O);function ii(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function qn(){this.g=!0}qn.prototype.ua=function(){this.g=!1};function Dh(u,m,v,T,U,H){u.info(function(){if(u.g)if(H){var ne="",Re=H.split("&");for(let Fe=0;Fe<Re.length;Fe++){var dt=Re[Fe].split("=");if(dt.length>1){const at=dt[0];dt=dt[1];const Dn=at.split("_");ne=Dn.length>=2&&Dn[1]=="type"?ne+(at+"="+dt+"&"):ne+(at+"=redacted&")}}}else ne=null;else ne=H;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+v+`
`+ne})}function Wl(u,m,v,T,U,H,ne){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+v+`
`+H+" "+ne})}function si(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Oh(u,v)+(T?" "+T:"")})}function mr(u,m){u.info(function(){return"TIMEOUT: "+m})}qn.prototype.info=function(){};function Oh(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var v=H[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ne=1;ne<T.length;ne++)T[ne]=""}}}}return cs(H)}catch{return m}}var gr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},po={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},yo;function pr(){}A(pr,Xl),pr.prototype.g=function(){return new XMLHttpRequest},yo=new pr;function Ui(u){return encodeURIComponent(String(u))}function eu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Hn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new fr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var vt={},xt={};function ri(u,m,v){u.M=1,u.A=yr(Tt(m)),u.u=v,u.R=!0,$r(u,null)}function $r(u,m){u.F=Date.now(),ai(u),u.B=Tt(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),na(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Gn,u.g=gu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new $t(p(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(mo[0]=U.toString()),U=mo);for(let H=0;H<U.length;H++){const ne=Ge(v,U[H],T||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=u.J?N(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ti(),Dh(u.i,u.v,u.B,u.l,u.S,u.u)}Hn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Kn(u)==3?m.j():this.Y(u)},Hn.prototype.Y=function(u){try{if(u==this.g)e:{const Re=Kn(this.g),dt=this.g.ya(),Fe=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||Pt(this.g)))){this.K||Re!=4||dt==7||(dt==8||Fe<=0?ti(3):ti(2)),oi(this);var m=this.g.ca();this.X=m;var v=Mh(this);if(this.o=m==200,Wl(this.i,this.v,this.B,this.l,this.S,Re,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(T)){var H=T;break t}}H=null}if(u=H)si(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,u);else{this.o=!1,this.m=3,_t(12),pn(this),Cn(this);break e}}if(this.R){u=!0;let at;for(;!this.K&&this.C<v.length;)if(at=nu(this,v),at==xt){Re==4&&(this.m=4,_t(14),u=!1),si(this.i,this.l,null,"[Incomplete Response]");break}else if(at==vt){this.m=4,_t(15),si(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else si(this.i,this.l,at,null),li(this,at);if(tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||v.length!=0||this.h.h||(this.m=1,_t(16),u=!1),this.o=this.o&&u,!u)si(this.i,this.l,v,"[Invalid Chunked Response]"),pn(this),Cn(this);else if(v.length>0&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.aa&&!ne.P&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Mo(ne),ne.P=!0,_t(11))}}else si(this.i,this.l,v,null),li(this,v);Re==4&&pn(this),this.o&&!this.K&&(Re==4?hu(this.j,this):(this.o=!1,ai(this)))}else Pi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,_t(12)):(this.m=0,_t(13)),pn(this),Cn(this)}}}catch{}finally{}};function Mh(u){if(!tu(u))return u.g.la();const m=Pt(u.g);if(m==="")return"";let v="";const T=m.length,U=Kn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return pn(u),Cn(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<T;H++)u.h.h=!0,v+=u.h.i.decode(m[H],{stream:!(U&&H==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function tu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function nu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?xt:(v=Number(m.substring(v,T)),isNaN(v)?vt:(T+=1,T+v>m.length?xt:(m=m.slice(T,T+v),u.C=T+v,m)))}Hn.prototype.cancel=function(){this.K=!0,pn(this)};function ai(u){u.T=Date.now()+u.H,Wr(u,u.H)}function Wr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ii(p(u.aa,u),m)}function oi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Hn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(mr(this.i,this.B),this.M!=2&&(ti(),_t(17)),pn(this),this.m=2,Cn(this)):Wr(this,this.T-u)};function Cn(u){u.j.I==0||u.K||hu(u.j,u)}function pn(u){oi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,go(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function li(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ci(v.h,u))){if(!u.L&&ci(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)oa(v),_s(v);else break e;br(v),_t(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ii(p(v.Va,v),6e3));ui(v.h)<=1&&v.ta&&(v.ta=void 0)}else pi(v,11)}else if((u.L||v.g==u)&&oa(v),!b(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Fe=U[m];const at=Fe[0];if(!(at<=v.K))if(v.K=at,Fe=Fe[1],v.I==2)if(Fe[0]=="c"){v.M=Fe[1],v.ba=Fe[2];const Dn=Fe[3];Dn!=null&&(v.ka=Dn,v.j.info("VER="+v.ka));const yi=Fe[4];yi!=null&&(v.za=yi,v.j.info("SVER="+v.za));const Yn=Fe[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(T=1.5*Yn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Xn=u.g;if(Xn){const wr=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wr){var H=T.h;H.g||wr.indexOf("spdy")==-1&&wr.indexOf("quic")==-1&&wr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Eo(H,H.h),H.h=null))}if(T.G){const la=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;la&&(T.wa=la,Ye(T.J,T.G,la))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var ne=u;if(T.na=mu(T,T.L?T.ba:null,T.W),ne.L){To(T.h,ne);var Re=ne,dt=T.O;dt&&(Re.H=dt),Re.D&&(oi(Re),ai(Re)),T.g=ne}else uu(T);v.i.length>0&&gi(v)}else Fe[0]!="stop"&&Fe[0]!="close"||pi(v,7);else v.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?pi(v,7):Do(v):Fe[0]!="noop"&&v.l&&v.l.qa(Fe),v.A=0)}}ti(4)}catch{}}var Et=class{constructor(u,m){this.g=u,this.map=m}};function _o(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ui(u){return u.h?1:u.g?u.g.size:0}function ci(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Eo(u,m){u.g?u.g.add(m):u.h=m}function To(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}_o.prototype.cancel=function(){if(this.i=So(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function So(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return q(u.i)}var iu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ea(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let U,H=null;T>=0?(U=u[v].substring(0,T),H=u[v].substring(T+1)):U=u[v],m(U,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function yn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof yn?(this.l=u.l,Vt(this,u.j),this.o=u.o,this.g=u.g,hs(this,u.u),this.h=u.h,Ao(this,ou(u.i)),this.m=u.m):u&&(m=String(u).match(iu))?(this.l=!1,Vt(this,m[1]||"",!0),this.o=hi(m[2]||""),this.g=hi(m[3]||"",!0),hs(this,m[4]),this.h=hi(m[5]||"",!0),Ao(this,m[6]||"",!0),this.m=hi(m[7]||"")):(this.l=!1,this.i=new ds(null,this.l))}yn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(_r(m,ta,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(_r(m,ta,!0),"@"),u.push(Ui(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(_r(v,v.charAt(0)=="/"?bo:su,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",_r(v,ru)),u.join("")},yn.prototype.resolve=function(u){const m=Tt(this);let v=!!u.j;v?Vt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)hs(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const H=[];for(let ne=0;ne<U.length;){const Re=U[ne++];Re=="."?T&&ne==U.length&&H.push(""):Re==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),T&&ne==U.length&&H.push("")):(H.push(Re),T=!0)}T=H.join("/")}else T=U}return v?m.h=T:v=u.i.toString()!=="",v?Ao(m,ou(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Tt(u){return new yn(u)}function Vt(u,m,v){u.j=v?hi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function hs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ao(u,m,v){m instanceof ds?(u.i=m,ia(u.i,u.l)):(v||(m=_r(m,fs)),u.i=new ds(m,u.l))}function Ye(u,m,v){u.i.set(m,v)}function yr(u){return Ye(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function hi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function _r(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,rn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ta=/[#\/\?@]/g,su=/[#\?:]/g,bo=/[#\?]/g,fs=/[#\?@]/g,ru=/#/g;function ds(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&ea(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=ds.prototype,r.add=function(u,m){an(this),this.i=null,u=ms(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function au(u,m){an(u),m=ms(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function wo(u,m){return an(u),m=ms(u,m),u.g.has(m)}r.forEach=function(u,m){an(this),this.g.forEach(function(v,T){v.forEach(function(U){u.call(m,U,T,this)},this)},this)};function Ro(u,m){an(u);let v=[];if(typeof m=="string")wo(u,m)&&(v=v.concat(u.g.get(ms(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return an(this),this.i=null,u=ms(this,u),wo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Ro(this,u),u.length>0?String(u[0]):m):m};function na(u,m,v){au(u,m),v.length>0&&(u.i=null,u.g.set(ms(u,m),q(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const U=Ui(v);v=Ro(this,v);for(let H=0;H<v.length;H++){let ne=U;v[H]!==""&&(ne+="="+Ui(v[H])),u.push(ne)}}return this.i=u.join("&")};function ou(u){const m=new ds;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ms(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ia(u,m){m&&!u.j&&(an(u),u.i=null,u.g.forEach(function(v,T){const U=T.toLowerCase();T!=U&&(au(this,T),na(this,U,v))},u)),u.j=m}function Fn(u,m){const v=new qn;if(d.Image){const T=new Image;T.onload=S(In,v,"TestLoadImage: loaded",!0,m,T),T.onerror=S(In,v,"TestLoadImage: error",!1,m,T),T.onabort=S(In,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(In,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Co(u,m){const v=new qn,T=new AbortController,U=setTimeout(()=>{T.abort(),In(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(U),H.ok?In(v,"TestPingServer: ok",!0,m):In(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),In(v,"TestPingServer: error",!1,m)})}function In(u,m,v,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(v)}catch{}}function gs(){this.g=new Yl}function fi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(fi,Xl),fi.prototype.g=function(){return new vr(this.i,this.h)};function vr(u,m){yt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(vr,yt),r=vr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Qn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ps(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;sa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function sa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ps(this):Qn(this),this.readyState==3&&sa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,ps(this))},r.Na=function(u){this.g&&(this.response=u,ps(this))},r.ga=function(){this.g&&ps(this)};function ps(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Qn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(vr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Nn(u){let m="";return _e(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Er(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Nn(v),typeof u=="string"?v!=null&&Ui(v):Ye(u,m,v))}function Je(u){yt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Je,yt);var di=/^https?$/i,Io=["POST","PUT"];r=Je.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():yo.g(),this.g.onreadystatechange=D(p(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){Tr(this,H);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)v.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())v.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Io,m,void 0)>=0)||T||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ne]of v)this.g.setRequestHeader(H,ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){Tr(this,H)}};function Tr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,No(u),Li(u)}function No(u){u.A||(u.A=!0,Nt(u,"complete"),Nt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Nt(this,"complete"),Nt(this,"abort"),Li(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),Je.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Sr(this):this.Xa())},r.Xa=function(){Sr(this)};function Sr(u){if(u.h&&typeof c<"u"){if(u.v&&Kn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Nt(u,"readystatechange"),Kn(u)==4){u.h=!1;try{const H=u.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=H===0){let ne=String(u.D).match(iu)[1]||null;!ne&&d.self&&d.self.location&&(ne=d.self.location.protocol.slice(0,-1)),T=!di.test(ne?ne.toLowerCase():"")}v=T}if(v)Nt(u,"complete"),Nt(u,"success");else{u.o=6;try{var U=Kn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",No(u)}}finally{Li(u)}}}}function Li(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Nt(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Kn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Nh(m)}};function Pt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Pi(u){const m={};u=(u.g&&Kn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(b(u[T]))continue;var v=eu(u[T]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[U]||[];m[U]=H,H.push(v)}Oe(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ys(u){this.za=0,this.i=[],this.j=new qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mi("baseRetryDelayMs",5e3,u),this.Za=mi("retryDelaySeedMs",1e4,u),this.Ta=mi("forwardChannelMaxRetries",2,u),this.va=mi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new _o(u&&u.concurrentRequestLimit),this.Ba=new gs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ys.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){_t(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=mu(this,null,this.W),gi(this)};function Do(u){if(ra(u),u.I==3){var m=u.V++,v=Tt(u.J);if(Ye(v,"SID",u.M),Ye(v,"RID",m),Ye(v,"TYPE","terminate"),Ar(u,v),m=new Hn(u,u.j,m),m.M=2,m.A=yr(Tt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=gu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ai(m)}du(u)}function _s(u){u.g&&(Mo(u),u.g.cancel(),u.g=null)}function ra(u){_s(u),u.v&&(d.clearTimeout(u.v),u.v=null),oa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function gi(u){if(!vo(u.h)&&!u.m){u.m=!0;var m=u.Ea;je||w(),we||(je(),we=!0),I.add(m,u),u.D=0}}function aa(u,m){return ui(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ii(p(u.Ea,u,m),fu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Hn(this,this.j,u);let H=this.o;if(this.U&&(H?(H=N(H),te(H,this.U)):H=this.U),this.u!==null||this.R||(U.J=H,H=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=lu(this,U,m),v=Tt(this.J),Ye(v,"RID",u),Ye(v,"CVER",22),this.G&&Ye(v,"X-HTTP-Session-Id",this.G),Ar(this,v),H&&(this.R?m="headers="+Ui(Nn(H))+"&"+m:this.u&&Er(v,this.u,H)),Eo(this.h,U),this.Ra&&Ye(v,"TYPE","init"),this.S?(Ye(v,"$req",m),Ye(v,"SID","null"),U.U=!0,ri(U,v,null)):ri(U,v,m),this.I=2}}else this.I==3&&(u?Oo(this,u):this.i.length==0||vo(this.h)||Oo(this))};function Oo(u,m){var v;m?v=m.l:v=u.V++;const T=Tt(u.J);Ye(T,"SID",u.M),Ye(T,"RID",v),Ye(T,"AID",u.K),Ar(u,T),u.u&&u.o&&Er(T,u.u,u.o),v=new Hn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=lu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Eo(u.h,v),ri(v,T,m)}function Ar(u,m){u.H&&_e(u.H,function(v,T){Ye(m,T,v)}),u.l&&_e({},function(v,T){Ye(m,T,v)})}function lu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?p(u.l.Ka,u.l,u):null;e:{var U=u.i;let Re=-1;for(;;){const dt=["count="+v];Re==-1?v>0?(Re=U[0].g,dt.push("ofs="+Re)):Re=0:dt.push("ofs="+Re);let Fe=!0;for(let at=0;at<v;at++){var H=U[at].g;const Dn=U[at].map;if(H-=Re,H<0)Re=Math.max(0,U[at].g-100),Fe=!1;else try{H="req"+H+"_"||"";try{var ne=Dn instanceof Map?Dn:Object.entries(Dn);for(const[yi,Yn]of ne){let Xn=Yn;g(Yn)&&(Xn=cs(Yn)),dt.push(H+yi+"="+encodeURIComponent(Xn))}}catch(yi){throw dt.push(H+"type="+encodeURIComponent("_badmap")),yi}}catch{T&&T(Dn)}}if(Fe){ne=dt.join("&");break e}}ne=void 0}return u=u.i.splice(0,v),m.G=u,ne}function uu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;je||w(),we||(je(),we=!0),I.add(m,u),u.A=0}}function br(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ii(p(u.Da,u),fu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,cu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ii(p(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_t(10),_s(this),cu(this))};function Mo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function cu(u){u.g=new Hn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Tt(u.na);Ye(m,"RID","rpc"),Ye(m,"SID",u.M),Ye(m,"AID",u.K),Ye(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ye(m,"TO",u.ia),Ye(m,"TYPE","xmlhttp"),Ar(u,m),u.u&&u.o&&Er(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=yr(Tt(m)),v.u=null,v.R=!0,$r(v,u)}r.Va=function(){this.C!=null&&(this.C=null,_s(this),br(this),_t(19))};function oa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function hu(u,m){var v=null;if(u.g==m){oa(u),Mo(u),u.g=null;var T=2}else if(ci(u.h,m))v=m.G,To(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=Jr(),Nt(T,new ni(T,v)),gi(u)}else uu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&aa(u,m)||T==2&&br(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:pi(u,5);break;case 4:pi(u,10);break;case 3:pi(u,6);break;default:pi(u,2)}}}function fu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function pi(u,m){if(u.j.info("Error code "+m),m==2){var v=p(u.bb,u),T=u.Ua;const U=!T;T=new yn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Vt(T,"https"),yr(T),U?Fn(T.toString(),v):Co(T.toString(),v)}else _t(2);u.I=0,u.l&&u.l.pa(m),du(u),ra(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function du(u){if(u.I=0,u.ja=[],u.l){const m=So(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.oa()}}function mu(u,m,v){var T=v instanceof yn?Tt(v):new yn(v);if(T.g!="")m&&(T.g=m+"."+T.g),hs(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const H=new yn(null);T&&Vt(H,T),m&&(H.g=m),U&&hs(H,U),v&&(H.h=v),T=H}return v=u.G,m=u.wa,v&&m&&Ye(T,v,m),Ye(T,"VER",u.ka),Ar(u,T),T}function gu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Je(new fi({ab:v})):new Je(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function pu(){}r=pu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function vs(){}vs.prototype.g=function(u,m){return new Wt(u,m)};function Wt(u,m){yt.call(this),this.g=new ys(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!b(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!b(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new zi(this)}A(Wt,yt),Wt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){Do(this.g)},Wt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=cs(u),u=v);m.i.push(new Et(m.Ya++,u)),m.I==3&&gi(m)},Wt.prototype.N=function(){this.g.l=null,delete this.j,Do(this.g),delete this.g,Wt.Z.N.call(this)};function yu(u){Lt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(yu,Lt);function _u(){Rn.call(this),this.status=1}A(_u,Rn);function zi(u){this.g=u}A(zi,pu),zi.prototype.ra=function(){Nt(this.g,"a")},zi.prototype.qa=function(u){Nt(this.g,new yu(u))},zi.prototype.pa=function(u){Nt(this.g,new _u)},zi.prototype.oa=function(){Nt(this.g,"b")},vs.prototype.createWebChannel=vs.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,cE=function(){return new vs},uE=function(){return Jr()},lE=ft,tm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gr.NO_ERROR=0,gr.TIMEOUT=8,gr.HTTP_ERROR=6,Mc=gr,po.COMPLETE="complete",oE=po,Zl.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",yt.prototype.listen=yt.prototype.J,yl=Zl,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,aE=Je}).apply(typeof Ac<"u"?Ac:typeof self<"u"?self:typeof window<"u"?window:{});const dv="@firebase/firestore",mv="4.9.2";let Xt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");let ao="12.3.0";const Qr=new vm("@firebase/firestore");function Pa(){return Qr.logLevel}function ae(r,...e){if(Qr.logLevel<=Ue.DEBUG){const i=e.map(Nm);Qr.debug(`Firestore (${ao}): ${r}`,...i)}}function as(r,...e){if(Qr.logLevel<=Ue.ERROR){const i=e.map(Nm);Qr.error(`Firestore (${ao}): ${r}`,...i)}}function Xa(r,...e){if(Qr.logLevel<=Ue.WARN){const i=e.map(Nm);Qr.warn(`Firestore (${ao}): ${r}`,...i)}}function Nm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function ve(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,hE(r,a,i)}function hE(r,e,i){let a=`FIRESTORE (${ao}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw as(a),new Error(a)}function Ke(r,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||hE(e,l,a)}function be(r,e){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends ls{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class er{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class fE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Xt.UNAUTHENTICATED)))}shutdown(){}}class cw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class hw{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ke(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new er;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new er,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new er)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ke(typeof a.accessToken=="string",31837,{l:a}),new fE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new Xt(e)}}class fw{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class dw{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new fw(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Xt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class gv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mw{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ke(this.o===void 0,3512);const a=c=>{c.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ae("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new gv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ke(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new gv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function gw(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Dm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=gw(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=e.charAt(l[c]%62))}return a}}function Le(r,e){return r<e?-1:r>e?1:0}function nm(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=e.charAt(a);if(l!==c)return jd(l)===jd(c)?Le(l,c):jd(l)?1:-1}return Le(r.length,e.length)}const pw=55296,yw=57343;function jd(r){const e=r.charCodeAt(0);return e>=pw&&e<=yw}function Za(r,e,i){return r.length===e.length&&r.every(((a,l)=>i(a,e[l])))}const pv="__name__";class bi{constructor(e,i,a){i===void 0?i=0:i>e.length&&ve(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&ve(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return bi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof bi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const c=bi.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Le(e.length,i.length)}static compareSegments(e,i){const a=bi.isNumericId(e),l=bi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?bi.extractNumericId(e).compare(bi.extractNumericId(i)):nm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ws.fromString(e.substring(4,e.length-2))}}class lt extends bi{construct(e,i,a){return new lt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ce(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new lt(i)}static emptyPath(){return new lt([])}}const _w=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends bi{construct(e,i,a){return new Ft(e,i,a)}static isValidIdentifier(e){return _w.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===pv}static keyField(){return new Ft([pv])}static fromServerFormat(e){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ce(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new ce(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ce(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new ce(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(i)}static emptyPath(){return new Ft([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(lt.fromString(e))}static fromName(e){return new ge(lt.fromString(e).popFirst(5))}static empty(){return new ge(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return lt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new lt(e.slice()))}}function vw(r,e,i){if(!i)throw new ce(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Ew(r,e,i,a){if(e===!0&&a===!0)throw new ce(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function yv(r){if(!ge.isDocumentKey(r))throw new ce(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function dE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Om(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ve(12329,{type:typeof r})}function Ci(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ce(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Om(r);throw new ce(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Ct(r,e){const i={typeString:r};return e&&(i.value=e),i}function Bl(r,e){if(!dE(r))throw new ce(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ce(J.INVALID_ARGUMENT,i);return!0}const _v=-62135596800,vv=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*vv);return new rt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ce(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ce(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<_v)throw new ce(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vv}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Bl(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-_v;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Ct("string",rt._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new rt(0,0))}static max(){return new Se(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Nl=-1;function Tw(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Se.fromTimestamp(a===1e9?new rt(i+1,0):new rt(i,a));return new ir(l,ge.empty(),e)}function Sw(r){return new ir(r.readTime,r.key,Nl)}class ir{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new ir(Se.min(),ge.empty(),Nl)}static max(){return new ir(Se.max(),ge.empty(),Nl)}}function Aw(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ge.comparator(r.documentKey,e.documentKey),i!==0?i:Le(r.largestBatchId,e.largestBatchId))}const bw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ww{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function oo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==bw)throw r;ae("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,a)=>{i(e)}))}static reject(e){return new X(((i,a)=>{a(e)}))}static waitFor(e){return new X(((i,a)=>{let l=0,c=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(e){let i=X.resolve(!1);for(const a of e)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(e,i){return new X(((a,l)=>{const c=e.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const p=_;i(e[p]).next((S=>{d[p]=S,++g,g===c&&a(d)}),(S=>l(S)))}}))}static doWhile(e,i){return new X(((a,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):a()};c()}))}}function Rw(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function lo(r){return r.name==="IndexedDbTransactionError"}class ch{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ch.ce=-1;const Mm=-1;function hh(r){return r==null}function Qc(r){return r===0&&1/r==-1/0}function Cw(r){return typeof r=="number"&&Number.isInteger(r)&&!Qc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const mE="";function Iw(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=Ev(e)),e=Nw(r.get(i),e);return Ev(e)}function Nw(r,e){let i=e;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case mE:i+="";break;default:i+=c}}return i}function Ev(r){return r+mE+""}function Tv(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function ur(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function gE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ut{constructor(e,i){this.comparator=e,this.root=i||Gt.EMPTY}insert(e,i){return new ut(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bc(this.root,e,this.comparator,!0)}}class bc{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,i,a,l,c){this.key=e,this.value=i,this.color=a??Gt.RED,this.left=l??Gt.EMPTY,this.right=c??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,c){return new Gt(e??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Gt.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,i,a,l,c){return this}insert(e,i,a){return new Gt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Sv(this.data.getIterator())}getIteratorFrom(e){return new Sv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Mt(this.comparator);return i.data=e,i}}class Sv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wn{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new wn([])}unionWith(e){let i=new Mt(Ft.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new wn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Za(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class pE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new pE("Invalid base64 string: "+c):c}})(e);return new Qt(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new Qt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const Dw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sr(r){if(Ke(!!r,39018),typeof r=="string"){let e=0;const i=Dw.exec(r);if(Ke(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:pt(r.seconds),nanos:pt(r.nanos)}}function pt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function rr(r){return typeof r=="string"?Qt.fromBase64String(r):Qt.fromUint8Array(r)}const yE="server_timestamp",_E="__type__",vE="__previous_value__",EE="__local_write_time__";function xm(r){return(r?.mapValue?.fields||{})[_E]?.stringValue===yE}function fh(r){const e=r.mapValue.fields[vE];return xm(e)?fh(e):e}function Dl(r){const e=sr(r.mapValue.fields[EE].timestampValue);return new rt(e.seconds,e.nanos)}class Ow{constructor(e,i,a,l,c,d,g,_,p,S){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=p,this.isUsingEmulator=S}}const Kc="(default)";class Ol{constructor(e,i){this.projectId=e,this.database=i||Kc}static empty(){return new Ol("","")}get isDefaultDatabase(){return this.database===Kc}isEqual(e){return e instanceof Ol&&e.projectId===this.projectId&&e.database===this.database}}const TE="__type__",Mw="__max__",wc={mapValue:{}},SE="__vector__",Yc="value";function ar(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?xm(r)?4:Vw(r)?9007199254740991:xw(r)?10:11:ve(28295,{value:r})}function xi(r,e){if(r===e)return!0;const i=ar(r);if(i!==ar(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Dl(r).isEqual(Dl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=sr(l.timestampValue),g=sr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,c){return rr(l.bytesValue).isEqual(rr(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,c){return pt(l.geoPointValue.latitude)===pt(c.geoPointValue.latitude)&&pt(l.geoPointValue.longitude)===pt(c.geoPointValue.longitude)})(r,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return pt(l.integerValue)===pt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=pt(l.doubleValue),g=pt(c.doubleValue);return d===g?Qc(d)===Qc(g):isNaN(d)&&isNaN(g)}return!1})(r,e);case 9:return Za(r.arrayValue.values||[],e.arrayValue.values||[],xi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(Tv(d)!==Tv(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!xi(d[_],g[_])))return!1;return!0})(r,e);default:return ve(52216,{left:r})}}function Ml(r,e){return(r.values||[]).find((i=>xi(i,e)))!==void 0}function Ja(r,e){if(r===e)return 0;const i=ar(r),a=ar(e);if(i!==a)return Le(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Le(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=pt(c.integerValue||c.doubleValue),_=pt(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(r,e);case 3:return Av(r.timestampValue,e.timestampValue);case 4:return Av(Dl(r),Dl(e));case 5:return nm(r.stringValue,e.stringValue);case 6:return(function(c,d){const g=rr(c),_=rr(d);return g.compareTo(_)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let p=0;p<g.length&&p<_.length;p++){const S=Le(g[p],_[p]);if(S!==0)return S}return Le(g.length,_.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=Le(pt(c.latitude),pt(d.latitude));return g!==0?g:Le(pt(c.longitude),pt(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return bv(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},p=g[Yc]?.arrayValue,S=_[Yc]?.arrayValue,A=Le(p?.values?.length||0,S?.values?.length||0);return A!==0?A:bv(p,S)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===wc.mapValue&&d===wc.mapValue)return 0;if(c===wc.mapValue)return 1;if(d===wc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),p=d.fields||{},S=Object.keys(p);_.sort(),S.sort();for(let A=0;A<_.length&&A<S.length;++A){const D=nm(_[A],S[A]);if(D!==0)return D;const q=Ja(g[_[A]],p[S[A]]);if(q!==0)return q}return Le(_.length,S.length)})(r.mapValue,e.mapValue);default:throw ve(23264,{he:i})}}function Av(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Le(r,e);const i=sr(r),a=sr(e),l=Le(i.seconds,a.seconds);return l!==0?l:Le(i.nanos,a.nanos)}function bv(r,e){const i=r.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Ja(i[l],a[l]);if(c)return c}return Le(i.length,a.length)}function $a(r){return im(r)}function im(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=sr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return rr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ge.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=im(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${im(i.fields[d])}`;return l+"}"})(r.mapValue):ve(61005,{value:r})}function xc(r){switch(ar(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=fh(r);return e?16+xc(e):16;case 5:return 2*r.stringValue.length;case 6:return rr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+xc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return ur(a.fields,((c,d)=>{l+=c.length+xc(d)})),l})(r.mapValue);default:throw ve(13486,{value:r})}}function sm(r){return!!r&&"integerValue"in r}function Vm(r){return!!r&&"arrayValue"in r}function wv(r){return!!r&&"nullValue"in r}function Rv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Vc(r){return!!r&&"mapValue"in r}function xw(r){return(r?.mapValue?.fields||{})[TE]?.stringValue===SE}function Al(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ur(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Al(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Al(r.arrayValue.values[i]);return e}return{...r}}function Vw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Mw}class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Vc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Al(i)}setAll(e){let i=Ft.emptyPath(),a={},l=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=Al(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(e){const i=this.field(e.popLast());Vc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return xi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];Vc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){ur(i,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new dn(Al(this.value))}}function AE(r){const e=[];return ur(r.fields,((i,a)=>{const l=new Ft([i]);if(Vc(a)){const c=AE(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new wn(e)}class Zt{constructor(e,i,a,l,c,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Zt(e,0,Se.min(),Se.min(),Se.min(),dn.empty(),0)}static newFoundDocument(e,i,a,l){return new Zt(e,1,i,Se.min(),a,l,0)}static newNoDocument(e,i){return new Zt(e,2,i,Se.min(),Se.min(),dn.empty(),0)}static newUnknownDocument(e,i){return new Zt(e,3,i,Se.min(),Se.min(),dn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xc{constructor(e,i){this.position=e,this.inclusive=i}}function Cv(r,e,i){let a=0;for(let l=0;l<r.position.length;l++){const c=e[l],d=r.position[l];if(c.field.isKeyField()?a=ge.comparator(ge.fromName(d.referenceValue),i.key):a=Ja(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Iv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!xi(r.position[i],e.position[i]))return!1;return!0}class Zc{constructor(e,i="asc"){this.field=e,this.dir=i}}function kw(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class bE{}class Ot extends bE{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new Lw(e,i,a):i==="array-contains"?new jw(e,a):i==="in"?new Bw(e,a):i==="not-in"?new qw(e,a):i==="array-contains-any"?new Hw(e,a):new Ot(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new Pw(e,a):new zw(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ja(i,this.value)):i!==null&&ar(this.value)===ar(i)&&this.matchesComparison(Ja(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vi extends bE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Vi(e,i)}matches(e){return wE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wE(r){return r.op==="and"}function RE(r){return Uw(r)&&wE(r)}function Uw(r){for(const e of r.filters)if(e instanceof Vi)return!1;return!0}function rm(r){if(r instanceof Ot)return r.field.canonicalString()+r.op.toString()+$a(r.value);if(RE(r))return r.filters.map((e=>rm(e))).join(",");{const e=r.filters.map((i=>rm(i))).join(",");return`${r.op}(${e})`}}function CE(r,e){return r instanceof Ot?(function(a,l){return l instanceof Ot&&a.op===l.op&&a.field.isEqual(l.field)&&xi(a.value,l.value)})(r,e):r instanceof Vi?(function(a,l){return l instanceof Vi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,g)=>c&&CE(d,l.filters[g])),!0):!1})(r,e):void ve(19439)}function IE(r){return r instanceof Ot?(function(i){return`${i.field.canonicalString()} ${i.op} ${$a(i.value)}`})(r):r instanceof Vi?(function(i){return i.op.toString()+" {"+i.getFilters().map(IE).join(" ,")+"}"})(r):"Filter"}class Lw extends Ot{constructor(e,i,a){super(e,i,a),this.key=ge.fromName(a.referenceValue)}matches(e){const i=ge.comparator(e.key,this.key);return this.matchesComparison(i)}}class Pw extends Ot{constructor(e,i){super(e,"in",i),this.keys=NE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class zw extends Ot{constructor(e,i){super(e,"not-in",i),this.keys=NE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function NE(r,e){return(e.arrayValue?.values||[]).map((i=>ge.fromName(i.referenceValue)))}class jw extends Ot{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Vm(i)&&Ml(i.arrayValue,this.value)}}class Bw extends Ot{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Ml(this.value.arrayValue,i)}}class qw extends Ot{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ml(this.value.arrayValue,i)}}class Hw extends Ot{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Vm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ml(this.value.arrayValue,a)))}}class Gw{constructor(e,i=null,a=[],l=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Nv(r,e=null,i=[],a=[],l=null,c=null,d=null){return new Gw(r,e,i,a,l,c,d)}function km(r){const e=be(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>rm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),hh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>$a(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>$a(a))).join(",")),e.Te=i}return e.Te}function Um(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!kw(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!CE(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Iv(r.startAt,e.startAt)&&Iv(r.endAt,e.endAt)}function am(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class dh{constructor(e,i=null,a=[],l=[],c=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Fw(r,e,i,a,l,c,d,g){return new dh(r,e,i,a,l,c,d,g)}function mh(r){return new dh(r)}function Dv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Qw(r){return r.collectionGroup!==null}function bl(r){const e=be(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Mt(Ft.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((p=>{p.isInequality()&&(g=g.add(p.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Zc(c,a))})),i.has(Ft.keyField().canonicalString())||e.Ie.push(new Zc(Ft.keyField(),a))}return e.Ie}function Ii(r){const e=be(r);return e.Ee||(e.Ee=Kw(e,bl(r))),e.Ee}function Kw(r,e){if(r.limitType==="F")return Nv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Zc(l.field,c)}));const i=r.endAt?new Xc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Xc(r.startAt.position,r.startAt.inclusive):null;return Nv(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function om(r,e,i){return new dh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function gh(r,e){return Um(Ii(r),Ii(e))&&r.limitType===e.limitType}function DE(r){return`${km(Ii(r))}|lt:${r.limitType}`}function za(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>IE(l))).join(", ")}]`),hh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>$a(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>$a(l))).join(",")),`Target(${a})`})(Ii(r))}; limitType=${r.limitType})`}function ph(r,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ge.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,e)&&(function(a,l){for(const c of bl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,e)&&(function(a,l){return!(a.startAt&&!(function(d,g,_){const p=Cv(d,g,_);return d.inclusive?p<=0:p<0})(a.startAt,bl(a),l)||a.endAt&&!(function(d,g,_){const p=Cv(d,g,_);return d.inclusive?p>=0:p>0})(a.endAt,bl(a),l))})(r,e)}function Yw(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function OE(r){return(e,i)=>{let a=!1;for(const l of bl(r)){const c=Xw(l,e,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function Xw(r,e,i){const a=r.field.isKeyField()?ge.comparator(e.key,i.key):(function(c,d,g){const _=d.data.field(c),p=g.data.field(c);return _!==null&&p!==null?Ja(_,p):ve(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return ve(19790,{direction:r.dir})}}class Yr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){ur(this.inner,((i,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return gE(this.inner)}size(){return this.innerSize}}const Zw=new ut(ge.comparator);function os(){return Zw}const ME=new ut(ge.comparator);function _l(...r){let e=ME;for(const i of r)e=e.insert(i.key,i);return e}function xE(r){let e=ME;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function qr(){return wl()}function VE(){return wl()}function wl(){return new Yr((r=>r.toString()),((r,e)=>r.isEqual(e)))}const Jw=new ut(ge.comparator),$w=new Mt(ge.comparator);function Pe(...r){let e=$w;for(const i of r)e=e.add(i);return e}const Ww=new Mt(Le);function eR(){return Ww}function Lm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qc(e)?"-0":e}}function kE(r){return{integerValue:""+r}}function tR(r,e){return Cw(e)?kE(e):Lm(r,e)}class yh{constructor(){this._=void 0}}function nR(r,e,i){return r instanceof Jc?(function(l,c){const d={fields:{[_E]:{stringValue:yE},[EE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&xm(c)&&(c=fh(c)),c&&(d.fields[vE]=c),{mapValue:d}})(i,e):r instanceof Wa?LE(r,e):r instanceof xl?PE(r,e):(function(l,c){const d=UE(l,c),g=Ov(d)+Ov(l.Ae);return sm(d)&&sm(l.Ae)?kE(g):Lm(l.serializer,g)})(r,e)}function iR(r,e,i){return r instanceof Wa?LE(r,e):r instanceof xl?PE(r,e):i}function UE(r,e){return r instanceof $c?(function(a){return sm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class Jc extends yh{}class Wa extends yh{constructor(e){super(),this.elements=e}}function LE(r,e){const i=zE(e);for(const a of r.elements)i.some((l=>xi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class xl extends yh{constructor(e){super(),this.elements=e}}function PE(r,e){let i=zE(e);for(const a of r.elements)i=i.filter((l=>!xi(l,a)));return{arrayValue:{values:i}}}class $c extends yh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Ov(r){return pt(r.integerValue||r.doubleValue)}function zE(r){return Vm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class sR{constructor(e,i){this.field=e,this.transform=i}}function rR(r,e){return r.field.isEqual(e.field)&&(function(a,l){return a instanceof Wa&&l instanceof Wa||a instanceof xl&&l instanceof xl?Za(a.elements,l.elements,xi):a instanceof $c&&l instanceof $c?xi(a.Ae,l.Ae):a instanceof Jc&&l instanceof Jc})(r.transform,e.transform)}class aR{constructor(e,i){this.version=e,this.transformResults=i}}class Ni{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ni}static exists(e){return new Ni(void 0,e)}static updateTime(e){return new Ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class _h{}function jE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new qE(r.key,Ni.none()):new ql(r.key,r.data,Ni.none());{const i=r.data,a=dn.empty();let l=new Mt(Ft.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new cr(r.key,a,new wn(l.toArray()),Ni.none())}}function oR(r,e,i){r instanceof ql?(function(l,c,d){const g=l.value.clone(),_=xv(l.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,i):r instanceof cr?(function(l,c,d){if(!kc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=xv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(BE(l)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Rl(r,e,i,a){return r instanceof ql?(function(c,d,g,_){if(!kc(c.precondition,d))return g;const p=c.value.clone(),S=Vv(c.fieldTransforms,_,d);return p.setAll(S),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null})(r,e,i,a):r instanceof cr?(function(c,d,g,_){if(!kc(c.precondition,d))return g;const p=Vv(c.fieldTransforms,_,d),S=d.data;return S.setAll(BE(c)),S.setAll(p),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,e,i,a):(function(c,d,g){return kc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,e,i)}function lR(r,e){let i=null;for(const a of r.fieldTransforms){const l=e.data.field(a.field),c=UE(a.transform,l||null);c!=null&&(i===null&&(i=dn.empty()),i.set(a.field,c))}return i||null}function Mv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Za(a,l,((c,d)=>rR(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ql extends _h{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class cr extends _h{constructor(e,i,a,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function BE(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function xv(r,e,i){const a=new Map;Ke(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,g=e.data.field(c.field);a.set(c.field,iR(d,g,i[l]))}return a}function Vv(r,e,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,nR(c,d,e))}return a}class qE extends _h{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uR extends _h{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class cR{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&oR(c,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Rl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Rl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=VE();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const _=jE(d,g);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(Se.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&Za(this.mutations,e.mutations,((i,a)=>Mv(i,a)))&&Za(this.baseMutations,e.baseMutations,((i,a)=>Mv(i,a)))}}class Pm{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){Ke(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return Jw})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Pm(e,i,a,l)}}class hR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class fR{constructor(e,i){this.count=e,this.unchangedNames=i}}var Rt,Be;function dR(r){switch(r){case J.OK:return ve(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return ve(15467,{code:r})}}function HE(r){if(r===void 0)return as("GRPC error has no .code"),J.UNKNOWN;switch(r){case Rt.OK:return J.OK;case Rt.CANCELLED:return J.CANCELLED;case Rt.UNKNOWN:return J.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return J.INTERNAL;case Rt.UNAVAILABLE:return J.UNAVAILABLE;case Rt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Rt.NOT_FOUND:return J.NOT_FOUND;case Rt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Rt.ABORTED:return J.ABORTED;case Rt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Rt.DATA_LOSS:return J.DATA_LOSS;default:return ve(39323,{code:r})}}(Be=Rt||(Rt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";function mR(){return new TextEncoder}const gR=new Ws([4294967295,4294967295],0);function kv(r){const e=mR().encode(r),i=new rE;return i.update(e),new Uint8Array(i.digest())}function Uv(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ws([i,a],0),new Ws([l,c],0)]}class zm{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new vl(`Invalid padding: ${i}`);if(a<0)throw new vl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new vl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new vl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ws.fromNumber(this.ge)}ye(e,i,a){let l=e.add(i.multiply(Ws.fromNumber(a)));return l.compare(gR)===1&&(l=new Ws([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=kv(e),[a,l]=Uv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new zm(c,l,i);return a.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=kv(e),[a,l]=Uv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class vh{constructor(e,i,a,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,Hl.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new vh(Se.min(),l,new ut(Le),os(),Pe())}}class Hl{constructor(e,i,a,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Hl(a,i,Pe(),Pe(),Pe())}}class Uc{constructor(e,i,a,l){this.be=e,this.removedTargetIds=i,this.key=a,this.De=l}}class GE{constructor(e,i){this.targetId=e,this.Ce=i}}class FE{constructor(e,i,a=Qt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Lv{constructor(){this.ve=0,this.Fe=Pv(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),i=Pe(),a=Pe();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:ve(38017,{changeType:c})}})),new Hl(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=Pv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class pR{constructor(e){this.Ge=e,this.ze=new Map,this.je=os(),this.Je=Rc(),this.He=Rc(),this.Ye=new ut(Le)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,a=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(am(c))if(a===0){const d=new ge(c.path);this.et(i,d,Zt.newNoDocument(d,Se.min()))}else Ke(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(e),_=g?this.ct(g,e,d):1;if(_!==0){this.it(i);const p=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,p)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=rr(a).toUint8Array()}catch(_){if(_ instanceof pE)return Xa("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new zm(d,l,c)}catch(_){return Xa(_ instanceof vl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&am(g.target)){const _=new ge(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Zt.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Pe();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const p=this.ot(_);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new vh(e,i,this.Ye,this.je,a);return this.je=os(),this.Je=Rc(),this.He=Rc(),this.Ye=new ut(Le),l}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new Lv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Mt(Le),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Mt(Le),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ae("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Lv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Rc(){return new ut(ge.comparator)}function Pv(){return new ut(ge.comparator)}const yR={asc:"ASCENDING",desc:"DESCENDING"},_R={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vR={and:"AND",or:"OR"};class ER{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function lm(r,e){return r.useProto3Json||hh(e)?e:{value:e}}function Wc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function TR(r,e){return Wc(r,e.toTimestamp())}function Di(r){return Ke(!!r,49232),Se.fromTimestamp((function(i){const a=sr(i);return new rt(a.seconds,a.nanos)})(r))}function jm(r,e){return um(r,e).canonicalString()}function um(r,e){const i=(function(l){return new lt(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?i:i.child(e)}function KE(r){const e=lt.fromString(r);return Ke($E(e),10190,{key:e.toString()}),e}function cm(r,e){return jm(r.databaseId,e.path)}function Bd(r,e){const i=KE(e);if(i.get(1)!==r.databaseId.projectId)throw new ce(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ce(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ge(XE(i))}function YE(r,e){return jm(r.databaseId,e)}function SR(r){const e=KE(r);return e.length===4?lt.emptyPath():XE(e)}function hm(r){return new lt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function XE(r){return Ke(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function zv(r,e,i){return{name:cm(r,e),fields:i.value.mapValue.fields}}function AR(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ve(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(p,S){return p.useProto3Json?(Ke(S===void 0||typeof S=="string",58123),Qt.fromBase64String(S||"")):(Ke(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Qt.fromUint8Array(S||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(p){const S=p.code===void 0?J.UNKNOWN:HE(p.code);return new ce(S,p.message||"")})(d);i=new FE(a,l,c,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Bd(r,a.document.name),c=Di(a.document.updateTime),d=a.document.createTime?Di(a.document.createTime):Se.min(),g=new dn({mapValue:{fields:a.document.fields}}),_=Zt.newFoundDocument(l,c,d,g),p=a.targetIds||[],S=a.removedTargetIds||[];i=new Uc(p,S,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Bd(r,a.document),c=a.readTime?Di(a.readTime):Se.min(),d=Zt.newNoDocument(l,c),g=a.removedTargetIds||[];i=new Uc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Bd(r,a.document),c=a.removedTargetIds||[];i=new Uc([],c,l,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new fR(l,c),g=a.targetId;i=new GE(g,d)}}return i}function bR(r,e){let i;if(e instanceof ql)i={update:zv(r,e.key,e.value)};else if(e instanceof qE)i={delete:cm(r,e.key)};else if(e instanceof cr)i={update:zv(r,e.key,e.data),updateMask:xR(e.fieldMask)};else{if(!(e instanceof uR))return ve(16599,{Vt:e.type});i={verify:cm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof Jc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Wa)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof xl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof $c)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw ve(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:TR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ve(27497)})(r,e.precondition)),i}function wR(r,e){return r&&r.length>0?(Ke(e!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Di(l.updateTime):Di(c);return d.isEqual(Se.min())&&(d=Di(c)),new aR(d,l.transformResults||[])})(i,e)))):[]}function RR(r,e){return{documents:[YE(r,e.path)]}}function CR(r,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=YE(r,l);const c=(function(p){if(p.length!==0)return JE(Vi.create(p,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(p){if(p.length!==0)return p.map((S=>(function(D){return{field:ja(D.field),direction:DR(D.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=lm(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:i,parent:l}}function IR(r){let e=SR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Ke(a===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:e=e.child(S.collectionId)}let c=[];i.where&&(c=(function(A){const D=ZE(A);return D instanceof Vi&&RE(D)?D.getFilters():[D]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((D=>(function(Z){return new Zc(Ba(Z.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(D)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let D;return D=typeof A=="object"?A.value:A,hh(D)?null:D})(i.limit));let _=null;i.startAt&&(_=(function(A){const D=!!A.before,q=A.values||[];return new Xc(q,D)})(i.startAt));let p=null;return i.endAt&&(p=(function(A){const D=!A.before,q=A.values||[];return new Xc(q,D)})(i.endAt)),Fw(e,l,d,c,g,"F",_,p)}function NR(r,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function ZE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ba(i.unaryFilter.field);return Ot.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ba(i.unaryFilter.field);return Ot.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ba(i.unaryFilter.field);return Ot.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ba(i.unaryFilter.field);return Ot.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ot.create(Ba(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Vi.create(i.compositeFilter.filters.map((a=>ZE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(i.compositeFilter.op))})(r):ve(30097,{filter:r})}function DR(r){return yR[r]}function OR(r){return _R[r]}function MR(r){return vR[r]}function ja(r){return{fieldPath:r.canonicalString()}}function Ba(r){return Ft.fromServerFormat(r.fieldPath)}function JE(r){return r instanceof Ot?(function(i){if(i.op==="=="){if(Rv(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NAN"}};if(wv(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Rv(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NOT_NAN"}};if(wv(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ja(i.field),op:OR(i.op),value:i.value}}})(r):r instanceof Vi?(function(i){const a=i.getFilters().map((l=>JE(l)));return a.length===1?a[0]:{compositeFilter:{op:MR(i.op),filters:a}}})(r):ve(54877,{filter:r})}function xR(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function $E(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Ys{constructor(e,i,a,l,c=Se.min(),d=Se.min(),g=Qt.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new Ys(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class VR{constructor(e){this.yt=e}}function kR(r){const e=IR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?om(e,e.limit,"L"):e}class UR{constructor(){this.Cn=new LR}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(ir.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(ir.min())}updateCollectionGroup(e,i,a){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class LR{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new Mt(lt.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new Mt(lt.comparator)).toArray()}}const jv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},WE=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(WE,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class eo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new eo(0)}static cr(){return new eo(-1)}}const Bv="LruGarbageCollector",PR=1048576;function qv([r,e],[i,a]){const l=Le(r,i);return l===0?Le(e,a):l}class zR{constructor(e){this.Ir=e,this.buffer=new Mt(qv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();qv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class jR{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ae(Bv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){lo(i)?ae(Bv,"Ignoring IndexedDB error during garbage collection: ",i):await oo(i)}await this.Vr(3e5)}))}}class BR{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(ch.ce);const a=new zR(i);return this.mr.forEachTarget(e,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(jv)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,l,c,d,g,_,p;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(e,l)))).next((A=>(a=A,g=Date.now(),this.removeTargets(e,a,i)))).next((A=>(c=A,_=Date.now(),this.removeOrphanedDocuments(e,a)))).next((A=>(p=Date.now(),Pa()<=Ue.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${A} documents in `+(p-_)+`ms
Total Duration: ${p-S}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function qR(r,e){return new BR(r,e)}class HR{constructor(){this.changes=new Yr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class GR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class FR{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&Rl(a.mutation,l,wn.empty(),rt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Pe()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Pe()){const l=qr();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((c=>{let d=_l();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=qr();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Pe())))}populateOverlays(e,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,a,l){let c=os();const d=wl(),g=(function(){return wl()})();return i.forEach(((_,p)=>{const S=a.get(p.key);l.has(p.key)&&(S===void 0||S.mutation instanceof cr)?c=c.insert(p.key,p):S!==void 0?(d.set(p.key,S.mutation.getFieldMask()),Rl(S.mutation,p,S.mutation.getFieldMask(),rt.now())):d.set(p.key,wn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((p,S)=>d.set(p,S))),i.forEach(((p,S)=>g.set(p,new GR(S,d.get(p)??null)))),g)))}recalculateAndSaveOverlays(e,i){const a=wl();let l=new ut(((d,g)=>d-g)),c=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const p=i.get(_);if(p===null)return;let S=a.get(_)||wn.empty();S=g.applyToLocalView(p,S),a.set(_,S);const A=(l.get(g.batchId)||Pe()).add(_);l=l.insert(g.batchId,A)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),p=_.key,S=_.value,A=VE();S.forEach((D=>{if(!c.has(D)){const q=jE(i.get(D),a.get(D));q!==null&&A.set(D,q),c=c.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(e,p,A))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return(function(d){return ge.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Qw(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-c.size):X.resolve(qr());let g=Nl,_=c;return d.next((p=>X.forEach(p,((S,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(S)?X.resolve():this.remoteDocumentCache.getEntry(e,S).next((D=>{_=_.insert(S,D)}))))).next((()=>this.populateOverlays(e,p,c))).next((()=>this.computeViews(e,_,p,Pe()))).next((S=>({batchId:g,changes:xE(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ge(i)).next((a=>{let l=_l();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const c=i.collectionGroup;let d=_l();return this.indexManager.getCollectionParents(e,c).next((g=>X.forEach(g,(_=>{const p=(function(A,D){return new dh(D,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,p,a,l).next((S=>{S.forEach(((A,D)=>{d=d.insert(A,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,l)))).next((d=>{c.forEach(((_,p)=>{const S=p.getKey();d.get(S)===null&&(d=d.insert(S,Zt.newInvalidDocument(S)))}));let g=_l();return d.forEach(((_,p)=>{const S=c.get(_);S!==void 0&&Rl(S.mutation,p,wn.empty(),rt.now()),ph(i,p)&&(g=g.insert(_,p))})),g}))}}class QR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Di(l.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:kR(l.bundledQuery),readTime:Di(l.readTime)}})(i)),X.resolve()}}class KR{constructor(){this.overlays=new ut(ge.comparator),this.qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const a=qr();return X.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,c)=>{this.St(e,i,c)})),X.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(e,i,a){const l=qr(),c=i.length+1,d=new ge(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,p=_.getKey();if(!i.isPrefixOf(p.path))break;p.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return X.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let c=new ut(((p,S)=>p-S));const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===i&&p.largestBatchId>a){let S=c.get(p.largestBatchId);S===null&&(S=qr(),c=c.insert(p.largestBatchId,S)),S.set(p.getKey(),p)}}const g=qr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((p,S)=>g.set(p,S))),!(g.size()>=l)););return X.resolve(g)}St(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new hR(i,a));let c=this.qr.get(i);c===void 0&&(c=Pe(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class YR{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}class Bm{constructor(){this.Qr=new Mt(Ut.$r),this.Ur=new Mt(Ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Ut(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Ut(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new ge(new lt([])),a=new Ut(i,e),l=new Ut(i,e+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ge(new lt([])),a=new Ut(i,e),l=new Ut(i,e+1);let c=Pe();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Ut(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Ut{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ge.comparator(e.key,i.key)||Le(e.Yr,i.Yr)}static Kr(e,i){return Le(e.Yr,i.Yr)||ge.comparator(e.key,i.key)}}class XR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Mt(Ut.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new cR(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Ut(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Mm:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ut(i,0),l=new Ut(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Mt(Le);return i.forEach((l=>{const c=new Ut(l,0),d=new Ut(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let c=a;ge.isDocumentKey(c)||(c=c.child(""));const d=new Ut(new ge(c),0);let g=new Mt(Le);return this.Zr.forEachWhile((_=>{const p=_.key.path;return!!a.isPrefixOf(p)&&(p.length===l&&(g=g.add(_.Yr)),!0)}),d),X.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){Ke(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(l=>{const c=new Ut(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Ut(i,0),l=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class ZR{constructor(e){this.ri=e,this.docs=(function(){return new ut(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Zt.newInvalidDocument(i))}getEntries(e,i){let a=os();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Zt.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let c=os();const d=i.path,g=new ge(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:p,value:{document:S}}=_.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||Aw(Sw(S),a)<=0||(l.has(S.key)||ph(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(e,i,a,l){ve(9500)}ii(e,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new JR(this)}getSize(e){return X.resolve(this.size)}}class JR extends HR{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class $R{constructor(e){this.persistence=e,this.si=new Yr((i=>km(i)),Um),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new Bm,this.targetCount=0,this.ai=eo.ur()}forEachTarget(e,i){return this.si.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new eo(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Pr(i),X.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,a){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(e,i){return X.resolve(this._i.containsKey(i))}}class eT{constructor(e,i){this.ui={},this.overlays={},this.ci=new ch(0),this.li=!1,this.li=!0,this.hi=new YR,this.referenceDelegate=e(this),this.Pi=new $R(this),this.indexManager=new UR,this.remoteDocumentCache=(function(l){return new ZR(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new VR(i),this.Ii=new QR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new KR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new XR(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){ae("MemoryPersistence","Starting transaction:",e);const l=new WR(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class WR extends ww{constructor(e){super(),this.currentSequenceNumber=e}}class qm{constructor(e){this.persistence=e,this.Ri=new Bm,this.Vi=null}static mi(e){return new qm(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const l=ge.fromPath(a);return this.gi(e,l).next((c=>{c||i.removeEntry(l,Se.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class eh{constructor(e,i){this.persistence=e,this.pi=new Yr((a=>Iw(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=qR(this,i)}static mi(e,i){return new eh(e,i)}Ei(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return X.forEach(this.pi,((a,l)=>this.br(e,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((g=>{g||(a++,c.removeEntry(d,Se.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=xc(e.data.value)),i}br(e,i,a){return X.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Hm{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=l}static As(e,i){let a=Pe(),l=Pe();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Hm(e,i.fromCache,a,l)}}class eC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class tC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return FS()?8:Rw(Jt())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new eC;return this.Ss(e,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>c.result))}bs(e,i,a,l){return a.documentReadCount<this.fs?(Pa()<=Ue.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",za(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Pa()<=Ue.DEBUG&&ae("QueryEngine","Query:",za(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Pa()<=Ue.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",za(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ii(i))):X.resolve())}ys(e,i){if(Dv(i))return X.resolve(null);let a=Ii(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=om(i,null,"F"),a=Ii(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Pe(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,a).next((_=>{const p=this.Ds(i,g);return this.Cs(i,p,d,_.readTime)?this.ys(e,om(i,null,"F")):this.vs(e,p,i,_)}))))})))))}ws(e,i,a,l){return Dv(i)||l.isEqual(Se.min())?X.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?X.resolve(null):(Pa()<=Ue.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),za(i)),this.vs(e,d,i,Tw(l,Nl)).next((g=>g)))}))}Ds(e,i){let a=new Mt(OE(e));return i.forEach(((l,c)=>{ph(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,a){return Pa()<=Ue.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",za(i)),this.ps.getDocumentsMatchingQuery(e,i,ir.min(),a)}vs(e,i,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Gm="LocalStore",nC=3e8;class iC{constructor(e,i,a,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new ut(Le),this.xs=new Yr((c=>km(c)),Um),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function sC(r,e,i,a){return new iC(r,e,i,a)}async function tT(r,e){const i=be(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let _=Pe();for(const p of l){d.push(p.batchId);for(const S of p.mutations)_=_.add(S.key)}for(const p of c){g.push(p.batchId);for(const S of p.mutations)_=_.add(S.key)}return i.localDocuments.getDocuments(a,_).next((p=>({Ls:p,removedBatchIds:d,addedBatchIds:g})))}))}))}function rC(r,e){const i=be(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,p,S){const A=p.batch,D=A.keys();let q=X.resolve();return D.forEach((Z=>{q=q.next((()=>S.getEntry(_,Z))).next((W=>{const $=p.docVersions.get(Z);Ke($!==null,48541),W.version.compareTo($)<0&&(A.applyToRemoteDocument(W,p),W.isValidDocument()&&(W.setReadTime(p.commitVersion),S.addEntry(W)))}))})),q.next((()=>g.mutationQueue.removeMutationBatch(_,A)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let _=Pe();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(_=_.add(g.batch.mutations[p].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function nT(r){const e=be(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function aC(r,e){const i=be(r),a=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];e.targetChanges.forEach(((S,A)=>{const D=l.get(A);if(!D)return;g.push(i.Pi.removeMatchingKeys(c,S.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,S.addedDocuments,A))));let q=D.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?q=q.withResumeToken(Qt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):S.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(S.resumeToken,a)),l=l.insert(A,q),(function(W,$,le){return W.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=nC?!0:le.addedDocuments.size+le.modifiedDocuments.size+le.removedDocuments.size>0})(D,q,S)&&g.push(i.Pi.updateTargetData(c,q))}));let _=os(),p=Pe();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),g.push(oC(c,d,e.documentUpdates).next((S=>{_=S.ks,p=S.qs}))),!a.isEqual(Se.min())){const S=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(S)}return X.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,p))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function oC(r,e,i){let a=Pe(),l=Pe();return i.forEach((c=>a=a.add(c))),e.getEntries(r,a).next((c=>{let d=os();return i.forEach(((g,_)=>{const p=c.get(g);_.isFoundDocument()!==p.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(Se.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!p.isValidDocument()||_.version.compareTo(p.version)>0||_.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):ae(Gm,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function lC(r,e){const i=be(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Mm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function uC(r,e){const i=be(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,e).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new Ys(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function fm(r,e,i){const a=be(r),l=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!lo(d))throw d;ae(Gm,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(l.target)}function Hv(r,e,i){const a=be(r);let l=Se.min(),c=Pe();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,p,S){const A=be(_),D=A.xs.get(S);return D!==void 0?X.resolve(A.Ms.get(D)):A.Pi.getTargetData(p,S)})(a,d,Ii(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?l:Se.min(),i?c:Pe()))).next((g=>(cC(a,Yw(e),g),{documents:g,Qs:c})))))}function cC(r,e,i){let a=r.Os.get(e)||Se.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(e,a)}class Gv{constructor(){this.activeTargetIds=eR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hC{constructor(){this.Mo=new Gv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Gv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class fC{Oo(e){}shutdown(){}}const Fv="ConnectivityMonitor";class Qv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ae(Fv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ae(Fv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Cc=null;function dm(){return Cc===null?Cc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cc++,"0x"+Cc.toString(16)}const qd="RestConnection",dC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Kc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,i,a,l,c){const d=dm(),g=this.zo(e,i.toUriEncodedString());ae(qd,`Sending RPC '${e}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:p}=new URL(g),S=io(p);return this.Jo(e,g,_,a,S).then((A=>(ae(qd,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw Xa(qd,`RPC '${e}' ${d} failed with error: `,A,"url: ",g,"request:",a),A}))}Ho(e,i,a,l,c,d){return this.Go(e,i,a,l,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ao})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const a=dC[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class gC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Yt="WebChannelConnection";class pC extends mC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,l,c){const d=dm();return new Promise(((g,_)=>{const p=new aE;p.setWithCredentials(!0),p.listenOnce(oE.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Mc.NO_ERROR:const A=p.getResponseJson();ae(Yt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),g(A);break;case Mc.TIMEOUT:ae(Yt,`RPC '${e}' ${d} timed out`),_(new ce(J.DEADLINE_EXCEEDED,"Request time out"));break;case Mc.HTTP_ERROR:const D=p.getStatus();if(ae(Yt,`RPC '${e}' ${d} failed with status:`,D,"response text:",p.getResponseText()),D>0){let q=p.getResponseJson();Array.isArray(q)&&(q=q[0]);const Z=q?.error;if(Z&&Z.status&&Z.message){const W=(function(le){const de=le.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(de)>=0?de:J.UNKNOWN})(Z.status);_(new ce(W,Z.message))}else _(new ce(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else _(new ce(J.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:d,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ae(Yt,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(l);ae(Yt,`RPC '${e}' ${d} sending request:`,l),p.send(i,"POST",S,a,15)}))}T_(e,i,a){const l=dm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=cE(),g=uE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(_.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const S=c.join("");ae(Yt,`Creating RPC '${e}' stream ${l}: ${S}`,_);const A=d.createWebChannel(S,_);this.I_(A);let D=!1,q=!1;const Z=new gC({Yo:$=>{q?ae(Yt,`Not sending because RPC '${e}' stream ${l} is closed:`,$):(D||(ae(Yt,`Opening RPC '${e}' stream ${l} transport.`),A.open(),D=!0),ae(Yt,`RPC '${e}' stream ${l} sending:`,$),A.send($))},Zo:()=>A.close()}),W=($,le,de)=>{$.listen(le,(re=>{try{de(re)}catch(De){setTimeout((()=>{throw De}),0)}}))};return W(A,yl.EventType.OPEN,(()=>{q||(ae(Yt,`RPC '${e}' stream ${l} transport opened.`),Z.o_())})),W(A,yl.EventType.CLOSE,(()=>{q||(q=!0,ae(Yt,`RPC '${e}' stream ${l} transport closed`),Z.a_(),this.E_(A))})),W(A,yl.EventType.ERROR,($=>{q||(q=!0,Xa(Yt,`RPC '${e}' stream ${l} transport errored. Name:`,$.name,"Message:",$.message),Z.a_(new ce(J.UNAVAILABLE,"The operation could not be completed")))})),W(A,yl.EventType.MESSAGE,($=>{if(!q){const le=$.data[0];Ke(!!le,16349);const de=le,re=de?.error||de[0]?.error;if(re){ae(Yt,`RPC '${e}' stream ${l} received error:`,re);const De=re.status;let je=(function(w){const R=Rt[w];if(R!==void 0)return HE(R)})(De),we=re.message;je===void 0&&(je=J.INTERNAL,we="Unknown error status: "+De+" with message "+re.message),q=!0,Z.a_(new ce(je,we)),A.close()}else ae(Yt,`RPC '${e}' stream ${l} received:`,le),Z.u_(le)}})),W(g,lE.STAT_EVENT,($=>{$.stat===tm.PROXY?ae(Yt,`RPC '${e}' stream ${l} detected buffering proxy`):$.stat===tm.NOPROXY&&ae(Yt,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Hd(){return typeof document<"u"?document:null}function Eh(r){return new ER(r,!0)}class iT{constructor(e,i,a=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ae("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Kv="PersistentStream";class sT{constructor(e,i,a,l,c,d,g,_){this.Mi=e,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new iT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(as(i.toString()),as("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new ce(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ae(Kv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ae(Kv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class yC extends sT{constructor(e,i,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=AR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Se.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Se.min():d.readTime?Di(d.readTime):Se.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=hm(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=am(_)?{documents:RR(c,_)}:{query:CR(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=QE(c,d.resumeToken);const p=lm(c,d.expectedCount);p!==null&&(g.expectedCount=p)}else if(d.snapshotVersion.compareTo(Se.min())>0){g.readTime=Wc(c,d.snapshotVersion.toTimestamp());const p=lm(c,d.expectedCount);p!==null&&(g.expectedCount=p)}return g})(this.serializer,e);const a=NR(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=hm(this.serializer),i.removeTarget=e,this.q_(i)}}class _C extends sT{constructor(e,i,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=wR(e.writeResults,e.commitTime),a=Di(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=hm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>bR(this.serializer,a)))};this.q_(i)}}class vC{}class EC extends vC{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ce(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,um(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(J.UNKNOWN,c.toString())}))}Ho(e,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,um(i,a),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ce(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class TC{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(as(i),this.aa=!1):ae("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Kr="RemoteStore";class SC{constructor(e,i,a,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Xr(this)&&(ae(Kr,"Restarting streams for network reachability change."),await(async function(_){const p=be(_);p.Ea.add(4),await Gl(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Th(p)})(this))}))})),this.Ra=new TC(a,l)}}async function Th(r){if(Xr(r))for(const e of r.da)await e(!0)}async function Gl(r){for(const e of r.da)await e(!1)}function rT(r,e){const i=be(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Ym(i)?Km(i):uo(i).O_()&&Qm(i,e))}function Fm(r,e){const i=be(r),a=uo(i);i.Ia.delete(e),a.O_()&&aT(i,e),i.Ia.size===0&&(a.O_()?a.L_():Xr(i)&&i.Ra.set("Unknown"))}function Qm(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}uo(r).Y_(e)}function aT(r,e){r.Va.Ue(e),uo(r).Z_(e)}function Km(r){r.Va=new pR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),uo(r).start(),r.Ra.ua()}function Ym(r){return Xr(r)&&!uo(r).x_()&&r.Ia.size>0}function Xr(r){return be(r).Ea.size===0}function oT(r){r.Va=void 0}async function AC(r){r.Ra.set("Online")}async function bC(r){r.Ia.forEach(((e,i)=>{Qm(r,e)}))}async function wC(r,e){oT(r),Ym(r)?(r.Ra.ha(e),Km(r)):r.Ra.set("Unknown")}async function RC(r,e,i){if(r.Ra.set("Online"),e instanceof FE&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(r,e)}catch(a){ae(Kr,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await th(r,a)}else if(e instanceof Uc?r.Va.Ze(e):e instanceof GE?r.Va.st(e):r.Va.tt(e),!i.isEqual(Se.min()))try{const a=await nT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((_,p)=>{if(_.resumeToken.approximateByteSize()>0){const S=c.Ia.get(p);S&&c.Ia.set(p,S.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,p)=>{const S=c.Ia.get(_);if(!S)return;c.Ia.set(_,S.withResumeToken(Qt.EMPTY_BYTE_STRING,S.snapshotVersion)),aT(c,_);const A=new Ys(S.target,_,p,S.sequenceNumber);Qm(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){ae(Kr,"Failed to raise snapshot:",a),await th(r,a)}}async function th(r,e,i){if(!lo(e))throw e;r.Ea.add(1),await Gl(r),r.Ra.set("Offline"),i||(i=()=>nT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ae(Kr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Th(r)}))}function lT(r,e){return e().catch((i=>th(r,i,e)))}async function Sh(r){const e=be(r),i=or(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Mm;for(;CC(e);)try{const l=await lC(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,IC(e,l)}catch(l){await th(e,l)}uT(e)&&cT(e)}function CC(r){return Xr(r)&&r.Ta.length<10}function IC(r,e){r.Ta.push(e);const i=or(r);i.O_()&&i.X_&&i.ea(e.mutations)}function uT(r){return Xr(r)&&!or(r).x_()&&r.Ta.length>0}function cT(r){or(r).start()}async function NC(r){or(r).ra()}async function DC(r){const e=or(r);for(const i of r.Ta)e.ea(i.mutations)}async function OC(r,e,i){const a=r.Ta.shift(),l=Pm.from(a,e,i);await lT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Sh(r)}async function MC(r,e){e&&or(r).X_&&await(async function(a,l){if((function(d){return dR(d)&&d!==J.ABORTED})(l.code)){const c=a.Ta.shift();or(a).B_(),await lT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Sh(a)}})(r,e),uT(r)&&cT(r)}async function Yv(r,e){const i=be(r);i.asyncQueue.verifyOperationInProgress(),ae(Kr,"RemoteStore received new credentials");const a=Xr(i);i.Ea.add(3),await Gl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Th(i)}async function xC(r,e){const i=be(r);e?(i.Ea.delete(2),await Th(i)):e||(i.Ea.add(2),await Gl(i),i.Ra.set("Unknown"))}function uo(r){return r.ma||(r.ma=(function(i,a,l){const c=be(i);return c.sa(),new yC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:AC.bind(null,r),t_:bC.bind(null,r),r_:wC.bind(null,r),H_:RC.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Ym(r)?Km(r):r.Ra.set("Unknown")):(await r.ma.stop(),oT(r))}))),r.ma}function or(r){return r.fa||(r.fa=(function(i,a,l){const c=be(i);return c.sa(),new _C(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:NC.bind(null,r),r_:MC.bind(null,r),ta:DC.bind(null,r),na:OC.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Sh(r)):(await r.fa.stop(),r.Ta.length>0&&(ae(Kr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Xm{constructor(e,i,a,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,c){const d=Date.now()+a,g=new Xm(e,i,d,l,c);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zm(r,e){if(as("AsyncQueue",`${e}: ${r}`),lo(r))return new ce(J.UNAVAILABLE,`${e}: ${r}`);throw r}class Qa{static emptySet(e){return new Qa(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ge.comparator(i.key,a.key):(i,a)=>ge.comparator(i.key,a.key),this.keyedMap=_l(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Qa)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new Qa;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class Xv{constructor(){this.ga=new ut(ge.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class to{constructor(e,i,a,l,c,d,g,_,p){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=p}static fromInitialDocuments(e,i,a,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new to(e,i,Qa.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class VC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class kC{constructor(){this.queries=Zv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=be(i),c=l.queries;l.queries=Zv(),c.forEach(((d,g)=>{for(const _ of g.Sa)_.onError(a)}))})(this,new ce(J.ABORTED,"Firestore shutting down"))}}function Zv(){return new Yr((r=>DE(r)),gh)}async function hT(r,e){const i=be(r);let a=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(a=2):(c=new VC,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Zm(d,`Initialization of query '${za(e.query)}' failed`);return void e.onError(g)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Jm(i)}async function fT(r,e){const i=be(r),a=e.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function UC(r,e){const i=be(r);let a=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(a=!0);d.wa=l}}a&&Jm(i)}function LC(r,e,i){const a=be(r),l=a.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(e)}function Jm(r){r.Ca.forEach((e=>{e.next()}))}var mm,Jv;(Jv=mm||(mm={})).Ma="default",Jv.Cache="cache";class dT{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new to(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=to.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==mm.Cache}}class mT{constructor(e){this.key=e}}class gT{constructor(e){this.key=e}}class PC{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=OE(e),this.tu=new Qa(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new Xv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,p=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((S,A)=>{const D=l.get(S),q=ph(this.query,A)?A:null,Z=!!D&&this.mutatedKeys.has(D.key),W=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let $=!1;D&&q?D.data.isEqual(q.data)?Z!==W&&(a.track({type:3,doc:q}),$=!0):this.su(D,q)||(a.track({type:2,doc:q}),$=!0,(_&&this.eu(q,_)>0||p&&this.eu(q,p)<0)&&(g=!0)):!D&&q?(a.track({type:0,doc:q}),$=!0):D&&!q&&(a.track({type:1,doc:D}),$=!0,(_||p)&&(g=!0)),$&&(q?(d=d.add(q),c=W?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,A)=>(function(q,Z){const W=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:$})}};return W(q)-W(Z)})(S.type,A.type)||this.eu(S.doc,A.doc))),this.ou(a),l=l??!1;const g=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,p=_!==this.Za;return this.Za=_,d.length!==0||p?{snapshot:new to(this.query,e.tu,c,d,e.mutatedKeys,_===0,p,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Xv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new gT(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new mT(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Pe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return to.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const $m="SyncEngine";class zC{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class jC{constructor(e){this.key=e,this.hu=!1}}class BC{constructor(e,i,a,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Yr((g=>DE(g)),gh),this.Iu=new Map,this.Eu=new Set,this.du=new ut(ge.comparator),this.Au=new Map,this.Ru=new Bm,this.Vu={},this.mu=new Map,this.fu=eo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function qC(r,e,i=!0){const a=TT(r);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await pT(a,e,i,!0),l}async function HC(r,e){const i=TT(r);await pT(i,e,!0,!1)}async function pT(r,e,i,a){const l=await uC(r.localStore,Ii(e)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await GC(r,e,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&rT(r.remoteStore,l),g}async function GC(r,e,i,a,l){r.pu=(A,D,q)=>(async function(W,$,le,de){let re=$.view.ru(le);re.Cs&&(re=await Hv(W.localStore,$.query,!1).then((({documents:I})=>$.view.ru(I,re))));const De=de&&de.targetChanges.get($.targetId),je=de&&de.targetMismatches.get($.targetId)!=null,we=$.view.applyChanges(re,W.isPrimaryClient,De,je);return Wv(W,$.targetId,we.au),we.snapshot})(r,A,D,q);const c=await Hv(r.localStore,e,!0),d=new PC(e,c.Qs),g=d.ru(c.documents),_=Hl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),p=d.applyChanges(g,r.isPrimaryClient,_);Wv(r,i,p.au);const S=new zC(e,i,d);return r.Tu.set(e,S),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),p.snapshot}async function FC(r,e,i){const a=be(r),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!gh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await fm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Fm(a.remoteStore,l.targetId),gm(a,l.targetId)})).catch(oo)):(gm(a,l.targetId),await fm(a.localStore,l.targetId,!0))}async function QC(r,e){const i=be(r),a=i.Tu.get(e),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Fm(i.remoteStore,a.targetId))}async function KC(r,e,i){const a=eI(r);try{const l=await(function(d,g){const _=be(d),p=rt.now(),S=g.reduce(((q,Z)=>q.add(Z.key)),Pe());let A,D;return _.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let Z=os(),W=Pe();return _.Ns.getEntries(q,S).next(($=>{Z=$,Z.forEach(((le,de)=>{de.isValidDocument()||(W=W.add(le))}))})).next((()=>_.localDocuments.getOverlayedDocuments(q,Z))).next(($=>{A=$;const le=[];for(const de of g){const re=lR(de,A.get(de.key).overlayedDocument);re!=null&&le.push(new cr(de.key,re,AE(re.value.mapValue),Ni.exists(!0)))}return _.mutationQueue.addMutationBatch(q,p,le,g)})).next(($=>{D=$;const le=$.applyToLocalDocumentSet(A,W);return _.documentOverlayCache.saveOverlays(q,$.batchId,le)}))})).then((()=>({batchId:D.batchId,changes:xE(A)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,_){let p=d.Vu[d.currentUser.toKey()];p||(p=new ut(Le)),p=p.insert(g,_),d.Vu[d.currentUser.toKey()]=p})(a,l.batchId,i),await Fl(a,l.changes),await Sh(a.remoteStore)}catch(l){const c=Zm(l,"Failed to persist write");i.reject(c)}}async function yT(r,e){const i=be(r);try{const a=await aC(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ke(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ke(d.hu,14607):l.removedDocuments.size>0&&(Ke(d.hu,42227),d.hu=!1))})),await Fl(i,a,e)}catch(a){await oo(a)}}function $v(r,e,i){const a=be(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const _=be(d);_.onlineState=g;let p=!1;_.queries.forEach(((S,A)=>{for(const D of A.Sa)D.va(g)&&(p=!0)})),p&&Jm(_)})(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function YC(r,e,i){const a=be(r);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Au.get(e),c=l&&l.key;if(c){let d=new ut(ge.comparator);d=d.insert(c,Zt.newNoDocument(c,Se.min()));const g=Pe().add(c),_=new vh(Se.min(),new Map,new ut(Le),d,g);await yT(a,_),a.du=a.du.remove(c),a.Au.delete(e),Wm(a)}else await fm(a.localStore,e,!1).then((()=>gm(a,e,i))).catch(oo)}async function XC(r,e){const i=be(r),a=e.batch.batchId;try{const l=await rC(i.localStore,e);vT(i,a,null),_T(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Fl(i,l)}catch(l){await oo(l)}}async function ZC(r,e,i){const a=be(r);try{const l=await(function(d,g){const _=be(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let S;return _.mutationQueue.lookupMutationBatch(p,g).next((A=>(Ke(A!==null,37113),S=A.keys(),_.mutationQueue.removeMutationBatch(p,A)))).next((()=>_.mutationQueue.performConsistencyCheck(p))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(p,S,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,S))).next((()=>_.localDocuments.getDocuments(p,S)))}))})(a.localStore,e);vT(a,e,i),_T(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Fl(a,l)}catch(l){await oo(l)}}function _T(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function vT(r,e,i){const a=be(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}function gm(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||ET(r,a)}))}function ET(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Fm(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Wm(r))}function Wv(r,e,i){for(const a of i)a instanceof mT?(r.Ru.addReference(a.key,e),JC(r,a)):a instanceof gT?(ae($m,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||ET(r,a.key)):ve(19791,{wu:a})}function JC(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(ae($m,"New document in limbo: "+i),r.Eu.add(a),Wm(r))}function Wm(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new ge(lt.fromString(e)),a=r.fu.next();r.Au.set(a,new jC(i)),r.du=r.du.insert(i,a),rT(r.remoteStore,new Ys(Ii(mh(i.path)),a,"TargetPurposeLimboResolution",ch.ce))}}async function Fl(r,e,i){const a=be(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,_)=>{d.push(a.pu(_,e,i).then((p=>{if((p||i)&&a.isPrimaryClient){const S=p?!p.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,S?"current":"not-current")}if(p){l.push(p);const S=Hm.As(_.targetId,p);c.push(S)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(_,p){const S=be(_);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>X.forEach(p,(D=>X.forEach(D.Es,(q=>S.persistence.referenceDelegate.addReference(A,D.targetId,q))).next((()=>X.forEach(D.ds,(q=>S.persistence.referenceDelegate.removeReference(A,D.targetId,q)))))))))}catch(A){if(!lo(A))throw A;ae(Gm,"Failed to update sequence numbers: "+A)}for(const A of p){const D=A.targetId;if(!A.fromCache){const q=S.Ms.get(D),Z=q.snapshotVersion,W=q.withLastLimboFreeSnapshotVersion(Z);S.Ms=S.Ms.insert(D,W)}}})(a.localStore,c))}async function $C(r,e){const i=be(r);if(!i.currentUser.isEqual(e)){ae($m,"User change. New user:",e.toKey());const a=await tT(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new ce(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Fl(i,a.Ls)}}function WC(r,e){const i=be(r),a=i.Au.get(e);if(a&&a.hu)return Pe().add(a.key);{let l=Pe();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function TT(r){const e=be(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=yT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YC.bind(null,e),e.Pu.H_=UC.bind(null,e.eventManager),e.Pu.yu=LC.bind(null,e.eventManager),e}function eI(r){const e=be(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZC.bind(null,e),e}class nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Eh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return sC(this.persistence,new tC,e.initialUser,this.serializer)}Cu(e){return new eT(qm.mi,this.serializer)}Du(e){return new hC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nh.provider={build:()=>new nh};class tI extends nh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ke(this.persistence.referenceDelegate instanceof eh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new jR(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new eT((a=>eh.mi(a,i)),this.serializer)}}class pm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>$v(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=$C.bind(null,this.syncEngine),await xC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new kC})()}createDatastore(e){const i=Eh(e.databaseInfo.databaseId),a=(function(c){return new pC(c)})(e.databaseInfo);return(function(c,d,g,_){return new EC(c,d,g,_)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,c,d,g){return new SC(a,l,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>$v(this.syncEngine,i,0)),(function(){return Qv.v()?new Qv:new fC})())}createSyncEngine(e,i){return(function(l,c,d,g,_,p,S){const A=new BC(l,c,d,g,_,p);return S&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=be(i);ae(Kr,"RemoteStore shutting down."),a.Ea.add(5),await Gl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}pm.provider={build:()=>new pm};class ST{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):as("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const lr="FirestoreClient";class nI{constructor(e,i,a,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Xt.UNAUTHENTICATED,this.clientId=Dm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ae(lr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ae(lr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Zm(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Gd(r,e){r.asyncQueue.verifyOperationInProgress(),ae(lr,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await tT(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function e0(r,e){r.asyncQueue.verifyOperationInProgress();const i=await iI(r);ae(lr,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Yv(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Yv(e.remoteStore,l))),r._onlineComponents=e}async function iI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ae(lr,"Using user provided OfflineComponentProvider");try{await Gd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Xa("Error using user provided cache. Falling back to memory cache: "+i),await Gd(r,new nh)}}else ae(lr,"Using default OfflineComponentProvider"),await Gd(r,new tI(void 0));return r._offlineComponents}async function AT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ae(lr,"Using user provided OnlineComponentProvider"),await e0(r,r._uninitializedComponentsProvider._online)):(ae(lr,"Using default OnlineComponentProvider"),await e0(r,new pm))),r._onlineComponents}function sI(r){return AT(r).then((e=>e.syncEngine))}async function ym(r){const e=await AT(r),i=e.eventManager;return i.onListen=qC.bind(null,e.syncEngine),i.onUnlisten=FC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=HC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=QC.bind(null,e.syncEngine),i}function rI(r,e,i={}){const a=new er;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,_,p){const S=new ST({next:D=>{S.Nu(),d.enqueueAndForget((()=>fT(c,A)));const q=D.docs.has(g);!q&&D.fromCache?p.reject(new ce(J.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&D.fromCache&&_&&_.source==="server"?p.reject(new ce(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(D)},error:D=>p.reject(D)}),A=new dT(mh(g.path),S,{includeMetadataChanges:!0,qa:!0});return hT(c,A)})(await ym(r),r.asyncQueue,e,i,a))),a.promise}function bT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const t0=new Map;const wT="firestore.googleapis.com",n0=!0;class i0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wT,this.ssl=n0}else this.host=e.host,this.ssl=e.ssl??n0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=WE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<PR)throw new ce(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ew("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bT(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class eg{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new i0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new i0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new uw;switch(a.type){case"firstParty":return new dw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ce(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=t0.get(i);a&&(ae("ComponentProvider","Removing Datastore"),t0.delete(i),a.terminate())})(this),Promise.resolve()}}function aI(r,e,i,a={}){r=Ci(r,eg);const l=io(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${i}`;l&&(v0(`https://${g}`),E0("Firestore",!0)),c.host!==wT&&c.host!==g&&Xa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:l,emulatorOptions:a};if(!tr(_,d)&&(r._setSettings(_),a.mockUserToken)){let p,S;if(typeof a.mockUserToken=="string")p=a.mockUserToken,S=Xt.MOCK_USER;else{p=US(a.mockUserToken,r._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new ce(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Xt(A)}r._authCredentials=new cw(new fE(p,S))}}class Ah{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ah(this.firestore,e,this._query)}}class It{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new It(this.firestore,e,this._key)}toJSON(){return{type:It._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Bl(i,It._jsonSchema))return new It(e,a||null,new ge(lt.fromString(i.referencePath)))}}It._jsonSchemaVersion="firestore/documentReference/1.0",It._jsonSchema={type:Ct("string",It._jsonSchemaVersion),referencePath:Ct("string")};class Vl extends Ah{constructor(e,i,a){super(e,i,mh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new ge(e))}withConverter(e){return new Vl(this.firestore,e,this._path)}}function Si(r,e,...i){if(r=tn(r),arguments.length===1&&(e=Dm.newId()),vw("doc","path",e),r instanceof eg){const a=lt.fromString(e,...i);return yv(a),new It(r,null,new ge(a))}{if(!(r instanceof It||r instanceof Vl))throw new ce(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(lt.fromString(e,...i));return yv(a),new It(r.firestore,r instanceof Vl?r.converter:null,new ge(a))}}const s0="AsyncQueue";class r0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new iT(this,"async_queue_retry"),this._c=()=>{const a=Hd();a&&ae(s0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Hd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Hd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new er;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!lo(e))throw e;ae(s0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,as("INTERNAL UNHANDLED ERROR: ",a0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=Xm.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&ve(47125,{Pc:a0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function a0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function o0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class no extends eg{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new r0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new r0(e),this._firestoreClient=void 0,await e}}}function oI(r,e){const i=typeof r=="object"?r:b0(),a=typeof r=="string"?r:Kc,l=Tm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=VS("firestore");c&&aI(l,...c)}return l}function tg(r){if(r._terminated)throw new ce(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||lI(r),r._firestoreClient}function lI(r){const e=r._freezeSettings(),i=(function(l,c,d,g){return new Ow(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,bT(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new nI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(Qt.fromBase64String(e))}catch(i){throw new ce(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new zn(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Bl(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Ct("string",zn._jsonSchemaVersion),bytes:Ct("string")};class bh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ce(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class wh{constructor(e){this._methodName=e}}class Oi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ce(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ce(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(e){if(Bl(e,Oi._jsonSchema))return new Oi(e.latitude,e.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:Ct("string",Oi._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};class Mi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Bl(e,Mi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Mi(e.vectorValues);throw new ce(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mi._jsonSchemaVersion="firestore/vectorValue/1.0",Mi._jsonSchema={type:Ct("string",Mi._jsonSchemaVersion),vectorValues:Ct("object")};const uI=/^__.*__$/;class cI{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new cr(e,this.data,this.fieldMask,i,this.fieldTransforms):new ql(e,this.data,i,this.fieldTransforms)}}class RT{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new cr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function CT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:r})}}class Rh{constructor(e,i,a,l,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Rh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ih(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(CT(this.Ac)&&uI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class hI{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Eh(e)}Cc(e,i,a,l=!1){return new Rh({Ac:e,methodName:i,Dc:a,path:Ft.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function IT(r){const e=r._freezeSettings(),i=Eh(r._databaseId);return new hI(r._databaseId,!!e.ignoreUndefinedProperties,i)}function fI(r,e,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,e,i,l);ig("Data must be an object, but it was:",d,a);const g=NT(a,d);let _,p;if(c.merge)_=new wn(d.fieldMask),p=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const A of c.mergeFields){const D=_m(e,A,i);if(!d.contains(D))throw new ce(J.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);OT(S,D)||S.push(D)}_=new wn(S),p=d.fieldTransforms.filter((A=>_.covers(A.field)))}else _=null,p=d.fieldTransforms;return new cI(new dn(g),_,p)}class Ch extends wh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ch}}function dI(r,e,i){return new Rh({Ac:3,Dc:e.settings.Dc,methodName:r._methodName,fc:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ng extends wh{constructor(e,i){super(e),this.vc=i}_toFieldTransform(e){const i=dI(this,e,!0),a=this.vc.map((c=>Ql(c,i))),l=new Wa(a);return new sR(e.path,l)}isEqual(e){return e instanceof ng&&tr(this.vc,e.vc)}}function mI(r,e,i,a){const l=r.Cc(1,e,i);ig("Data must be an object, but it was:",l,a);const c=[],d=dn.empty();ur(a,((_,p)=>{const S=sg(e,_,i);p=tn(p);const A=l.yc(S);if(p instanceof Ch)c.push(S);else{const D=Ql(p,A);D!=null&&(c.push(S),d.set(S,D))}}));const g=new wn(c);return new RT(d,g,l.fieldTransforms)}function gI(r,e,i,a,l,c){const d=r.Cc(1,e,i),g=[_m(e,a,i)],_=[l];if(c.length%2!=0)throw new ce(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<c.length;D+=2)g.push(_m(e,c[D])),_.push(c[D+1]);const p=[],S=dn.empty();for(let D=g.length-1;D>=0;--D)if(!OT(p,g[D])){const q=g[D];let Z=_[D];Z=tn(Z);const W=d.yc(q);if(Z instanceof Ch)p.push(q);else{const $=Ql(Z,W);$!=null&&(p.push(q),S.set(q,$))}}const A=new wn(p);return new RT(S,A,d.fieldTransforms)}function Ql(r,e){if(DT(r=tn(r)))return ig("Unsupported field value:",e,r),NT(r,e);if(r instanceof wh)return(function(a,l){if(!CT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const g of a){let _=Ql(g,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,e)}return(function(a,l){if((a=tn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return tR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=rt.fromDate(a);return{timestampValue:Wc(l.serializer,c)}}if(a instanceof rt){const c=new rt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Wc(l.serializer,c)}}if(a instanceof Oi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof zn)return{bytesValue:QE(l.serializer,a._byteString)};if(a instanceof It){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:jm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Mi)return(function(d,g){return{mapValue:{fields:{[TE]:{stringValue:SE},[Yc]:{arrayValue:{values:d.toArray().map((p=>{if(typeof p!="number")throw g.Sc("VectorValues must only contain numeric values.");return Lm(g.serializer,p)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Om(a)}`)})(r,e)}function NT(r,e){const i={};return gE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ur(r,((a,l)=>{const c=Ql(l,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function DT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof rt||r instanceof Oi||r instanceof zn||r instanceof It||r instanceof wh||r instanceof Mi)}function ig(r,e,i){if(!DT(i)||!dE(i)){const a=Om(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function _m(r,e,i){if((e=tn(e))instanceof bh)return e._internalPath;if(typeof e=="string")return sg(r,e);throw ih("Field path arguments must be of type string or ",r,!1,void 0,i)}const pI=new RegExp("[~\\*/\\[\\]]");function sg(r,e,i){if(e.search(pI)>=0)throw ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new bh(...e.split("."))._internalPath}catch{throw ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function ih(r,e,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new ce(J.INVALID_ARGUMENT,g+r+_)}function OT(r,e){return r.some((i=>i.isEqual(e)))}class MT{constructor(e,i,a,l,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(xT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class yI extends MT{data(){return super.data()}}function xT(r,e){return typeof e=="string"?sg(r,e):e instanceof bh?e._internalPath:e._delegate._internalPath}function _I(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ce(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vI{convertValue(e,i="none"){switch(ar(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(rr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return ur(e,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[Yc].arrayValue?.values?.map((a=>pt(a.doubleValue)));return new Mi(i)}convertGeoPoint(e){return new Oi(pt(e.latitude),pt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=fh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Dl(e));default:return null}}convertTimestamp(e){const i=sr(e);return new rt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=lt.fromString(e);Ke($E(a),9688,{name:e});const l=new Ol(a.get(1),a.get(3)),c=new ge(a.popFirst(5));return l.isEqual(i)||as(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function EI(r,e,i){let a;return a=r?r.toFirestore(e):e,a}class El{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hr extends MT{constructor(e,i,a,l,c,d){super(e,i,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Lc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(xT("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Hr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Hr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hr._jsonSchema={type:Ct("string",Hr._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class Lc extends Hr{data(e={}){return super.data(e)}}class Ka{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new El(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Lc(this._firestore,this._userDataWriter,a.key,a,new El(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ce(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const _=new Lc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new El(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new Lc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new El(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let p=-1,S=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),S=d.indexOf(g.doc.key)),{type:TI(g.type),doc:_,oldIndex:p,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ka._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Dm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function TI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:r})}}function SI(r){r=Ci(r,It);const e=Ci(r.firestore,no);return rI(tg(e),r._key).then((i=>UT(e,r,i)))}Ka._jsonSchemaVersion="firestore/querySnapshot/1.0",Ka._jsonSchema={type:Ct("string",Ka._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class VT extends vI{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,i)}}function AI(r,e,i){r=Ci(r,It);const a=Ci(r.firestore,no),l=EI(r.converter,e);return kT(a,[fI(IT(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,Ni.none())])}function Hs(r,e,i,...a){r=Ci(r,It);const l=Ci(r.firestore,no),c=IT(l);let d;return d=typeof(e=tn(e))=="string"||e instanceof bh?gI(c,"updateDoc",r._key,e,i,a):mI(c,"updateDoc",r._key,e),kT(l,[d.toMutation(r._key,Ni.exists(!0))])}function bI(r,...e){r=tn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||o0(e[a])||(i=e[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(o0(e[a])){const _=e[a];e[a]=_.next?.bind(_),e[a+1]=_.error?.bind(_),e[a+2]=_.complete?.bind(_)}let c,d,g;if(r instanceof It)d=Ci(r.firestore,no),g=mh(r._key.path),c={next:_=>{e[a]&&e[a](UT(d,r,_))},error:e[a+1],complete:e[a+2]};else{const _=Ci(r,Ah);d=Ci(_.firestore,no),g=_._query;const p=new VT(d);c={next:S=>{e[a]&&e[a](new Ka(d,p,_,S))},error:e[a+1],complete:e[a+2]},_I(r._query)}return(function(p,S,A,D){const q=new ST(D),Z=new dT(S,q,A);return p.asyncQueue.enqueueAndForget((async()=>hT(await ym(p),Z))),()=>{q.Nu(),p.asyncQueue.enqueueAndForget((async()=>fT(await ym(p),Z)))}})(tg(d),g,l,c)}function kT(r,e){return(function(a,l){const c=new er;return a.asyncQueue.enqueueAndForget((async()=>KC(await sI(a),l,c))),c.promise})(tg(r),e)}function UT(r,e,i){const a=i.docs.get(e._key),l=new VT(r);return new Hr(r,l,e._key,a,new El(i.hasPendingWrites,i.fromCache),e.converter)}function wI(...r){return new ng("arrayUnion",r)}(function(e,i=!0){(function(l){ao=l})(so),Ya(new Gr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new no(new hw(a.getProvider("auth-internal")),new mw(d,a.getProvider("app-check-internal")),(function(p,S){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ce(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ol(p.options.projectId,S)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Js(dv,mv,e),Js(dv,mv,"esm2020")})();var RI="firebase",CI="12.6.0";Js(RI,CI,"app");const II={apiKey:"AIzaSyBs1k1qzkGoP2lZdbtipk9KnkWxCX2m89o",authDomain:"christmas-9144f.firebaseapp.com",projectId:"christmas-9144f",storageBucket:"christmas-9144f.firebasestorage.app",messagingSenderId:"373008360050",appId:"1:373008360050:web:92cadd7265dd9c272898eb"},LT=A0(II),Ai=oI(LT),l0=ow(LT),u0={Normal:["Playa","Hospital","Escuela","Supermercado","Avin","Banco","Cine","Zoolgico","Hotel","Biblioteca","Gimnasio","Restaurante","Circo","Estadio","Museo","Parque de Atracciones","Cementerio","Crcel","Iglesia","Discoteca","Farmacia","Aeropuerto","Estacin de Tren","Peluquera","Sauna","Casino","Bolera","Piscina","Castillo","Granja","Oficina","Laboratorio","Fbrica","Puerto","Teatro","Universidad","Gasolinera","Centro Comercial","Pizza","Sushi","Hamburguesa","Paella","Tacos","Helado","Ensalada","Chocolate","Pasta","Curry","Barbacoa","Ceviche","Tortilla de Patatas","Cruasn","Donut","Caf","Cerveza","Vino","Queso","Jamn","Kebab","Ramen","Bocadillo","Mariscada","Sopa","Churros","Gazpacho","Lasaa","Empanada","Tarta de Queso","Fruta","Verdura","Telfono Mvil","Ordenador","Coche","Bicicleta","Guitarra","Piano","Cama","Sof","Televisin","Reloj","Espejo","Cmara de Fotos","Libro","Zapatos","Gafas de Sol","Maleta","Paraguas","Llaves","Cartera","Anillo","Collar","Microondas","Lavadora","Nevera","Sartn","Cuchillo","Tenedor","Vaso","Botella","Mochila","Lpiz","Perro","Gato","Len","Elefante","Tiburn","guila","Serpiente","Araa","Caballo","Vaca","Cerdo","Gallina","Pingino","Delfn","Ballena","Oso","Lobo","Zorro","Conejo","Ratn","Tigre","Jirafa","Mono","Gorila","Canguro","Cocodrilo","Mdico","Polica","Bombero","Profesor","Cocinero","Camarero","Piloto","Astronauta","Futbolista","Cantante","Actor","Pintor","Escritor","Juez","Abogado","Mecnico","Electricista","Fontanero","Carpintero","Jardinero","Veterinario","Enfermero","Montaa","Ro","Bosque","Desierto","Volcn","Cueva","Isla","Selva","Cascada","Lluvia","Nieve","Sol","Tormenta","Arcoris","Luna","Estrellas","Nube","Viento"],"Cine y Series":["El Padrino","Titanic","Avatar","Matrix","Pulp Fiction","Forrest Gump","Gladiator","Jurassic Park","Tiburn","E.T.","Regreso al Futuro","Indiana Jones","Rocky","Terminator","Alien","El Resplandor","Psicosis","El Club de la Lucha","Origen","Interstellar","El Seor de los Anillos","Harry Potter","Star Wars","Los Vengadores","Spider-Man","Batman: El Caballero Oscuro","Superman","Wonder Woman","Deadpool","Joker","Piratas del Caribe","Misin Imposible","Top Gun","James Bond","Fast & Furious","Los Juegos del Hambre","Crepsculo","Shrek","Toy Story","El Rey Len","Buscando a Nemo","Frozen","Coco","Del Revs","Los Increbles","Monstruos S.A.","Up","Wall-E","La La Land","Bohemian Rhapsody","Barbie","Oppenheimer","Dune","Juego de Tronos","Breaking Bad","Friends","The Office","Stranger Things","Los Simpson","Padre de Familia","Futurama","Rick y Morty","South Park","Black Mirror","The Crown","The Mandalorian","The Last of Us","The Witcher","Vikingos","Peaky Blinders","Sherlock","Downton Abbey","Anatoma de Grey","House","The Good Doctor","Lost (Perdidos)","Prison Break","The Walking Dead","Expediente X","Cmo conoc a vuestra madre","Big Bang Theory","Modern Family","Gossip Girl","Las Chicas Gilmore","Sexo en Nueva York","Los Soprano","The Wire","Mad Men","Narcos","El Juego del Calamar","Dark","Bridgerton","Euphoria","Succession","Ted Lasso","The Boys","Invencible","La Casa de Papel","lite","Vis a Vis","Paquita Salas","Aqu no hay quien viva","La que se avecina","Los Serrano","Ada","Cuntame cmo pas","El Ministerio del Tiempo","Fsica o Qumica","El Internado","Gran Hotel","Velvet","Isabel","Merl","Ocho Apellidos Vascos","Torrente","El Laberinto del Fauno","Todo sobre mi madre","Volver","Tesis","Los Otros","Lo Imposible","La Sociedad de la Nieve","Campeones","Dragon Ball","One Piece","Naruto","Attack on Titan","Death Note","Pokmon","Digimon","Sailor Moon","Evangelion","Fullmetal Alchemist","Demon Slayer","Jujutsu Kaisen","My Hero Academia","Oliver y Benji","Doraemon","Shin Chan","El Viaje de Chihiro","Mi Vecino Totoro","La Princesa Mononoke","Akira"],Friki:["Estrella de la Muerte","Hogwarts","Mordor","Tatooine","Invernalia","La Comarca","Gotham City","Krypton","Narnia","Hyrule","Reino Champin","USS Enterprise","Asgard","Wakanda","Metrpolis","Atlantis","El Muro","Desembarco del Rey","Pandora","Parque Jursico","Silent Hill","Raccoon City","Azeroth","La Grieta del Invocador","Fondo de Bikini","Springfield","La Batcueva","Fortaleza de la Soledad","San Andreas","Vice City","Pueblo Paleta","Castillo de Peach","Estacin 9 ","Callejn Diagon","Sable de Luz","Anillo nico","Varita de Saco","Trifuerza","Pokball","Delorean","TARDIS","Capa de Invisibilidad","Piedra Filosofal","Gema del Infinito","Mjolnir","Escudo del Capitn Amrica","Batmovil","Libro de los Muertos","Necronomicn","Esferas del Dragn","Fruta del Diablo","Ocarina del Tiempo","Espada Maestra","Cubo de Rubik","D20 (Dado de 20)","Carta de Magic","Phaser","Condensador de Fluzo","Hoverboard","Neuralizador","Portal Gun","Pip-Boy","Batarang","Kamehameha","Jedi","Sith","Hobbit","Elfo","Orco","Mago","Zombi","Vampiro","Hombre Lobo","Super Saiyan","Pokemon","Entrenador Pokmon","Avenger","Liga de la Justicia","Stormtrooper","Caminante Blanco","Dalek","Cylon","Terminator","Predator","Alien","Gamer","Otaku","Cosplayer","Dungeon Master","Noob","Campero","Lag","NPC","Boss Final","Easter Egg","Spoiler","Fanfic","Hacker","Cyborg","Androide","Kaiju","Mecha","Titan","Mutante","X-Men","Inhumano","Eterno","Mario Bros","Sonic","Zelda","Minecraft","Fortnite","League of Legends","World of Warcraft","Call of Duty","GTA","FIFA","Tetris","Pac-Man","Street Fighter","Mortal Kombat","Final Fantasy","God of War","The Witcher","Halo","Doom","Metal Gear","Resident Evil","Among Us","Clash Royale","Roblox","Cyberpunk","Elden Ring","Dark Souls"],Anime:["Goku","Vegeta","Bola de Dragn","Kamehameha","Super Saiyan","Nube Kinton","Semilla Senzu","Radar Dragn","Freezer","Cell","Majin Buu","Torneo de Artes Marciales","Planeta Namek","Capsule Corp","Ki","Onda Vital","Maestro Roshi","Krillin","Luffy","Zoro","Sombrero de Paja","Fruta del Diablo","Haki","Grand Line","Thousand Sunny","Going Merry","Marina","Pirata","Recompensa","Tesoro","Chopper","Sanji","Nami","Isla del Tesoro","Yonko","Almirante","Akuma no Mi","Naruto","Sasuke","Sakura","Kakashi","Konoha (Aldea Oculta)","Hokage","Chakra","Sharingan","Rasengan","Chidori","Kunai","Shuriken","Akatsuki","Exmenes Chuunin","Zorro de Nueve Colas","Ramen de Ichiraku","Byakugan","Ninja","Death Note","Cuaderno de Muerte","Kira","L","Ryuk","Shinigami","Manzana","Ojos de Shinigami","Misa Amane","Detectives","Reglas del Cuaderno","Corazn","Edward Elric","Alphonse","Alquimia","Piedra Filosofal","Transmutacin","Automail","Homnculo","Roy Mustang","Intercambio Equivalente","Quimera","Ejrcito","Eren Jaeger","Mikasa","Levi Ackerman","Titn","Titn Colosal","Muralla Mara","Equipo de Maniobras","Legin de Reconocimiento","Stano","Coordenada","Isla Paradis","Tanjiro","Nezuko","Zenitsu","Inosuke","Espada Nichirin","Respiracin del Agua","Pilar (Hashira)","Muzan","Demonio (Oni)","Cazadores de Demonios","Finca Mariposa","Itadori Yuji","Gojo Satoru","Sukuna","Dedos de Sukuna","Energa Maldita","Expansin de Dominio","Hechicero","Maldicin","Instituto de Hechicera","Pikachu","Charizard","Pokball","Pokedex","Entrenador Pokmon","Gimnasio Pokmon","Team Rocket","Agumon","Digivice","Mundo Digital","Evolucin","Medalla de Gimnasio","Ichigo Kurosaki","Rukia","Zanpakuto (Espada)","Bankai","Soul Society","Hollow","Mscara","Capitn","Hueco Mundo","Shinigami Sustituto","Deku (Midoriya)","Bakugo","All Might","Plus Ultra","Quirk (Don)","Academia U.A.","Liga de Villanos","Hroe Profesional","One For All","Shigaraki","Evangelion (Robot)","Shinji Ikari","NERV","ngel","Lanza de Longinus","Sailor Moon","Tiara Lunar","Guerrero Luna","Caballero del Zodiaco","Armadura de Oro","Pegaso","Cosmos","Oliver Atom","Baln de Ftbol","Catapulta Infernal","Doraemon","Bolsillo Mgico","Puerta Mgica","Gorrocptero","Novita","Senku (Dr. Stone)","Reino de la Ciencia","Petrificacin","cido Ntrico","Saitama (One Punch Man)","Asociacin de Hroes","Cyborg","Puetazo Serio","Lupin III","Detective Conan","Misterio","Drogas de encogimiento","Totoro","Gatobs","Sin Cara (Chihiro)","Castillo Ambulante","Espritu del Bosque","Inuyasha","Perla de Shikon","Pozo Devorador de Huesos","Espada Colmillo","Ranma 1/2","Agua Fra/Caliente","Panda","Dojo Tendo","Cowboy Bebop","Nave Bebop","Cazarrecompensas","Espacio","Tokyo Ghoul","Kagune","Ghoul","Mscara de Parche","Cafetera Anteiku","Chainsaw Man","Pochita","Motosierra","Demonio Pistola","Seguridad Pblica"]};var Fd={exports:{}},Qd={};var c0;function NI(){if(c0)return Qd;c0=1;var r=sh().__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;return Qd.c=function(e){return r.H.useMemoCache(e)},Qd}var h0;function DI(){return h0||(h0=1,Fd.exports=NI()),Fd.exports}var Zr=DI();const OI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),f0=r=>{const e=MI(r);return e.charAt(0).toUpperCase()+e.slice(1)},PT=(...r)=>r.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),xI=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var VI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const kI=Ht.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...g},_)=>Ht.createElement("svg",{ref:_,...VI,width:e,height:e,stroke:r,strokeWidth:a?Number(i)*24/Number(e):i,className:PT("lucide",l),...!c&&!xI(g)&&{"aria-hidden":"true"},...g},[...d.map(([p,S])=>Ht.createElement(p,S)),...Array.isArray(c)?c:[c]]));const ki=(r,e)=>{const i=Ht.forwardRef(({className:a,...l},c)=>Ht.createElement(kI,{ref:c,iconNode:e,className:PT(`lucide-${OI(f0(r))}`,`lucide-${r}`,a),...l}));return i.displayName=f0(r),i};const UI=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],rg=ki("crown",UI);const LI=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],ag=ki("fingerprint-pattern",LI);const PI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],zI=ki("log-out",PI);const jI=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],BI=ki("message-circle",jI);const qI=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],HI=ki("play",qI);const GI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],FI=ki("rotate-ccw",GI);const QI=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],KI=ki("shuffle",QI);const YI=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],kl=ki("skull",YI);const XI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],zT=ki("user",XI);const ZI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],og=ki("users",ZI),JI=r=>{const e=Zr.c(10),{gameCode:i,onExit:a}=r;let l,c;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=L.jsx("div",{className:"bg-emerald-500/20 p-2 rounded-lg",children:L.jsx(ag,{className:"text-emerald-400",size:24})}),c=L.jsx("h2",{className:"font-bold text-white leading-tight",children:"IMPOSTOR"}),e[0]=l,e[1]=c):(l=e[0],c=e[1]);let d;e[2]!==i?(d=L.jsxs("div",{className:"flex items-center gap-2",children:[l,L.jsxs("div",{children:[c,L.jsxs("p",{className:"text-xs text-slate-400",children:["Cdigo: ",L.jsx("span",{className:"text-emerald-400 font-mono text-lg",children:i})]})]})]}),e[2]=i,e[3]=d):d=e[3];let g;e[4]===Symbol.for("react.memo_cache_sentinel")?(g=L.jsx(zI,{size:20}),e[4]=g):g=e[4];let _;e[5]!==a?(_=L.jsx("button",{onClick:a,className:"text-slate-400 hover:text-white transition-colors",children:g}),e[5]=a,e[6]=_):_=e[6];let p;return e[7]!==d||e[8]!==_?(p=L.jsxs("header",{className:"bg-slate-800 p-4 flex justify-between items-center shadow-md border-b border-slate-700",children:[d,_]}),e[7]=d,e[8]=_,e[9]=p):p=e[9],p},$I=r=>{const e=Zr.c(64),{playerName:i,setPlayerName:a,joinGame:l,createGame:c,numImpostors:d,setNumImpostors:g,dictionary:_,setDictionary:p,loading:S,error:A,dictionaries:D}=r;let q;e[0]!==i?(q=i&&i.trim().length>0,e[0]=i,e[1]=q):q=e[1];const Z=q;let W;e[2]!==l?(W=sn=>{const gn=sn.target.value.toUpperCase();gn.length===4&&l(gn)},e[2]=l,e[3]=W):W=e[3];const $=W;let le;e[4]===Symbol.for("react.memo_cache_sentinel")?(le=L.jsxs("div",{className:"text-center",children:[L.jsx("div",{className:"flex justify-center mb-4",children:L.jsx(ag,{size:64,className:"text-emerald-400"})}),L.jsx("h1",{className:"text-4xl font-bold tracking-wider text-emerald-400",children:"IMPOSTOR"}),L.jsx("p",{className:"mt-2 text-slate-400",children:"Encuentra al espa antes de que sea tarde."})]}),e[4]=le):le=e[4];let de;e[5]===Symbol.for("react.memo_cache_sentinel")?(de=L.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Tu Nombre"}),e[5]=de):de=e[5];let re;e[6]!==a?(re=sn=>a(sn.target.value),e[6]=a,e[7]=re):re=e[7];let De;e[8]!==i||e[9]!==re?(De=L.jsxs("div",{children:[de,L.jsx("input",{type:"text",value:i,onChange:re,className:"w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-lg focus:ring-2 focus:ring-emerald-500 text-white outline-none transition placeholder-slate-500",placeholder:"Ej. Capitn Alex"})]}),e[8]=i,e[9]=re,e[10]=De):De=e[10];const je=`text-lg font-semibold mb-3 transition-colors ${Z?"text-white":"text-slate-600"}`;let we;e[11]!==je?(we=L.jsx("h3",{className:je,children:"Unirse a Partida"}),e[11]=je,e[12]=we):we=e[12];const I=!Z,w=`flex-1 px-4 py-3 bg-slate-700 border border-slate-600 rounded-lg uppercase outline-none transition ${Z?"text-white placeholder-slate-500 focus:border-emerald-500":"opacity-50 cursor-not-allowed placeholder-slate-600"}`,R=Z?"CDIGO (4 LETRAS)":"PON TU NOMBRE PRIMERO";let x;e[13]!==$||e[14]!==w||e[15]!==R||e[16]!==I?(x=L.jsx("div",{className:"flex gap-2",children:L.jsx("input",{type:"text",disabled:I,onChange:$,className:w,placeholder:R,maxLength:4})}),e[13]=$,e[14]=w,e[15]=R,e[16]=I,e[17]=x):x=e[17];let O;e[18]!==x||e[19]!==we?(O=L.jsxs("div",{className:"pt-4 border-t border-slate-700",children:[we,x]}),e[18]=x,e[19]=we,e[20]=O):O=e[20];const V=`text-lg font-semibold mb-3 transition-colors ${Z?"text-white":"text-slate-600"}`;let b;e[21]!==V?(b=L.jsx("h3",{className:V,children:"Crear Partida (Host)"}),e[21]=V,e[22]=b):b=e[22];const he=`grid grid-cols-2 gap-4 mb-4 transition-opacity ${Z?"opacity-100":"opacity-50 pointer-events-none"}`;let me;e[23]===Symbol.for("react.memo_cache_sentinel")?(me=L.jsx("label",{className:"text-xs text-slate-400",children:"Impostores"}),e[23]=me):me=e[23];let j;e[24]!==g?(j=sn=>g(parseInt(sn.target.value)),e[24]=g,e[25]=j):j=e[25];const ee=!Z;let ie;e[26]!==d||e[27]!==j||e[28]!==ee?(ie=L.jsxs("div",{children:[me,L.jsx("input",{type:"number",min:"1",max:"3",value:d,onChange:j,className:"w-full mt-1 px-3 py-2 bg-slate-700 rounded text-white border border-slate-600 focus:border-emerald-500 outline-none",disabled:ee})]}),e[26]=d,e[27]=j,e[28]=ee,e[29]=ie):ie=e[29];let _e;e[30]===Symbol.for("react.memo_cache_sentinel")?(_e=L.jsx("label",{className:"text-xs text-slate-400",children:"Diccionario"}),e[30]=_e):_e=e[30];let Oe;e[31]!==p?(Oe=sn=>p(sn.target.value),e[31]=p,e[32]=Oe):Oe=e[32];const N=!Z;let Q;e[33]!==D?(Q=Object.keys(D).map(WI),e[33]=D,e[34]=Q):Q=e[34];let te;e[35]!==_||e[36]!==Oe||e[37]!==N||e[38]!==Q?(te=L.jsxs("div",{children:[_e,L.jsx("select",{value:_,onChange:Oe,className:"w-full mt-1 px-3 py-2 bg-slate-700 rounded text-white border border-slate-600 focus:border-emerald-500 outline-none",disabled:N,children:Q})]}),e[35]=_,e[36]=Oe,e[37]=N,e[38]=Q,e[39]=te):te=e[39];let se;e[40]!==he||e[41]!==ie||e[42]!==te?(se=L.jsxs("div",{className:he,children:[ie,te]}),e[40]=he,e[41]=ie,e[42]=te,e[43]=se):se=e[43];const ye=!Z||S,Te=`w-full py-3 rounded-lg font-bold transition flex items-center justify-center gap-2 ${!Z||S?"bg-slate-700 text-slate-500 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-500 text-white shadow-lg"}`;let Ie;e[44]!==S?(Ie=S?"Creando...":L.jsxs(L.Fragment,{children:[L.jsx(rg,{size:20})," Crear Nueva Partida"]}),e[44]=S,e[45]=Ie):Ie=e[45];let nt;e[46]!==c||e[47]!==ye||e[48]!==Te||e[49]!==Ie?(nt=L.jsx("button",{onClick:c,disabled:ye,className:Te,children:Ie}),e[46]=c,e[47]=ye,e[48]=Te,e[49]=Ie,e[50]=nt):nt=e[50];let Ge;e[51]!==b||e[52]!==se||e[53]!==nt?(Ge=L.jsxs("div",{className:"pt-4 border-t border-slate-700",children:[b,se,nt]}),e[51]=b,e[52]=se,e[53]=nt,e[54]=Ge):Ge=e[54];let nn;e[55]!==O||e[56]!==Ge?(nn=L.jsxs("div",{className:"space-y-4",children:[O,Ge]}),e[55]=O,e[56]=Ge,e[57]=nn):nn=e[57];let mn;e[58]!==A?(mn=A&&L.jsx("p",{className:"text-red-400 text-center text-sm bg-red-900/20 p-2 rounded animate-pulse",children:A}),e[58]=A,e[59]=mn):mn=e[59];let jn;return e[60]!==nn||e[61]!==mn||e[62]!==De?(jn=L.jsx("div",{className:"min-h-screen bg-slate-900 text-white flex flex-col items-center justify-center p-4",children:L.jsxs("div",{className:"max-w-md w-full space-y-8",children:[le,L.jsxs("div",{className:"bg-slate-800 p-6 rounded-2xl shadow-xl space-y-6 border border-slate-700",children:[De,nn,mn]})]})}),e[60]=nn,e[61]=mn,e[62]=De,e[63]=jn):jn=e[63],jn};function WI(r){return L.jsx("option",{value:r,children:r},r)}const eN=r=>{const e=Zr.c(22),{gameState:i,startGame:a,isHost:l}=r;let c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=L.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Sala de Espera"}),e[0]=c):c=e[0];let d;e[1]!==i.players.length?(d=L.jsxs("p",{className:"text-slate-400",children:["Esperando jugadores... (",i.players.length,")"]}),e[1]=i.players.length,e[2]=d):d=e[2];let g;e[3]!==l?(g=l&&L.jsx("p",{className:"text-sm text-emerald-400 mt-2",children:"T eres el Host. Inicia cuando estis todos."}),e[3]=l,e[4]=g):g=e[4];let _;e[5]!==d||e[6]!==g?(_=L.jsxs("div",{className:"text-center mb-8",children:[c,d,g]}),e[5]=d,e[6]=g,e[7]=_):_=e[7];let p;if(e[8]!==i.hostId||e[9]!==i.players){let q;e[11]!==i.hostId?(q=Z=>L.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl flex flex-col items-center border border-slate-700 relative",children:[L.jsx("div",{className:"w-12 h-12 bg-slate-700 rounded-full flex items-center justify-center mb-2",children:L.jsx(zT,{size:24,className:"text-slate-400"})}),L.jsx("span",{className:"font-medium truncate w-full text-center",children:Z.name}),Z.id===i.hostId&&L.jsx("span",{className:"absolute top-2 right-2 text-yellow-500",children:L.jsx(rg,{size:14})})]},Z.id),e[11]=i.hostId,e[12]=q):q=e[12],p=i.players.map(q),e[8]=i.hostId,e[9]=i.players,e[10]=p}else p=e[10];let S;e[13]!==p?(S=L.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 w-full mb-8",children:p}),e[13]=p,e[14]=S):S=e[14];let A;e[15]!==l||e[16]!==a?(A=l?L.jsxs("button",{onClick:a,className:"w-full py-4 bg-emerald-600 hover:bg-emerald-500 rounded-xl font-bold text-lg shadow-lg shadow-emerald-900/50 flex items-center justify-center gap-2 transition transform active:scale-95",children:[L.jsx(HI,{size:24})," COMENZAR PARTIDA"]}):L.jsx("div",{className:"animate-pulse text-slate-500 bg-slate-800/50 px-6 py-3 rounded-full border border-slate-700",children:"El anfitrin iniciar la partida pronto..."}),e[15]=l,e[16]=a,e[17]=A):A=e[17];let D;return e[18]!==_||e[19]!==S||e[20]!==A?(D=L.jsxs("main",{className:"flex-1 p-6 flex flex-col items-center max-w-2xl mx-auto w-full",children:[_,S,A]}),e[18]=_,e[19]=S,e[20]=A,e[21]=D):D=e[21],D},tN=r=>{const e=Zr.c(10),{gameState:i,myPlayer:a,isHost:l,startDebate:c}=r;let d;e[0]!==i||e[1]!==a.isDead||e[2]!==a.isImpostor?(d=a.isDead?L.jsxs("div",{className:"w-full aspect-[3/4] bg-slate-800 rounded-3xl p-8 flex flex-col items-center justify-center text-center opacity-70 border border-slate-700",children:[L.jsx(kl,{size:48,className:"text-slate-500 mb-4"}),L.jsx("h2",{className:"text-2xl font-bold text-slate-400",children:"ESTS MUERTO"}),L.jsx("p",{className:"text-slate-500",children:"Espera a que termine la ronda."})]}):L.jsxs("div",{className:`w-full aspect-[3/4] rounded-3xl p-8 flex flex-col items-center justify-center text-center shadow-2xl transition-all duration-500 ${a.isImpostor?"bg-gradient-to-br from-red-900 to-slate-900 border-2 border-red-500/50":"bg-gradient-to-br from-emerald-900 to-slate-900 border-2 border-emerald-500/50"}`,children:[L.jsx("div",{className:"mb-6",children:a.isImpostor?L.jsx(kl,{size:64,className:"text-red-500"}):L.jsx(ag,{size:64,className:"text-emerald-500"})}),L.jsx("h3",{className:"text-xl text-slate-300 uppercase tracking-widest mb-2",children:"Tu palabra"}),a.isImpostor?L.jsxs(L.Fragment,{children:[L.jsx("h1",{className:"text-4xl font-black text-red-500 mb-4",children:"IMPOSTOR"}),L.jsx("p",{className:"text-slate-400",children:"No conoces la palabra secreta."}),L.jsx("p",{className:"text-slate-400 mt-2 text-sm",children:"Finge. Miente. Sobrevive."})]}):L.jsxs(L.Fragment,{children:[L.jsx("h1",{className:"text-4xl font-black text-emerald-400 mb-4",children:i.currentWord}),L.jsx("p",{className:"text-slate-400",children:"Eres un Civil."}),L.jsx("p",{className:"text-slate-400 mt-2 text-sm",children:"Encuentra al impostor que no sabe esta palabra."})]})]}),e[0]=i,e[1]=a.isDead,e[2]=a.isImpostor,e[3]=d):d=e[3];let g;e[4]!==l||e[5]!==c?(g=l&&L.jsxs("div",{className:"mt-8 w-full",children:[L.jsxs("button",{onClick:c,className:"w-full py-4 bg-sky-600 hover:bg-sky-500 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 transition",children:[L.jsx(og,{size:24})," EMPEZAR DEBATE"]}),L.jsx("p",{className:"text-center text-xs text-slate-500 mt-2",children:"Pulsa para ocultar roles y empezar a discutir."})]}),e[4]=l,e[5]=c,e[6]=g):g=e[6];let _;return e[7]!==d||e[8]!==g?(_=L.jsxs("main",{className:"flex-1 p-6 flex flex-col items-center justify-center max-w-md mx-auto w-full",children:[d,g]}),e[7]=d,e[8]=g,e[9]=_):_=e[9],_},nN=r=>{const e=Zr.c(28),{gameState:i,user:a,myPlayer:l,isHost:c,castVote:d,endVoting:g}=r,_=!l.isDead&&!l.hasVoted;let p,S;e[0]===Symbol.for("react.memo_cache_sentinel")?(p=L.jsx("h2",{className:"text-2xl font-bold text-center mb-2 text-orange-500 animate-pulse",children:"VOTACIN!"}),S=L.jsx("p",{className:"text-center text-slate-400 mb-6",children:"Selecciona al sospechoso."}),e[0]=p,e[1]=S):(p=e[0],S=e[1]);let A;if(e[2]!==d||e[3]!==i.players||e[4]!==_||e[5]!==a){let de;e[7]!==d||e[8]!==_||e[9]!==a?(de=re=>{const De=re.id===a.uid,je=re.id!==a.uid&&!re.isDead;return L.jsxs("button",{disabled:!_||!je,onClick:()=>d(re.id),className:`p-4 rounded-xl border flex items-center justify-between transition-all ${re.isDead?"bg-slate-800/50 border-slate-700 opacity-50 cursor-not-allowed":De?"bg-slate-800 border-slate-600 cursor-default":_?"bg-slate-800 border-slate-600 hover:bg-orange-900/30 hover:border-orange-500 active:scale-95 cursor-pointer":"bg-slate-800 border-slate-700 cursor-default opacity-60"}`,children:[L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${re.isDead?"bg-slate-700":"bg-emerald-900 text-emerald-400"}`,children:re.isDead?L.jsx(kl,{size:20}):L.jsx(zT,{size:20})}),L.jsxs("div",{className:"text-left",children:[L.jsxs("div",{className:"font-bold",children:[re.name," ",De&&"(T)"]}),re.isDead&&L.jsx("div",{className:"text-xs text-red-400",children:"Eliminado"})]})]}),re.hasVoted&&!re.isDead&&L.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse",title:"Ya ha votado"})]},re.id)},e[7]=d,e[8]=_,e[9]=a,e[10]=de):de=e[10],A=i.players.map(de),e[2]=d,e[3]=i.players,e[4]=_,e[5]=a,e[6]=A}else A=e[6];let D;e[11]!==A?(D=L.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-8",children:A}),e[11]=A,e[12]=D):D=e[12];let q;e[13]!==_||e[14]!==l.isDead?(q=!_&&!l.isDead&&L.jsx("div",{className:"text-center bg-emerald-900/30 text-emerald-400 p-4 rounded-lg mb-4 border border-emerald-500/30",children:"Voto registrado! Esperando al resto..."}),e[13]=_,e[14]=l.isDead,e[15]=q):q=e[15];let Z;e[16]!==l.isDead?(Z=l.isDead&&L.jsx("div",{className:"text-center bg-red-900/30 text-red-400 p-4 rounded-lg mb-4 border border-red-500/30",children:"Los muertos no votan..."}),e[16]=l.isDead,e[17]=Z):Z=e[17];let W;e[18]!==g||e[19]!==c?(W=c&&L.jsxs("button",{onClick:g,className:"w-full py-4 bg-red-600 hover:bg-red-500 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 transition",children:[L.jsx(kl,{size:24})," FINALIZAR VOTACIN"]}),e[18]=g,e[19]=c,e[20]=W):W=e[20];let $;e[21]!==q||e[22]!==Z||e[23]!==W?($=L.jsxs("div",{className:"mt-auto",children:[q,Z,W]}),e[21]=q,e[22]=Z,e[23]=W,e[24]=$):$=e[24];let le;return e[25]!==D||e[26]!==$?(le=L.jsxs("main",{className:"flex-1 p-6 flex flex-col max-w-2xl mx-auto w-full",children:[p,S,D,$]}),e[25]=D,e[26]=$,e[27]=le):le=e[27],le},iN=r=>{const e=Zr.c(24),{gameState:i,isHost:a,backToLobby:l,nextRound:c}=r,d=i.lastEliminated,g=i.winner;let _,p,S;if(e[0]!==d||e[1]!==i.players||e[2]!==g){const Z=[...i.players].sort(sN);_="flex-1 p-6 flex flex-col items-center justify-center max-w-lg mx-auto w-full text-center";let W;e[6]!==d||e[7]!==g?(W=d?L.jsxs(L.Fragment,{children:[L.jsx("h2",{className:"text-2xl text-slate-300 mb-4",children:"El ms votado fue:"}),L.jsxs("div",{className:"bg-slate-800 p-8 rounded-3xl border border-slate-700 inline-block w-full shadow-xl",children:[L.jsx("div",{className:"text-3xl font-bold mb-2 text-white",children:d.name}),L.jsx("div",{className:`text-xl font-mono px-4 py-2 rounded-lg inline-block ${d.isImpostor?"bg-red-500/20 text-red-400":"bg-emerald-500/20 text-emerald-400"}`,children:d.isImpostor?"ERA IMPOSTOR":"ERA INOCENTE"})]})]}):!g&&L.jsx("div",{className:"bg-slate-800 p-6 rounded-2xl text-xl text-slate-400 border border-slate-700",children:"Empate. Nadie fue eliminado."}),e[6]=d,e[7]=g,e[8]=W):W=e[8],e[9]!==W?(p=L.jsx("div",{className:"mb-6 w-full",children:W}),e[9]=W,e[10]=p):p=e[10],S=g?L.jsxs("div",{className:"animate-bounce-in mb-8",children:[L.jsx("div",{className:"flex justify-center mb-4",children:L.jsx(rg,{size:80,className:`${g==="crew"?"text-emerald-400":"text-red-500"}`})}),L.jsx("h1",{className:"text-4xl font-black mb-2 uppercase text-white",children:g==="crew"?"Ganan los Civiles":"Ganan los Impostores"}),L.jsx("p",{className:"text-slate-400",children:"La partida ha terminado."})]}):L.jsxs("div",{className:"w-full animate-fade-in",children:[L.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 mb-6 border border-slate-700 w-full text-left",children:[L.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase mb-3 text-center",children:"Resultados de la votacin"}),L.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-2",children:Z.map(rN)})]}),L.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl mb-8 border border-slate-700",children:[L.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase mb-2",children:"Estado de la Misin"}),L.jsxs("div",{className:"flex justify-between items-center px-4",children:[L.jsxs("span",{className:"text-red-400 font-bold",children:["Impostores vivos: ",i.players.filter(aN).length]}),L.jsxs("span",{className:"text-emerald-400 font-bold",children:["Civiles vivos: ",i.players.filter(oN).length]})]})]})]}),e[0]=d,e[1]=i.players,e[2]=g,e[3]=_,e[4]=p,e[5]=S}else _=e[3],p=e[4],S=e[5];let A;e[11]!==l||e[12]!==a||e[13]!==c||e[14]!==g?(A=a&&L.jsx("div",{className:"w-full space-y-3",children:g?L.jsxs("button",{onClick:l,className:"w-full py-4 bg-emerald-600 hover:bg-emerald-500 rounded-xl font-bold text-white flex items-center justify-center gap-2 transition shadow-lg shadow-emerald-900/50",children:[L.jsx(FI,{size:20})," NUEVA PARTIDA"]}):L.jsxs("button",{onClick:c,className:"w-full py-4 bg-blue-600 hover:bg-blue-500 rounded-xl font-bold text-white flex items-center justify-center gap-2 transition shadow-lg shadow-blue-900/50",children:[L.jsx(KI,{size:20})," SIGUIENTE RONDA"]})}),e[11]=l,e[12]=a,e[13]=c,e[14]=g,e[15]=A):A=e[15];let D;e[16]!==a?(D=!a&&L.jsx("p",{className:"text-slate-500 animate-pulse mt-4",children:"Esperando al anfitrin..."}),e[16]=a,e[17]=D):D=e[17];let q;return e[18]!==_||e[19]!==p||e[20]!==S||e[21]!==A||e[22]!==D?(q=L.jsxs("main",{className:_,children:[p,S,A,D]}),e[18]=_,e[19]=p,e[20]=S,e[21]=A,e[22]=D,e[23]=q):q=e[23],q};function sN(r,e){return e.votes-r.votes}function rN(r){return r.votes>0&&L.jsxs("div",{className:"flex flex-col bg-slate-900/50 p-3 rounded-lg border border-slate-700/50",children:[L.jsxs("div",{className:"flex justify-between items-center mb-1",children:[L.jsx("span",{className:"font-bold text-slate-200",children:r.name}),L.jsxs("span",{className:"bg-slate-700 text-white text-xs px-2 py-1 rounded-full",children:[r.votes," votos"]})]}),L.jsxs("div",{className:"text-xs text-slate-500 flex flex-wrap gap-1",children:["Votado por:",r.voters&&r.voters.map((e,i)=>L.jsxs("span",{className:"text-orange-400/80",children:[e,i<r.voters.length-1?",":""]},i))]})]},r.id)}function aN(r){return r.isImpostor&&!r.isDead}function oN(r){return!r.isImpostor&&!r.isDead}const lN=r=>{const e=Zr.c(11),{gameState:i,isHost:a,startVoting:l}=r;let c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=L.jsxs("div",{className:"text-center mb-8",children:[L.jsxs("h2",{className:"text-3xl font-bold text-sky-400 mb-2 flex items-center justify-center gap-3",children:[L.jsx(BI,{size:32})," DEBATE"]}),L.jsx("p",{className:"text-slate-400",children:"Discutid quin es el impostor."})]}),e[0]=c):c=e[0];let d;e[1]!==i.players?(d=i.players.map(uN),e[1]=i.players,e[2]=d):d=e[2];let g;e[3]!==d?(g=L.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 mb-8",children:d}),e[3]=d,e[4]=g):g=e[4];let _;e[5]!==a||e[6]!==l?(_=a?L.jsxs("div",{className:"mt-auto w-full",children:[L.jsxs("button",{onClick:l,className:"w-full py-4 bg-orange-600 hover:bg-orange-500 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 transition",children:[L.jsx(og,{size:24})," INICIAR VOTACIN"]}),L.jsx("p",{className:"text-center text-xs text-slate-500 mt-2",children:"Pulsa cuando queris dejar de hablar y votar."})]}):L.jsx("div",{className:"mt-auto text-center animate-pulse text-slate-500 bg-slate-800/50 px-6 py-3 rounded-full border border-slate-700",children:"Esperando al anfitrin para votar..."}),e[5]=a,e[6]=l,e[7]=_):_=e[7];let p;return e[8]!==g||e[9]!==_?(p=L.jsxs("main",{className:"flex-1 p-6 flex flex-col max-w-2xl mx-auto w-full",children:[c,g,_]}),e[8]=g,e[9]=_,e[10]=p):p=e[10],p};function uN(r){return L.jsxs("div",{className:`p-4 rounded-xl border flex flex-col items-center justify-center text-center transition-all ${r.isDead?"bg-slate-800/50 border-slate-700 opacity-50":"bg-slate-800 border-slate-600"}`,children:[L.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mb-2 ${r.isDead?"bg-slate-700":"bg-sky-900 text-sky-400"}`,children:r.isDead?L.jsx(kl,{size:24}):L.jsx(og,{size:24})}),L.jsx("span",{className:"font-bold truncate w-full",children:r.name}),r.isDead&&L.jsx("span",{className:"text-xs text-red-400",children:"Eliminado"})]},r.id)}function cN(){const[r,e]=Ht.useState(null),[i,a]=Ht.useState(""),[l,c]=Ht.useState(""),[d,g]=Ht.useState(null),[_,p]=Ht.useState(""),[S,A]=Ht.useState(!1),[D,q]=Ht.useState(1),[Z,W]=Ht.useState("Normal");Ht.useEffect(()=>{const b=localStorage.getItem("impostorGameCode");b&&a(b)},[]),Ht.useEffect(()=>{Gb(l0).catch(he=>console.error("Error auth:",he));const b=Zb(l0,he=>e(he));return()=>b()},[]),Ht.useEffect(()=>{if(!r||!i)return;const b=Si(Ai,"games",`game_${i.toUpperCase()}`),he=bI(b,me=>{if(me.exists()){const j=me.data();g(j),p(""),r&&j.hostId===r.uid&&j.status==="playing"&&j.endTime&&Date.now()>j.endTime&&je()}else g(null),p("La partida ha sido cerrada o no existe."),localStorage.removeItem("impostorGameCode"),setTimeout(()=>a(""),3e3)},me=>{console.error("Error fetching game:",me),p("Error de conexin con la partida.")});return()=>he()},[r,i]);const $=()=>{const b="ABCDEFGHIJKLMNOPQRSTUVWXYZ";let he="";for(let me=0;me<4;me++)he+=b.charAt(Math.floor(Math.random()*b.length));return he},le=async()=>{if(!r)return;if(!l.trim()){p("Necesitas un nombre.");return}A(!0);const b=$(),he={code:b,hostId:r.uid,status:"lobby",settings:{numImpostors:D,dictionary:Z},currentWord:"",players:[{id:r.uid,name:l,isImpostor:!1,isDead:!1,votes:0,hasVoted:!1}],lastEliminated:null,winner:null,createdAt:new Date};try{await AI(Si(Ai,"games",`game_${b}`),he),a(b),localStorage.setItem("impostorGameCode",b),p("")}catch(me){console.error(me),p("Error creando partida.")}A(!1)},de=async b=>{if(!r)return;if(!l.trim()){p("Necesitas un nombre.");return}if(!b){p("Introduce un cdigo.");return}A(!0);const he=b.toUpperCase(),me=Si(Ai,"games",`game_${he}`);try{const j=await SI(me);if(j.exists()){const ee=j.data();if(ee.status!=="lobby")p("La partida ya ha comenzado.");else{if(!ee.players.find(_e=>_e.id===r.uid)){const _e={id:r.uid,name:l,isImpostor:!1,isDead:!1,votes:0,hasVoted:!1};await Hs(me,{players:wI(_e)})}a(he),localStorage.setItem("impostorGameCode",he),p("")}}else p("Partida no encontrada.")}catch(j){console.error(j),p("Error unindose a la partida.")}A(!1)},re=async()=>{if(!d)return;const b=u0[d.settings.dictionary],he=b[Math.floor(Math.random()*b.length)];let me=[...d.players];me=me.map(_e=>({..._e,isImpostor:!1,isDead:!1,votes:0,voters:[],hasVoted:!1}));let j=0;const ee=Math.min(d.settings.numImpostors,Math.floor(me.length/2));for(;j<ee;){const _e=Math.floor(Math.random()*me.length);me[_e].isImpostor||(me[_e].isImpostor=!0,j++)}const ie=Si(Ai,"games",`game_${i.toUpperCase()}`);await Hs(ie,{status:"playing",currentWord:he,players:me,winner:null,lastEliminated:null})},De=async()=>{const b=Si(Ai,"games",`game_${i.toUpperCase()}`);await Hs(b,{status:"discussion"})},je=async()=>{const b=Si(Ai,"games",`game_${i.toUpperCase()}`);await Hs(b,{status:"voting"})},we=async b=>{if(!d||!r)return;const he=d.players.find(ie=>ie.id===r.uid);if(he.isDead||he.hasVoted)return;const me=he.name,j=d.players.map(ie=>ie.id===b?{...ie,votes:ie.votes+1,voters:[...ie.voters||[],me]}:ie.id===r.uid?{...ie,hasVoted:!0}:ie),ee=Si(Ai,"games",`game_${i.toUpperCase()}`);await Hs(ee,{players:j})},I=async()=>{if(!d)return;let b=-1,he=null,me=!1;d.players.forEach(N=>{N.isDead||(N.votes>b?(b=N.votes,he=N,me=!1):N.votes===b&&(me=!0))});let j=[...d.players],ee=null;he&&!me?j=j.map(N=>N.id===he.id?{...N,isDead:!0}:N):he=null;const ie=j.filter(N=>N.isImpostor&&!N.isDead).length,_e=j.filter(N=>!N.isImpostor&&!N.isDead).length;ie===0?ee="crew":ie>=_e&&(ee="impostors");const Oe=Si(Ai,"games",`game_${i.toUpperCase()}`);await Hs(Oe,{status:"results",players:j,lastEliminated:he,winner:ee})},w=async()=>{if(!d)return;const b=d.players.map(me=>({...me,votes:0,voters:[],hasVoted:!1})),he=Si(Ai,"games",`game_${i.toUpperCase()}`);await Hs(he,{status:"discussion",players:b,lastEliminated:null})},R=async()=>{const b=Si(Ai,"games",`game_${i.toUpperCase()}`);await Hs(b,{status:"lobby",winner:null,lastEliminated:null})},x=()=>{a(""),g(null),localStorage.removeItem("impostorGameCode")};if(!i||!d)return L.jsx($I,{playerName:l,setPlayerName:c,joinGame:de,createGame:le,numImpostors:D,setNumImpostors:q,dictionary:Z,setDictionary:W,loading:S,error:_,dictionaries:u0});const O=r&&d.hostId===r.uid,V=r&&d.players.find(b=>b.id===r.uid)||{};return L.jsxs("div",{className:"min-h-screen bg-slate-900 text-white flex flex-col font-sans",children:[L.jsx(JI,{gameCode:i,onExit:x}),d.status==="lobby"&&L.jsx(eN,{gameState:d,user:r,startGame:re,isHost:O}),d.status==="playing"&&L.jsx(tN,{gameState:d,myPlayer:V,isHost:O,startDebate:De}),d.status==="discussion"&&L.jsx(lN,{gameState:d,isHost:O,startVoting:je}),d.status==="voting"&&L.jsx(nN,{gameState:d,user:r,myPlayer:V,isHost:O,castVote:we,endVoting:I}),d.status==="results"&&L.jsx(iN,{gameState:d,isHost:O,backToLobby:R,nextRound:w})]})}wS.createRoot(document.getElementById("root")).render(L.jsx(Ht.StrictMode,{children:L.jsx(cN,{})}));
